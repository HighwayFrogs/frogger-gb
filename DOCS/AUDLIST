
0001            home    equ     1
0000            
0000                    include audio.inc
0000            
0000            ;****************************************
0000            ;*                                                                      *
0000            ;*                      AUDIO.INC                               *
0000            ;*                                                                      *
0000            ;*                                                                              *
0000            ;*      Audio Equate Definition File    *
0000            ;*                                                                              *
0000            ;* Copyright (c) 1991 Imagineering, Inc.*
0000            ;*                                                                              *
0000            ;****************************************
0000            ;
0000            ;
0000            ;    Prepared for Imagineering, Inc. by
0000            ;
0000            ;       Stuart E. Ross
0000            ;       New Potato Technologies
0000            ;       P.O. Box 187
0000            ;       Danbury, CT  06813
0000            ;
0000            ;       TEL:  (203) 746-9040
0000            ;       FAX:  (203) 746-6929
0000            ;
0000            
0000            ;----------------------------------------
0000            
00C0            :dtym   equ     $c0             ;duty bits mask
003F            :dtyc   equ     dtym^$ff    ;duty bits clear
0000            :dty0   equ     $00             ;duty values, tinniest
0040            :dty1   equ     $40             ;tinny
0080            :dty2   equ     $80             ;deepest
00C0            :dty3   equ     $c0             ;deep
0000                                                    ;00x0 0000 continuous(1)/length counter(0)
0000            
0000            ;:contm  equ     $20            ;continuous/counted sound bit mask
0000            ;:contc  equ     contm^$ff  ;countinuous/counted sound bit clear
0000            ;:ctn    equ     $20            ;continuous sound bit enable
0000            ;:cnt    equ     $00            ;counted sound bit enable
0000                                                    ;000x 0000 envelope(0)/amplitude gain(1)
0000            ;:envenm equ     $10            ;envelope/amplitude sound bit mask
0000            ;:envenc equ     envenm^$ff ;envelope/amplitude sound bit clear
0000            ;:amp    equ     $10            ;amplitude sound bit enable
0000            ;:env    equ     $00            ;envelope sound bit enable
0000                                                    ;0000 xxxx a) envelope damping rate
0000                                                    ;                  b) amplitude gain
0000            ;:envm   equ     $0f            ;envelope bit mask
0000            ;:envc   equ     envm^$ff   ;envelope bit clear
0000            ;:ampm   equ     envm           ;amplitude bit mask
0000            ;:ampc   equ     ampm^$ff   ;amplitude bit clear
0000            :env00  equ     $00                     ;envelope values
0001            :env01  equ     $01
0002            :env02  equ     $02
0003            :env03  equ     $03
0004            :env04  equ     $04
0005            :env05  equ     $05
0006            :env06  equ     $06
0007            :env07  equ     $07
0008            :env08  equ     $08
0009            :env09  equ     $09
000A            :env10  equ     $0a
000B            :env11  equ     $0b
000C            :env12  equ     $0c
000D            :env13  equ     $0d
000E            :env14  equ     $0e
000F            :env15  equ     $0f
0000            :amp00  equ     env00   ;amplitude values (same as envelope)
0001            :amp01  equ     env01
0002            :amp02  equ     env02
0003            :amp03  equ     env03
0004            :amp04  equ     env04
0005            :amp05  equ     env05
0006            :amp06  equ     env06
0007            :amp07  equ     env07
0008            :amp08  equ     env08
0009            :amp09  equ     env09
000A            :amp10  equ     env10
000B            :amp11  equ     env11
000C            :amp12  equ     env12
000D            :amp13  equ     env13
000E            :amp14  equ     env14
000F            :amp15  equ     env15
0000            ;
0000            ;----------------------------------------------------------------------------
0000            ;:lenm   equ     $f8     ;length counter bit mask
0000            ;:lenc   equ     lenm^$ff        ;length counter bit clear
0000            ;:len05f equ     $00*8   ;length counter values (decimal frame label)
0000            ;:len127f        equ     $01*8
0010            :len10f equ     $02*8
0018            :len01f equ     $03*8
0020            :len20f equ     $04*8
0028            :len02f equ     $05*8
0030            :len40f equ     $06*8
0038            :len03f equ     $07*8
0040            :len80f equ     $08*8
0048            :len04f equ     $09*8
0050            :len30f equ     $0a*8
0058            :len05bf        equ     $0b*8
0060            :len07f equ     $0c*8
0068            :len06f equ     $0d*8
0070            :len13f equ     $0e*8
0078            :len07bf        equ     $0f*8
0080            :len06bf        equ     $10*8   ;length counter values (decimal frame label)
0088            :len08f equ     $11*8
0090            :len12f equ     $12*8
0098            :len09f equ     $13*8
00A0            :len24f equ     $14*8
00A8            :len10bf        equ     $15*8
00B0            :len48f equ     $16*8
00B8            :len11f equ     $17*8
00C0            :len96f equ     $18*8
00C8            :len12bf        equ     $19*8
00D0            :len36f equ     $1a*8
00D8            :len13bf        equ     $1b*8
00E0            :len08bf        equ     $1c*8
00E8            :len14f equ     $1d*8
00F0            :len16f equ     $1e*8
00F8            :len15f equ     $1f*8
0000                                                    ;0000 0xxx frequency high
0007            :frqhm  equ     $07                     ;frequency high bit mask
00F8            :frqhc  equ     frqhm^$ff       ;frequency high bit clear
0000            :fqh0   equ     $00                     ;frequency high values
0001            :fqh1   equ     $01
0002            :fqh2   equ     $02
0003            :fqh3   equ     $03
0004            :fqh4   equ     $04
0005            :fqh5   equ     $05
0006            :fqh6   equ     $06
0007            :fqh7   equ     $07
0000            
0080            :modmask        equ     $80
007F            :modclr equ     modmask^$ff
0000            
0000            ;----------------------------------------------------------------------------
0000            
0000            ;****************************
0000            ;*      driver equates          *
0000            ;****************************
0000            
0000            :att    equ     $00*$40                         ;sound stage type equates
0040            :dcy    equ     $01*$40
0080            :sus    equ     $02*$40
00C0            :rel    equ     $03*$40
0000            
0000            :edr00  equ     (env15+1)/4 * 00        ;envelope durations
0004            :edr01  equ     (env15+1)/4 * 01        
0008            :edr02  equ     (env15+1)/4 * 02        
000C            :edr03  equ     (env15+1)/4 * 03        
0010            :edr04  equ     (env15+1)/4 * 04        
0014            :edr05  equ     (env15+1)/4 * 05        
0018            :edr06  equ     (env15+1)/4 * 06        
001C            :edr07  equ     (env15+1)/4 * 07        
0020            :edr08  equ     (env15+1)/4 * 08        
0024            :edr09  equ     (env15+1)/4 * 09        
0028            :edr10  equ     (env15+1)/4 * 10        
002C            :edr11  equ     (env15+1)/4 * 11        
0030            :edr12  equ     (env15+1)/4 * 12        
0034            :edr13  equ     (env15+1)/4 * 13        
0038            :edr14  equ     (env15+1)/4 * 14        
003C            :edr15  equ     (env15+1)/4 * 15 
0000            
0001            :att00  equ     $01                                     ;attack speeds
0002            :att01  equ     $02     
0003            :att02  equ     $03     
0004            :att03  equ     $04     
0005            :att04  equ     $05     
0006            :att05  equ     $06     
0007            :att06  equ     $07     
0008            :att07  equ     $08     
0009            :att08  equ     $09     
000A            :att09  equ     $0a     
000B            :att10  equ     $0b     
000C            :att11  equ     $0c     
000D            :att12  equ     $0d     
000E            :att13  equ     $0e     
000F            :att14  equ     $0f     
0010            :att15  equ     $10     
0000            
00F1            :sustok equ     $f1                                     ;sustain token byte in envelope stream
0000            
0000            ;       Pitch frequency values
0000            
0358            :an1v   equ     856                             ;chromatic pitch values
039B            :as1v   equ     923
03DA            :bn1v   equ     986
002C            :cn2v   equ     44      ;2nd octave
009D            :cs2v   equ     157
0107            :dn2v   equ     263
016B            :ds2v   equ     363
01C9            :en2v   equ     457
0223            :fn2v   equ     547
0277            :fs2v   equ     631
02C7            :gn2v   equ     711
0312            :gs2v   equ     786
0358            :an2v   equ     856
039B            :as2v   equ     923
03DA            :bn2v   equ     986
0416            :cn3v   equ     1046    ;3rd octave
044E            :cs3v   equ     1102
0483            :dn3v   equ     1155
04B5            :ds3v   equ     1205
04E5            :en3v   equ     1253
0511            :fn3v   equ     1297
053B            :fs3v   equ     1339
0563            :gn3v   equ     1379
0589            :gs3v   equ     1417
05AC            :an3v   equ     1452
05CE            :as3v   equ     1486
05ED            :bn3v   equ     1517
060B            :cn4v   equ     1547    ;4th octave
0627            :cs4v   equ     1575
0642            :dn4v   equ     1602
065B            :ds4v   equ     1627
0672            :en4v   equ     1650
0689            :fn4v   equ     1673
069E            :fs4v   equ     1694
06B2            :gn4v   equ     1714
06C4            :gs4v   equ     1732
06D6            :an4v   equ     1750
06E7            :as4v   equ     1767
06F7            :bn4v   equ     1783
0706            :cn5v   equ     1798    ;5th octave
0714            :cs5v   equ     1812
0721            :dn5v   equ     1825
072D            :ds5v   equ     1837
0739            :en5v   equ     1849
0744            :fn5v   equ     1860
074F            :fs5v   equ     1871
0759            :gn5v   equ     1881
0762            :gs5v   equ     1890
076B            :an5v   equ     1899
0773            :as5v   equ     1907
077B            :bn5v   equ     1915
0783            :cn6v   equ     1923    ;6th octave
078A            :cs6v   equ     1930
0790            :dn6v   equ     1936
0797            :ds6v   equ     1943
079D            :en6v   equ     1949
07A2            :fn6v   equ     1954
07A7            :fs6v   equ     1959
07AC            :gn6v   equ     1964
07B1            :gs6v   equ     1969
07B6            :an6v   equ     1974
07BA            :as6v   equ     1978
07BE            :bn6v   equ     1982
07FE            :rstv   equ     2046    ;silent rest freq
0000            
0000            ;       Pitch indexes
0000            
0000            :an1    equ     $00     ;chromatic pitch values
0001            :as1    equ     $01
0002            :bn1    equ     $02
0003            :cn2    equ     $03     ;2nd octave
0004            :cs2    equ     $04
0005            :dn2    equ     $05
0006            :ds2    equ     $06
0007            :en2    equ     $07
0008            :fn2    equ     $08
0009            :fs2    equ     $09
000A            :gn2    equ     $0a
000B            :gs2    equ     $0b
000C            :an2    equ     $0c
000D            :as2    equ     $0d
000E            :bn2    equ     $0e
000F            :cn3    equ     $0f     ;3rd octave
0010            :cs3    equ     $10
0011            :dn3    equ     $11
0012            :ds3    equ     $12
0013            :en3    equ     $13
0014            :fn3    equ     $14
0015            :fs3    equ     $15
0016            :gn3    equ     $16
0017            :gs3    equ     $17
0018            :an3    equ     $18
0019            :as3    equ     $19
001A            :bn3    equ     $1a
001B            :cn4    equ     $1b     ;4th octave
001C            :cs4    equ     $1c
001D            :dn4    equ     $1d
001E            :ds4    equ     $1e
001F            :en4    equ     $1f
0020            :fn4    equ     $20
0021            :fs4    equ     $21
0022            :gn4    equ     $22
0023            :gs4    equ     $23
0024            :an4    equ     $24
0025            :as4    equ     $25
0026            :bn4    equ     $26
0027            :cn5    equ     $27     ;5th octave
0028            :cs5    equ     $28
0029            :dn5    equ     $29
002A            :ds5    equ     $2a
002B            :en5    equ     $2b
002C            :fn5    equ     $2c
002D            :fs5    equ     $2d
002E            :gn5    equ     $2e
002F            :gs5    equ     $2f
0030            :an5    equ     $30
0031            :as5    equ     $31
0032            :bn5    equ     $32
0033            :cn6    equ     $33     ;6th octave
0034            :cs6    equ     $34
0035            :dn6    equ     $35
0036            :ds6    equ     $36
0037            :en6    equ     $37
0038            :fn6    equ     $38
0039            :fs6    equ     $39
003A            :gn6    equ     $3a
003B            :gs6    equ     $3b
003C            :an6    equ     $3c
003D            :as6    equ     $3d
003E            :bn6    equ     $3e
003F            :.rst   equ     $3f
0000            
00FF            :endsng equ     $00ff
0000            :sloop0 equ     $0000
0001            :sloop1 equ     $0001
0002            :sloop2 equ     $0002
0003            :sloop3 equ     $0003
0000            :mend   equ     $0000
0100            :mloop  equ     $0100
0000            
0001            :dt     equ     $01     ;duty sweep special effect
0080            :tt     equ     $80     ;tie bit (added to pitch)
0040            :ss     equ     $40     ;sustain bit (added to pitch)
00FF            :prgcng equ     $ff     ;program change event: intrument, effects
0000            
0000            :normal         equ     $00     ;special effects
0001            :sweep1         equ     $01
0002            :vibrat1        equ     $02     ;loose vibrato
0003            :vibrat2        equ     $03
0004            :sweep2         equ     $04
0005            :vibrat3        equ     $05
0006            :tremo1         equ     $06
0007            :pbend1         equ     $07
0008            :pbend2         equ     $08
0000            
0000            :violin1        equ     $00
0001            :piano1 equ     $01
0002            :guitar1        equ     $02
0003            :whirl1 equ     $03     ;+ vibrato
0003            :flute1 equ     $03
0004            :trump1 equ     $04
0006            :bass1  equ     $06
0000            
0000            ;
0000            ;       DMG sound registers addresses
0000            ;
0000            
FF10            nr10    equ     $FF10           ; sound-1       sweep
FF11            nr11    equ     $FF11           ;               duty/length
FF12            nr12    equ     $FF12           ;               envelope
FF13            nr13    equ     $FF13           ;               frequency (low byte)
FF14            nr14    equ     $FF14           ;               frequency (high byte)
0000            
FF16            nr21    equ     $FF16           ; sound-2       duty/length
FF17            nr22    equ     $FF17           ;               envelope
FF18            nr23    equ     $FF18           ;               frequency (low byte)
FF19            nr24    equ     $FF19           ;               frequency (high byte)
0000            
FF1A            nr30    equ     $FF1A           ; sound-3       off
FF1B            nr31    equ     $FF1B           ;               length
FF1C            nr32    equ     $FF1C           ;               output level
FF1D            nr33    equ     $FF1D           ;               frequency (low byte)
FF1E            nr34    equ     $FF1E           ;               frequency (high byte)
0000            
FF20            nr41    equ     $FF20           ; sound-3(4?)   length
FF21            nr42    equ     $FF21           ;               envelope
FF22            nr43    equ     $FF22           ;               frequency
FF23            nr44    equ     $FF23           ;               ionitial/sequence
0000            
FF24            nr50    equ     $FF24           ;so1/so2 level
FF25            nr51    equ     $FF25           ;so1/so2 allocation
FF26            nr52    equ     $FF26           ;end flag
0000            
FF30            wfram   equ     $FF30           ;wave form RAM
0000            
0000            ;
0000            ;--------------------------------------
0000            ;
0000                    ifdef   bart
0000                    endif
0000            ;
0000            ;--------------------------------------
0000            ;
0000                    ifdef   turn
0000                    endif
0000            ;
0000            ;--------------------------------------
0000            ;
0001                    ifdef   home
0000                    ifdef   devapd
0000                    else
0000                    include frogdef.snd
0000            
0000            ;****************************************
0000            ;*                                                              *
0000            ;*            HOMEDEF.SND                               *
0000            ;*                                                              *
0000            ;*       "Home Alone - GameBoy"                 *
0000            ;*                                                              *
0000            ;*     SOUND AND MUSIC DEFINITIONS              *
0000            ;*                                                              *
0000            ;* Copyright (c) 1991 Imagineering, Inc.*
0000            ;*                                                              *
0000            ;****************************************
0000            ;
0000            ;
0000            ;   Prepared for Imagineering, Inc. by
0000            ;
0000            ;       Stuart E. Ross
0000            ;       New Potato Technologies
0000            ;       P.O. Box 187
0000            ;       Danbury, CT  06813
0000            ;
0000            ;       TEL:  (203) 746-9040
0000            ;       FAX:  (203) 746-6929
0000            ;
0000            
0000            ;--------------------------------
0000            ;   HOMEII Song Definitions
0000            ;--------------------------------
0000            
0000            ;       setting these to 0 will snub out a song
0000            
0001            song1   equ     1                       ;theme song
0001            song2   equ     1                       ;nutRUN
0001            song3   equ     1                       ;RUNchuka
0001            song4   equ     1                       ;spookRUN
0001            song5   equ     1                       ;DEAD
0001            song6   equ     1                       ;acomplsh
0001            song7   equ     1                       ;memryRUN
0000            
0001            min_song_id equ $01
0007            max_song_id equ $07
0000            
0001            themsng         equ     $01             ; song1
0002            nutsng          equ     $02             ; song2
0003            chucksng        equ     $03             ; song3
0004            spooksng        equ     $04             ; song4
0005            deadsng         equ     $05             ; song5
0006            acmpsng         equ     $06             ; song6
0007            memrysng        equ     $07             ; song7
0000            
0000            ;--------------------------------
0000            ;   HOME Sound Definitions
0000            ;--------------------------------
0000            
0000            min_snd_id equ $00
000E            max_snd_id equ $0e
0000            
0000            ;
0000            
0080            sx_open         equ     $80             ; Open door or drawer                    
0081            sx_glitter      equ     $81             ; Tooth glitter on game over             
0082            sx_boyhit       equ     $82             ; Boy takes a hit                        
0083            sx_enmyhit      equ     $83             ; Enemy takes a hit                      
0084            sx_enmygone     equ     $84             ; Enemy removed                          
0085            sx_bosshit      equ     $85             ; Boss enemy hit                         
0086            sx_treasure     equ     $86             ; Boy gets treasure                      
0087            sx_boygets      equ     $87             ; Boy gets item  (weapon, coin, etc.)    
0088            sx_dropchute    equ     $88             ; Drop item in chute                     
0089            sx_objfall      equ     $89             ; General falling object sound           
008A            sx_thump        equ     $8a             ; General thump (bowling ball, etc.)     
008B            sx_oneup        equ     $8b             ; One-up                                 
008C            sx_button       equ     $8c             ; Select/start                           
008D            sx_bigboom      equ     $8d             ; big explosion
008E            sx_bonus        equ     $8e             ; bonus award
0000            
0000            ;
0000            ^Z
0000            
0000                    endif
0000                    endif
0000            ;
0000            ;--------------------------------------
0000            ;
0000            ;
0000            
0000            ^Z
0000            
0000            
C0A0                    org     $C0A0
C0A0                    include "audionff.aud"  ;music handler main RAM
C0A0            
C0A0            ; file: audionffp.aud
C0A0            
C0A0            ; This file contains non-FF page declarations for game variables.
C0A0            ;
C0A0            ;********************************
C0A0            ;*  audio absolute variables    *
C0A0            ;********************************
C0A0            ;
C0A0            abram
C0A0            
C0A0            ;       global audio variables
C0A0            
0001            sndlock ds      1               ;sound lock out flags snd4,snd3,snd2,snd1
C0A1            
C0A1            ;       sound variables
C0A1            
0001            numsnds ds      1               ;number of sounds in queue
0001            sndindx ds      1               ;queue index for processing
0004            sndtype ds      4               ;sound effect ID list
0008            sndpnt  ds      4*2             ;sound routine vector table
0004            sndcnt  ds      4               ;sound counters
0004            sndmsk  ds      4               ;sound enable masks
C0B7            
C0B7            ;       music variables
C0B7            
0001            sngnum  ds      1               ;song number
C0B8            
C0B8            sqini                           ;initialized section
C0B8            
0004            insnum  ds      4               ;instrument number
0004            pitch   ds      4       ;pitch trigger temp
0004            mtime   ds      4               ;time length of event
C0C4            
0004            cntmes  ds      4       ;repeat measure loop counters
C0C8            
0004            duty    ds      4       ;DMG duties
0004            freqla  ds      4       ;DMG freq low
0004            freqha  ds      4               ;DMG freq high
0004            vol     ds      4       ;DMG volume
0004            pan     ds      4       ;DMG pan control
C0DC            
0003            suscnt  ds      3               ;sustain counter for 3 drivers
0003            envcnt  ds      3               ;envelope counter for 3 drivers
0003            spec    ds      3               ;special effects
0003            specnt  ds      3               ;special effects counters
0003            tie     ds      3               ;tie situations
0003            dur     ds      3               ;duration of key
0003            susdur  ds      3               ;sus dur for sustained instruments
0002            mentron ds      2       ;software mentronom for tag sync
C0F3            
0001            tempo   ds      1               ;song tempos
0001            tfract  ds      1               ;tempo speed fraction
0001            drumnum ds      1       ;white drum number;
0001            drumcnt ds      1               ;white drum number
0001            stflag  ds      1               ;song just started flag
0001            tflag   ds      1               ;tempo roll temp
C0F9            
C0F9            sqinix
C0F9            
0001            npt_clk ds      1               ; music aux timer / clock
C0FA            
0001            stingf  ds      1       ;stinger flag
C0FB            
C0FB            ;
C0FB            ;
C0FB            abramx
C0FB            ;
C0FB            ;
005B            absize  equ     abramx-abram
C0FB            ;
C0FB            ;****************
C0FB            ;* end of file  *
C0FB            ;****************
C0FB            
C0FB            
0000            ^Z
C0FB            
C0FB            
0000                    if $>$C0A0+$60
C0FB                    endif
C0FB            
C0FB            
FF8A                    org     $FF8A
FF8A            
FF8A                    include "audioffp.aud"  ;music handler $FF00 RAM
FF8A            
FF8A            ; file: audioffp.aud
FF8A            
FF8A            ; This file contains FF page declarations for game variables.
FF8A            ;
FF8A            ;**********************************
FF8A            ;* audio FF page variables    *
FF8A            ;**********************************
FF8A            ;
FF8A            zpram
FF8A            ;
FF8A            ;****************
FF8A            ;* pointers     *
FF8A            ;****************
FF8A            
0008            sngpt0          ds      8       ;measure list pointers for all drivers
FF92            
FF92            sqini2
FF92            sndtmp                                          ;temporary space for sound routines
FF92            syncpnt                         ;temporary mespnt setup pointer
0002            inspnt          ds      2       ;temporary instrument envelope pointer
FF94            
0002            sngpnt          ds      2       ;temp song pointer
0002            mslpnt          ds      2       ;temp measure list pointer
0002            mespnt          ds              2               ;measure pointer
0004            seqnum          ds              4               ;sequence number in song
0004            mesnum          ds              4               ;measure group number in sequence
0004            evtnum          ds      4       ;event number in measure group
0001            seqi            ds      1       ;temp sequence index
0001            mesi            ds      1       ;temp measure index
0001            evti            ds      1       ;temp event index
0001            ieflag          ds      1       ;increment event flag
FFAA            sqinix2
FFAA            
0001            stereo  ds      1               ;music channel allocation for nr51
FFAB            
0001            synct0  ds      1               ;interrupt temps
0001            synct1  ds      1
0001            synct2  ds      1
0001            synct3  ds      1
FFAF            
0001            asynt0  ds      1               ;asynchronous temps
0001            asynt1  ds      1
0001            asynt2  ds      1
FFB2            
FFB2            ;
FFB2            ;
FFB2            zpramx
0028            zpsize  equ     zpramx-zpram
FFB2            ;
FFB2            ;
FFB2            ;
0000            ^Z
FFB2            
FFB2            
0000                    if $>$FF8A+$30
FFB2                    endif
FFB2            
FFB2                    thisbank 2
4000                    org     $4000
4000            
4000 C30F40             jp      music
4003 C30747             jp      setseq
4006 C39647             jp      alloff
4009 C34445             jp      sound
400C C31145             jp      setsnd
400F            
400F                    include music.aud       ;music handler
400F            
400F            ;****************************************
400F            ;*                                                              *
400F            ;*             MUSIC.AUD                                *
400F            ;*                                                              *
400F            ;*      GameBoy Music Sub-System                *
400F            ;*                                                              *
400F            ;*                                                              *
400F            ;* Copyright (c) 1991 Imagineering, Inc.*
400F            ;*                                                              *
400F            ;****************************************
400F            ;
400F            ;
400F            ;    Prepared for Imagineering, Inc. by
400F            ;    
400F            ;       Stuart E. Ross
400F            ;       New Potato Technologies
400F            ;       P.O. Box 187
400F            ;       Danbury, CT  06813
400F            ;
400F            ;       TEL:  (203) 746-9040
400F            ;       FAX:  (203) 746-6929
400F            ;
400F            ;
400F            ;--------------------------------------
400F            
400F            ;--------------------------------------
400F            ;       
400F            ;       Music Main Handler - 60Hz
400F            ;       
400F            ;--------------------------------------
400F            
400F            musicstart                                      ; size start
400F            
400F            music
400F            
400F            ;       music currently active?
400F            
400F 21F9C0             ld      hl,npt_clk              ; general purpose timer
4012 34                 inc     (hl)
4013            
4013 7E                 ld      a,(hl)                  ; pass over delay?
4014 E600               and     %0000000
4016 C0                 ret     nz
4017            
4017 FAB7C0             ld      a,(sngnum)      ; song playing?
401A B7                 or      a
401B C8                 ret     z
401C            
401C            ;       increment the metronome
401C            
401C AF                 xor     a                               ; clear b,d
401D 47                 ld      b,a
401E 57                 ld      d,a
401F            
401F FAF3C0             ld      a,(tempo)       ;increment pulse clock a fractional amount
4022 21F4C0             ld      hl,tfract
4025 86                 add     a,(hl)
4026 77                 ld      (hl),a
4027            
4027 21F8C0             ld      hl,tflag        ;tflag holds carry of fractional addition
402A CB1E               rr      (hl)
402C CB7E               bit     7,(hl)
402E 280D       l0      jr      z,l1
4030            
4030 21F2C0             ld      hl,mentron+1    ;do 96 pulse/measure mentronome
4033 34                 inc     (hl)
4034 7E                 ld      a,(hl)          ;compare integer part of mentron with 96
4035 FE61               cp      96+1            ;if under 96 pulses,
4037 3804               jr      c,l1            ;then done
4039            
4039 3E01               ld      a,1             ;else reset mentron+1 to 1
403B 32                 ld      (hld),a
403C 34                 inc     (hl)            ;and inc hi byte
403D            l1
403D            
403D            ;       Init driver service loop
403D            
403D 0E03               ld      c,3             ;handle each driver, 3 .. 0
403F            ;       
403F            ;
403F            ;       Main  driver service loop
403F            ;
403F            
403F            musloop
403F            
403F            ;       handle muted channels
403F            
403F 21C447             ld      hl,mute                 ; build pointer into mute table
4042 FAB7C0             ld      a,(sngnum)
4045 CB27               sla     a
4047 CB27               sla     a
4049 81                 add     a,c                             ; check driver status
404A 5F                 ld      e,a
404B 19                 add     hl,de
404C CB7E               bit     7,(hl)                  ; mute if neg
404E 2015               jr      nz,nextdrv
4050            
4050            ;       next tick to process?  (this should be at outside of loop)
4050            
4050 21F8C0             ld      hl,tflag        ;if tflag, metronome has ticked
4053 CB7E               bit     7,(hl)
4055 280E               jr      z,nextdrv       ;then skip sequencing
4057            
4057            ;       process next tick for this driver
4057            
4057 21C0C0             ld      hl,mtime        ;dec time for this driver
405A 09                 add     hl,bc
405B 35                 dec     (hl)
405C 2004               jr      nz,ml0
405E            
405E            ;       process next event
405E            
405E CD7140             call    next_event
4061 D8                 ret     c               ;else if carry, song over
4062            
4062            ;       process current event
4062            
4062 CD7841     ml0     call    current_event
4065            
4065            ;       next driver please!
4065            
4065 0D         nextdrv dec     c               ;next driver
4066 CB79               bit     7,c             ;loop until negative driver number
4068 CA3F40             jp      z,musloop
406B            
406B            musend
406B 21F7C0             ld      hl,stflag       ;clear stflag
406E CB3E               srl     (hl)
4070            none
4070 C9                 ret
4071            
4071            ;----------------------------------------------
4071            ;       
4071            ;    NEXT_EVENT
4071            ;
4071            ;    Initialize new event for current driver
4071            ;
4071            ;       bc - sound channel to hit
4071            ;
4071            ;       returns C - set: event started
4071            ;               C - clr: Song ended
4071            ;
4071            ;----------------------------------------------
4071            
4071            next_event
4071            
4071 FAF7C0             ld      a,(stflag)      ;copy start flag to inc event flag
4074 E0A9               ld      (ieflag),a      ;(if TRUE, inc event is supressed)
4076            
4076 219AFF             ld      hl,seqnum       ;temp store sequence index
4079 09                 add     hl,bc
407A 7E                 ld      a,(hl)
407B E0A6               ld      (seqi),a
407D            
407D 219EFF             ld      hl,mesnum       ;and measure index
4080 09                 add     hl,bc
4081 7E                 ld      a,(hl)
4082 E0A7               ld      (mesi),a
4084            
4084 21A2FF             ld      hl,evtnum       ;and measure index
4087 09                 add     hl,bc
4088 7E                 ld      a,(hl)
4089 E0A8               ld      (evti),a
408B            
408B 218AFF             ld      hl,sngpt0       ;lookup song pointer for this driver
408E 59                 ld      e,c
408F CB23               sla     e               ;index words
4091 19                 add     hl,de
4092            
4092 2A                 ld      a,(hli)
4093 E094               ld      (sngpnt),a
4095 7E                 ld      a,(hl)
4096 E095               ld      (sngpnt+1),a    ;put in sngpnt FF temp
4098            
4098 F0A6               ld      a,(seqi)        ;put sequence index into E
409A 5F                 ld      e,a
409B            
409B            nsire                           ;new sequence index ready in E
409B CB23               sla     e               ;index words
409D F094               ld      a,(sngpnt)      ;read measure list addr
409F 6F                 ld      l,a
40A0 F095               ld      a,(sngpnt+1)
40A2 67                 ld      h,a
40A3 19                 add     hl,de
40A4 2A                 ld      a,(hli)
40A5 E096               ld      (mslpnt),a
40A7 7E                 ld      a,(hl)
40A8 B7                 or      a               ;if high byte of measure list pointer
40A9 200C               jr      nz,normmlp      ;if not 0, then normal
40AB            
40AB F096               ld      a,(mslpnt)      ;else abnormal. regain low byte
40AD CB7F               bit     7,a             ;if minus,
40AF C22641             jp      nz,songover     ;song over
40B2            
40B2 5F                 ld      e,a             ;else revise sequence index
40B3 E0A6               ld      (seqi),a
40B5 18E4               jr      nsire           ;and go to "new sequence index ready in E"
40B7            
40B7            ;       normal measure list pointer
40B7            
40B7            normmlp                         ;here if normal measure list pointer
40B7 E097               ld      (mslpnt+1),a    ;and put in FF mslpnt
40B9            
40B9 F0A7               ld      a,(mesi)        ;put measure index into E
40BB 5F                 ld      e,a
40BC            
40BC            ;       measure index ready - process new measure
40BC            
40BC            mire                            ;measure index ready in E
40BC            
40BC CB23               sla     e               ;index words
40BE CB12               rl      d               ;>256 (re-zero d later)
40C0            
40C0 F096               ld      a,(mslpnt)
40C2 6F                 ld      l,a
40C3 F097               ld      a,(mslpnt+1)
40C5 67                 ld      h,a
40C6 19                 add     hl,de
40C7            
40C7 1600               ld      d,0             ;repair D reg to 0
40C9            
40C9 2A                 ld      a,(hli)
40CA E098               ld      (mespnt),a      ;store low measure pointer
40CC 7E                 ld      a,(hl)
40CD B7                 or      a               ;if not 0, then normal
40CE 200A               jr      nz,normmes
40D0            
40D0 AF                 xor     a               ;abnormal measure pointer. Zero
40D1 E0A7               ld      (mesi),a        ;measure index
40D3 21A6FF             ld      hl,seqi         ;inc sequence index
40D6 34                 inc     (hl)
40D7 5E                 ld      e,(hl)          ;put new sequence index in E
40D8 18C1               jr      nsire           ;jump new sequence index ready in E
40DA            
40DA            ;       normal mesure
40DA            
40DA            normmes                         ;here if normal measure
40DA E099               ld      (mespnt+1),a    ;save high mespnt
40DC            
40DC F0A8               ld      a,(evti)        ;point to event index
40DE            
40DE 21A9FF     l0      ld      hl,ieflag       ;if inc event flag TRUE,
40E1 CB7E               bit     7,(hl)
40E3 2006               jr      nz,l1           ;then don't inc event index.
40E5            
40E5 C603               add     a,3             ;else do (this passes the last valid note)
40E7 E0A8               ld      (evti),a
40E9 36FF               ld      (hl),$FF        ;and set ieflag to prevent any more incs
40EB            l1
40EB 5F                 ld      e,a             ;put event index into E
40EC            
40EC            ;       event index ready - process new event
40EC            
40EC            eire                            ;event index ready in E
40EC F098               ld      a,(mespnt)
40EE 6F                 ld      l,a
40EF F099               ld      a,(mespnt+1)
40F1 67                 ld      h,a
40F2 19                 add     hl,de
40F3            
40F3 2A                 ld      a,(hli)         ;read event time
40F4 B7                 or      a
40F5 2824               jr      z,endevt        ;if zero end of event list
40F7            
40F7 FEFF               cp      prgcng          ; program change?
40F9 2031               jr      nz,NoteRdy
40FB            
40FB            ;       program change event
40FB            
40FB            progchng
40FB            
40FB 5E                 ld      e,(hl)          ; fetch instrument spec index
40FC            
40FC 21E447             ld      hl,instyp               ; fetch instrument ID
40FF 19                 add     hl,de
4100 7E                 ld      a,(hl)
4101 E5                 push    hl
4102            
4102 E60F               and     $0f                             ; sixteen instruments
4104            
4104 21B8C0             ld      hl,insnum               ; save instrument ID
4107 09                 add     hl,bc
4108 77                 ld      (hl),a
4109            
4109 E1                 pop     hl                              ; fetch channel volume
410A 7E                 ld      a,(hl)                  
410B E6F0               and     $f0
410D            
410D 21D4C0             ld      hl,vol                  ; save channel volume
4110 09                 add     hl,bc
4111 77                 ld      (hl),a
4112            
4112 F0A8               ld      a,(evti)        ; pass this event
4114 C603               add     a,3
4116 E0A8               ld      (evti),a
4118 5F                 ld      e,a
4119 18D1               jr      eire            ; jump to "event index ready in E"
411B            
411B            ;       end of event list
411B            
411B            endevt                          ;here if the last event in a measure
411B AF                 xor     a               ;zero event index
411C E0A8               ld      (evti),a
411E F0A7               ld      a,(mesi)        ;inc measure index
4120 3C                 inc     a
4121 E0A7               ld      (mesi),a
4123 5F                 ld      e,a
4124 1896               jr      mire            ;jump to "measure index ready in E"
4126            
4126            ;       song is over
4126            
4126            songover
4126 AF                 xor     a               ;end the song
4127 CD0747             call    setseq
412A 37                 scf
412B C9                 ret
412C            
412C            ;-----------------------------------------------------------------
412C            ;
412C            ;       Start a new event process for this driver and instrument
412C            ;
412C            ;       a  - ticks to next event
412C            ;       bc - current driver
412C            ;       hl - pointing to pitch value in event
412C            ;
412C            ;       Event format:
412C            ;
412C            ;       Time            - ticks until start of next event
412C            ;       Note Value      - note/pitch to play
412C            ;       Duration        - tick count for duration
412C            ;
412C            ;-----------------------------------------------------------------
412C            
412C            NoteRdy                         ; event is ready to start
412C            
412C            ;       fetch event information
412C            
412C E5                 push    hl                      
412D            
412D 21C0C0             ld      hl,mtime        ; store time to next event
4130 09                 add     hl,bc
4131 77                 ld      (hl),a
4132            
4132 E1                 pop     hl                              ; get pitch, auto inc
4133 2A                 ld      a,(hli)         
4134 E5                 push    hl
4135            
4135 E63F               and     %00111111       ; low bits are note value
4137            
4137 21BCC0             ld      hl,pitch        ; store note value
413A 09                 add     hl,bc
413B 77                 ld      (hl),a
413C            
413C E1                 pop     hl                              ; get duration
413D 7E                 ld      a,(hl)          
413E            
413E 21EBC0             ld      hl,dur          ; store duration
4141 09                 add     hl,bc
4142 77                 ld      (hl),a
4143            
4143 21DFC0             ld      hl,envcnt       ; store duration into evncnt
4146 09                 add     hl,bc
4147 77                 ld      (hl),a
4148            
4148            ;       initiate event through instrument driver
4148            
4148 216141             ld      hl,doneNR               ; fix return/continue address
414B E5                 push    hl
414C            
414C 21B8C0             ld      hl,insnum       ; fetch instrument # for this ch
414F 09                 add     hl,bc
4150 7E                 ld      a,(hl)
4151 E60F               and     $0f                             ; sixteen instruments
4153 CB27               sla     a
4155 5F                 ld      e,a
4156            
4156 218D41             ld      hl,inst_init    ; base of instrument table
4159 19                 add     hl,de
415A            
415A 5E                 ld      e,(hl)                  ; fetch routine vector
415B 23                 inc     hl
415C 56                 ld      d,(hl)
415D            
415D D5                 push    de                              ; FUNKY indirect jump to start event
415E 1600               ld      d,0             ; repair D reg to 0
4160 C9                 ret
4161            
4161            ;       Finished with new event
4161            
4161            doneNR                          ;finish up
4161            
4161 219AFF             ld      hl,seqnum       ;store revised sequence index
4164 09                 add     hl,bc
4165 F0A6               ld      a,(seqi)
4167 77                 ld      (hl),a
4168            
4168 219EFF             ld      hl,mesnum       ;and measure index
416B 09                 add     hl,bc
416C F0A7               ld      a,(mesi)
416E 77                 ld      (hl),a
416F            
416F 21A2FF             ld      hl,evtnum       ;and event index
4172 09                 add     hl,bc
4173 F0A8               ld      a,(evti)
4175 77                 ld      (hl),a
4176            
4176 B7                 or      a               ;song in play - clear carry flag
4177 C9                 ret
4178            
4178            ;----------------------------------------------
4178            ;       
4178            ;    CURRENT_EVENT
4178            ;
4178            ;    Support current event for current driver
4178            ;
4178            ;       bc - sound channel to hit
4178            ;
4178            ;----------------------------------------------
4178            
4178            current_event
4178            
4178 21B8C0             ld      hl,insnum       ; fetch instrument # for this ch
417B 09                 add     hl,bc
417C 7E                 ld      a,(hl)
417D E60F               and     $0f                             ; sixteen insts
417F CB27               sla     a
4181 5F                 ld      e,a
4182            
4182 21A141             ld      hl,inst_play    ; base of routine table
4185 19                 add     hl,de
4186            
4186 5E                 ld      e,(hl)                  ; fetch routine vector
4187 23                 inc     hl
4188 56                 ld      d,(hl)
4189            
4189 D5                 push    de                              ; FUNKY indirect jump to start event
418A 1600               ld      d,0             ; repair D reg to 0
418C C9                 ret
418D            
418D            ;-------------------------------
418D            ;
418D            ;    Include Instrument Kit
418D            ;
418D            ;-------------------------------
418D            
418D                    include inst.aud
418D            
418D            ;****************************************
418D            ;*                                                              *
418D            ;*             INST.AUD                         *
418D            ;*                                                              *
418D            ;*     GameBoy Instrument Drivers       *
418D            ;*                                                              *
418D            ;*      GameBoy Music Sub-System                *
418D            ;*                                                              *
418D            ;* Copyright (c) 1991 Imagineering, Inc.*
418D            ;*                                                              *
418D            ;****************************************
418D            ;
418D            ;
418D            ;    Prepared for Imagineering, Inc. by
418D            ;    
418D            ;       Stuart E. Ross
418D            ;       New Potato Technologies
418D            ;       P.O. Box 187
418D            ;       Danbury, CT  06813
418D            ;
418D            ;       TEL:  (203) 746-9040
418D            ;       FAX:  (203) 746-6929
418D            ;
418D            ;
418D            ;--------------------------------------
418D            
418D            inststart                                       ; size start
418D            
418D            ;-------------------------------
418D            ;     Instrument Equates
418D            ;-------------------------------
418D            
0000            I_DRUMKIT       equ     $00
0001            I_BASIC         equ     $01
0002            I_PLUKBASS      equ     $02
0003            I_PLUKBASSX     equ     $03
0004            I_PLUKSTR1      equ     $04
0005            I_PLUKSTR2      equ     $05
0005            I_PLUKSTRX      equ     $05
0006            I_VIBE1         equ     $06
0007            I_VIBE2         equ     $07
0008            I_VIBE3         equ     $08
418D            
418D            ;-------------------------------
418D            ;     Instrument Directory
418D            ;-------------------------------
418D            
418D            inst_init
418D            
418D 8A44               dw      drum_kit                ; I_DRUMKIT     
418F B641               dw      basic_init              ; I_BASIC               
4191 DE41               dw      plukbass_init   ; I_PLUKBASS    
4193 D941               dw      plukbassX_init  ; I_PLUKBASSX
4195 FD41               dw      plukstr1_init   ; I_PLUKSTR1    
4197 0442               dw      plukstr2_init   ; I_PLUKSTR2    
4199 F641               dw      plukstrX_init   ; I_PLUKSTRX    
419B B641               dw      basic_init              ; I_VIBE1               
419D B641               dw      basic_init              ; I_VIBE2               
419F B641               dw      basic_init              ; I_VIBE3               
41A1            
41A1            inst_play
41A1            
41A1 B541               dw      null_inst               ; I_DRUMKIT     
41A3 CC41               dw      basic_play              ; I_BASIC               
41A5 B541               dw      null_inst               ; I_PLUKBASS    
41A7 B541               dw      null_inst               ; I_PLUKBASSX
41A9 B541               dw      null_inst               ; I_PLUKSTR1    
41AB B541               dw      null_inst               ; I_PLUKSTR2    
41AD B541               dw      null_inst               ; I_PLUKSTRX    
41AF 1C42               dw      vibe1                   ; I_VIBE1               
41B1 2342               dw      vibe2                   ; I_VIBE2               
41B3 2A42               dw      vibe3                   ; I_VIBE3               
41B5            
41B5            
41B5            ;-------------------------------
41B5            ;       NULL Instrument
41B5            ;-------------------------------
41B5            
41B5            null_inst                                       ; do nothing
41B5            
41B5 C9                 ret
41B6            
41B6            ;-------------------------------
41B6            ;       
41B6            ;       Basic Instrument
41B6            ;       
41B6            ;       Sound 1, 2, 3
41B6            ;       
41B6            ;-------------------------------
41B6            
41B6            ;       basic instrument init routine
41B6            
41B6            basic_init                                      ; start a note
41B6            
41B6            ;       lookup pitch for this voice
41B6            
41B6 3E80               ld      a,dty2                  ; set duty cycle
41B8 CDAE43             call    stuff_duty
41BB            
41BB CD1343             call    set_pitch               ; fetch standard pitch
41BE            
41BE 21D4C0             ld      hl,vol                  ; fetch volume for this driver
41C1 09                 add     hl,bc
41C2 7E                 ld      a,(hl)
41C3 CDCA43             call    stuff_vol
41C6            
41C6 CDA442             call    set_stereo              ; set pan
41C9            
41C9 C31244             jp      note_on                 ; hit it!
41CC            
41CC            
41CC            ;       basic instrument play routine
41CC            
41CC            
41CC            basic_play                                      ; play a note
41CC            
41CC 21DFC0             ld      hl,envcnt       ; fetch event length count for this driver
41CF 09                 add     hl,bc
41D0            
41D0 7E                 ld      a,(hl)                  ; done with this event?
41D1 FE00               cp      0
41D3 C8                 ret     z
41D4            
41D4 35                 dec     (hl)            ; update event length count
41D5 C0                 ret     nz
41D6            
41D6 C35244             jp      note_off                ; clocked out, turn it off!
41D9            
41D9            
41D9            ;-------------------------------
41D9            ;       
41D9            ;       Pluk BASS Instrument
41D9            ;       
41D9            ;       Sound 1, 2, 3
41D9            ;       
41D9            ;-------------------------------
41D9            
41D9            plukbassx_init                                  ; start a stereo note
41D9            
41D9 CDCA42             call    note4_pan
41DC 1803               jr      plukbass0
41DE            
41DE            plukbass_init                                   ; start a note
41DE            
41DE CDA442             call    set_stereo              ; set pan
41E1            
41E1            ;       lookup pitch for this voice
41E1            
41E1            plukbass0
41E1            
41E1 3E80               ld      a,dty2                  ; set duty cycle
41E3 CDAE43             call    stuff_duty
41E6            
41E6 CD1343             call    set_pitch               ; fetch standard pitch
41E9            
41E9 21D4C0             ld      hl,vol                  ; fetch volume for this driver
41EC 09                 add     hl,bc
41ED 7E                 ld      a,(hl)
41EE            
41EE F601               or      $01                             ; envelope speed
41F0            
41F0 CDCA43             call    stuff_vol
41F3            
41F3 C31244             jp      note_on                 ; hit it!
41F6            
41F6            
41F6            ;-------------------------------
41F6            ;       
41F6            ;       Pluk String Instrument
41F6            ;       
41F6            ;       Sound 1, 2, 3
41F6            ;       
41F6            ;-------------------------------
41F6            
41F6            plukstrx_init                                   ; start a stereo note
41F6            
41F6 CDCA42             call    note4_pan
41F9            
41F9 3EC0               ld      a,dty3                  ; set duty cycle
41FB 180C               jr      plukstr
41FD            
41FD            plukstr1_init                                   ; start a note
41FD            
41FD CDA442             call    set_stereo
4200            
4200 3EC0               ld      a,dty3                  ; set duty cycle
4202 1805               jr      plukstr
4204            
4204            plukstr2_init                                   ; start a note
4204            
4204 CDA442             call    set_stereo
4207            
4207 3E00               ld      a,dty0                  ; set duty cycle
4209            ;
4209            
4209 CDAE43     plukstr call    stuff_duty              ; set duty cycle
420C            
420C            ;       lookup pitch for this voice
420C            
420C CD1343             call    set_pitch               ; fetch standard pitch
420F            
420F 21D4C0             ld      hl,vol                  ; fetch volume for this driver
4212 09                 add     hl,bc
4213 7E                 ld      a,(hl)
4214            
4214 F602               or      $02                             ; envelope speed
4216            
4216 CDCA43             call    stuff_vol
4219            
4219 C31244             jp      note_on                 ; hit it!
421C            
421C            ;---------------------------------------
421C            ;
421C            ;    Standard Vibrato Routine
421C            ;
421C            ;    bc - driver to update freq modulation
421C            ;    hl - base of modulation table
421C            ;    e  - index modulo mask
421C            ;
421C            ;---------------------------------------
421C            
421C            ;--------------------------------
421C            ; vibrato frequency bends
421C            ;--------------------------------
421C            
421C            vibe1                                   ; freq mod table add
421C 218442             ld      hl,bends        ; index modulo mask
421F 3E0F               ld      a,$0F
4221 180C               jr      vibrato
4223            
4223            vibe2
4223 219442             ld      hl,bendf        ; freq mod table address
4226 3E07               ld      a,$07           ; index modulo mask
4228 1805               jr      vibrato
422A            
422A            vibe3
422A 219C42             ld      hl,bendx        ; freq mod table address
422D 3E07               ld      a,$07           ; index modulo mask
422F            ;
422F            
422F            vibrato
422F            
422F E5                 push    hl                      ; save table base
4230            
4230 21ACFF             ld      hl,synct1       ; save index modulo mask
4233 77                 ld      (hl),a
4234            
4234            ;       done with this event?
4234            
4234 21DFC0             ld      hl,envcnt   ; fetch event length count for this driver
4237 09                 add     hl,bc
4238            
4238 7E                 ld      a,(hl)          ; done with this event?
4239 FE00               cp      0
423B C24042             jp      nz,vibrax
423E            
423E E1                 pop     hl                      ; all quiet
423F C9                 ret
4240            
4240 35         vibrax  dec     (hl)        ; update event length count
4241 C24842             jp      nz,vibrate
4244            
4244 E1                 pop     hl                      ; clocked out, turn it off!
4245 C35244             jp      note_off        
4248            
4248            ;       setup vibrato
4248            
4248 21BCC0     vibrate ld      hl,pitch        ; fetch current pitch
424B 09                 add     hl,bc
424C 7E                 ld      a,(hl)
424D CB27               sla     a                       ; index words
424F 5F                 ld      e,a
4250            
4250 212E43             ld      hl,ptctab       ; fetch low 8 bits of standard pitch value
4253 19                 add     hl,de
4254 7E                 ld      a,(hl)
4255 E0AB               ld      (synct0),a
4257            
4257 FAF9C0             ld      a,(npt_clk)     ; make vibrato freq mod index
425A            
425A 21ACFF             ld      hl,synct1       ; apply index mask
425D A6                 and     (hl)
425E            
425E 5F                 ld      e,a                     ; index to freq mod table
425F            
425F F0AB               ld      a,(synct0)      ; fetch low byte of freq
4261            
4261 E1                 pop     hl                      ; recover table address
4262            
4262 19                 add     hl,de           ; add in offset
4263 86                 add     a,(hl)
4264            
4264 E092               ld      (sndtmp),a      ; save new value
4266            
4266            ;       mod frequency value in sound channel
4266            
4266 21FF46             ld      hl,sndposmsk    ; driver in use?
4269 09                 add     hl,bc
426A FAA0C0             ld      a,(sndlock)     
426D A6                 and     (hl)
426E C2CC41             jp      nz,basic_play
4271            
4271 218142             ld      hl,nrx3tab              ; set register
4274 09                 add     hl,bc
4275 7E                 ld      a,(hl)
4276 5F                 ld      e,a
4277 16FF               ld      d,$FF
4279            
4279 F092               ld      a,(sndtmp)              ; recover mod value
427B 12                 ld      (de),a                  ; stuff it!
427C            
427C 1600               ld      d,0                             ; you know...
427E            
427E C3CC41             jp      basic_play
4281            ;
4281            
4281 13181D     nrx3tab db      low nr13, low nr23, low nr33
4284            
4284            ;       vibrato offset tables
4284            
4284            bends
4284 00FFFE             db      0,-1,-2,-3,-3,-2,-1,0
     FDFDFE     
     FF00       
428C 000102             db      0,01,02,03,03,02,01,0
     030302     
     0100       
4294            
4294            bendf
4294 00FFFE             db      0,-1,-2,-1,-0, 1, 2, 1
     FF0001     
     0201       
429C            
429C            ;bendx
429C            ;       db      0,0,0,-1,0,0,0,+1
429C            
429C            bendx
429C 01FF01             db      1,-1,1,-1,1,-1,1,-1
     FF01FF     
     01FF       
42A4            
42A4            
42A4            ;---------------------------------------
42A4            ;
42A4            ;    SET_STEREO
42A4            ;
42A4            ;    fix current pan settings for this driver
42A4            ;
42A4            ;    bc - driver to update pan
42A4            ;
42A4            ;---------------------------------------
42A4            
42A4            set_stereo
42A4            
42A4 21FF46             ld      hl,sndposmsk    ; driver in use?
42A7 09                 add     hl,bc
42A8 FAA0C0             ld      a,(sndlock)     
42AB A6                 and     (hl)
42AC C0                 ret     nz
42AD            
42AD 21C642             ld      hl,negpanmsk    ; fetch pan mask for this driver
42B0 09                 add     hl,bc
42B1 F025               ld      a,(nr51)                ; clear current status
42B3 A6                 and     (hl)
42B4 F5                 push    af
42B5            
42B5 21C242             ld      hl,pospanmsk    ; fetch pan mask for this driver
42B8 09                 add     hl,bc
42B9 F0AA               ld      a,(stereo)              ; fetch default pan value
42BB A6                 and     (hl)
42BC 5F                 ld      e,a
42BD            
42BD F1                 pop     af                              ; combine current pan
42BE B3                 or      e
42BF E025               ld      (nr51),a
42C1            
42C1 C9                 ret
42C2            
42C2 112244     pospanmsk db $11, $22, $44, $88
     88         
42C6 EEDDBB     negpanmsk db $EE, $DD, $BB, $77
     77         
42CA            
42CA            ;---------------------------------------
42CA            ;
42CA            ;    Standard 4 cycle pan routine
42CA            ;
42CA            ;    bc - driver to update pan
42CA            ;
42CA            ;---------------------------------------
42CA            
42CA            note4_pan
42CA            
42CA 21FF46             ld      hl,sndposmsk    ; driver in use?
42CD 09                 add     hl,bc
42CE FAA0C0             ld      a,(sndlock)     
42D1 A6                 and     (hl)
42D2 C0                 ret     nz
42D3            
42D3 21F2C0             ld      hl,mentron+1    ; clk is metronome / 24
42D6 7E                 ld      a,(hl)
42D7            
42D7 CB2F               sra     a                               ; 96 -> 48
42D9 CB2F               sra     a                               ; 48 -> 24
42DB CB2F               sra     a                               ; 24 -> 12
42DD            
42DD FE03               cp      3                               ; cyce 1?
42DF 3004               jr      nc,n4_2
42E1            
42E1 1E00               ld      e,0                     
42E3 1812               jr      note4_panit
42E5            
42E5 FE06       n4_2    cp      6                               ; cycle 2?
42E7 3004               jr      nc,n4_3
42E9            
42E9 1E01               ld      e,1                     
42EB 180A               jr      note4_panit
42ED            
42ED FE09       n4_3    cp      9                               ; cycle 3?
42EF 3004               jr      nc,n4_4
42F1            
42F1 1E02               ld      e,2                     
42F3 1802               jr      note4_panit
42F5            
42F5 1E03       n4_4    ld      e,3                     
42F7            
42F7            note4_panit
42F7            
42F7 21C642             ld      hl,negpanmsk    ; fetch pan mask for this driver
42FA 09                 add     hl,bc
42FB F025               ld      a,(nr51)                ; clear old status
42FD A6                 and     (hl)
42FE F5                 push    af
42FF            
42FF 210F43             ld      hl,pantab4              ; fetch current pan value
4302 19                 add     hl,de
4303 7E                 ld      a,(hl)
4304            
4304 21C242             ld      hl,pospanmsk    ; fetch pan mask for this driver
4307 09                 add     hl,bc
4308 A6                 and     (hl)
4309 5F                 ld      e,a
430A            
430A F1                 pop     af                              ; combine current pan
430B B3                 or      e
430C E025               ld      (nr51),a
430E            
430E C9                 ret
430F            
430F FF0FFF     pantab4 db $ff, $0f, $ff, $f0
     F0         
4313            
4313            
4313            ;-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
4313            ;
4313            ;       Generalized Driver Routines
4313            ;
4313            ;-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
4313            
4313            ;---------------------------------------
4313            ;
4313            ;    Set Standard Pitch
4313            ;
4313            ;    bc - driver to initialize pitch
4313            ;
4313            ;---------------------------------------
4313            
4313            set_pitch
4313            
4313 21BCC0             ld      hl,pitch        ; fetch pitch number
4316 09                 add     hl,bc
4317 5E                 ld      e,(hl)
4318 CB23               sla     e               ;index words
431A            
431A 212E43             ld      hl,ptctab       ;pitch table base addr into hl
431D 19                 add     hl,de           ;add index to base
431E 5E                 ld      e,(hl)          ;low into e
431F 23                 inc     hl
4320 56                 ld      d,(hl)          ;high into d
4321            
4321 21CCC0             ld      hl,freqla       ;shadow freq low
4324 09                 add     hl,bc
4325 73                 ld      (hl),e
4326            
4326 21D0C0             ld      hl,freqha       ;save freq hi
4329 09                 add     hl,bc
432A 72                 ld      (hl),d
432B            
432B 1600               ld      d,0             ;repair D reg
432D            
432D C9                 ret
432E            
432E            ptctab                                          ;scale pitches
432E            
432E 58039B             dw      an1v,as1v,bn1v                                          ;first octave
     03DA03     
4334 2C009D             dw      cn2v,cs2v,dn2v,ds2v,en2v,fn2v           ;second octave
     000701     
     6B01C9     
     012302     
4340 7702C7             dw      fs2v,gn2v,gs2v,an2v,as2v,bn2v
     021203     
     58039B     
     03DA03     
434C 16044E             dw      cn3v,cs3v,dn3v,ds3v,en3v,fn3v           ;third octave
     048304     
     B504E5     
     041105     
4358 3B0563             dw      fs3v,gn3v,gs3v,an3v,as3v,bn3v
     058905     
     AC05CE     
     05ED05     
4364 0B0627             dw      cn4v,cs4v,dn4v,ds4v,en4v,fn4v           ;fourth octave
     064206     
     5B0672     
     068906     
4370 9E06B2             dw      fs4v,gn4v,gs4v,an4v,as4v,bn4v
     06C406     
     D606E7     
     06F706     
437C 060714             dw      cn5v,cs5v,dn5v,ds5v,en5v,fn5v           ;fifth octave
     072107     
     2D0739     
     074407     
4388 4F0759             dw      fs5v,gn5v,gs5v,an5v,as5v,bn5v
     076207     
     6B0773     
     077B07     
4394 83078A             dw      cn6v,cs6v,dn6v,ds6v,en6v,fn6v           ;sixth octave
     079007     
     97079D     
     07A207     
43A0 A707AC             dw      fs6v,gn6v,gs6v,an6v,as6v,bn6v
     07B107     
     B607BA     
     07BE07     
43AC FE07               dw      rstv                                                            ;rest frequency (silence)
43AE                    
43AE            ;--------------------------------------
43AE            ;       
43AE            ;  Stuff shadow duty into sound channel
43AE            ;
43AE            ;       bc - sound channel to hit
43AE            ;       a  - duty value
43AE            ;
43AE            ;--------------------------------------
43AE            
43AE            stuff_duty
43AE            
43AE 5F                 ld      e,a                             ; save duty value
43AF            
43AF 21FF46             ld      hl,sndposmsk    ; driver in use?
43B2 09                 add     hl,bc
43B3 FAA0C0             ld      a,(sndlock)     
43B6 A6                 and     (hl)
43B7 C0                 ret     nz
43B8            
43B8            ;       switch on driver number
43B8            
43B8            l0
43B8 79                 ld      a,c             ;get driver #
43B9            
43B9 FE00               cp      0               ; snd 0
43BB 2805               jr      z,dr1d
43BD            
43BD FE01               cp      1                               ; snd 1
43BF 2805               jr      z,dr2d
43C1            
43C1 C9                 ret
43C2            
43C2            ;       Stuff values for sound 1
43C2            
43C2 7B         dr1d    ld      a,e             ; get duty
43C3 E011               ld      (nr11),a        ; set
43C5 C9                 ret
43C6            
43C6            ;       Stuff values for sound 2
43C6            
43C6 7B         dr2d    ld      a,e
43C7 E016               ld      (nr21),a
43C9 C9                 ret
43CA            ;
43CA            
43CA            
43CA            ;--------------------------------------
43CA            ;       
43CA            ;   Stuff volume into sound registers
43CA            ;
43CA            ;       bc  - sound channel
43CA            ;       a   - volume level (0(off) - F(max))
43CA            ;
43CA            ;--------------------------------------
43CA            
43CA            stuff_vol
43CA            
43CA 5F                 ld      e,a                             ; save vol value
43CB            
43CB 21FF46             ld      hl,sndposmsk    ; driver in use?
43CE 09                 add     hl,bc
43CF FAA0C0             ld      a,(sndlock)     
43D2 A6                 and     (hl)
43D3 C0                 ret     nz
43D4            
43D4            volset
43D4            
43D4            ;       switch on driver number
43D4            
43D4 79                 ld      a,c             ; get driver #
43D5            
43D5 FE00               cp      0                               ; snd 1
43D7 280B               jr      z,dr1v
43D9            
43D9 FE01               cp      1                               ; snd 2
43DB 280F               jr      z,dr2v
43DD            
43DD FE02               cp      2                               ; snd 3
43DF 280F               jr      z,dr3v
43E1            
43E1 1600               ld      d,0             ; repair D
43E3 C9                 ret
43E4            
43E4            ;       driver for sound 1
43E4            
43E4            dr1v
43E4 7B                 ld      a,e             ; set envelope initial gain
43E5 E012               ld      (nr12),a
43E7            
43E7 3E00               ld      a,0                             ; clear sweep register
43E9 E010               ld      (nr10),a
43EB            
43EB C9                 ret
43EC            
43EC            ;       driver for sound 2
43EC            
43EC            dr2v
43EC 7B                 ld      a,e             ; set envelope initial gain
43ED E017               ld      (nr22),a
43EF            
43EF C9                 ret
43F0            
43F0            ;       driver for sound 3
43F0            
43F0            dr3v
43F0 210244             ld      hl,vol2nr3              ; convert gain value
43F3 7B                 ld      a,e              
43F4 CB37               swap    a
43F6 E60F               and     $0f                             ; defend against envelope spec
43F8 5F                 ld      e,a
43F9 19                 add     hl,de
43FA 7E                 ld      a,(hl)
43FB            
43FB E01C               ld      (nr32),a                ; set envelope initial gain
43FD            
43FD C9                 ret
43FE            
43FE            ;       driver for sound 4
43FE            
43FE            dr4v
43FE 7B                 ld      a,e             ; set envelope initial gain
43FF E01C               ld      (nr32),a
4401            
4401 C9                 ret
4402            ;
4402            
4402            vol2nr3                                         ; volume conversion table
4402 006060             db      $00,$60,$60,$60
     60         
4406 606040             db      $60,$60,$40,$40
     40         
440A 404040             db      $40,$40,$40,$20
     20         
440E 202020             db      $20,$20,$20,$20
     20         
4412            
4412            ;----------------------------------------------
4412            ;       
4412            ;    NOTE_ON
4412            ;
4412            ;    Stuff shadow freq into sound channel
4412            ;    Initilize sound channel to operate
4412            ;
4412            ;    bc - sound channel to hit
4412            ;
4412            ;----------------------------------------------
4412            
4412            note_on
4412            
4412 21FF46             ld      hl,sndposmsk    ;driver in use?
4415 09                 add     hl,bc
4416 FAA0C0             ld      a,(sndlock)     
4419 A6                 and     (hl)
441A C0                 ret     nz
441B            
441B            ;       Index to the data
441B            
441B 21D0C0             ld      hl,freqha               ;fetch base
441E 09                 add     hl,bc
441F 7E                 ld      a,(hl)
4420 F5                 push    af
4421            
4421 21CCC0             ld      hl,freqla
4424 09                 add     hl,bc
4425 7E                 ld      a,(hl)
4426 F5                 push    af
4427            
4427            ;       switch on driver number
4427            
4427 79                 ld      a,c             ;get driver #
4428            
4428 FE00               cp      0                               ;Snd 1
442A 280B               jr      z,dr1non
442C            
442C FE01               cp      1                               ;Snd 2
442E 2810               jr      z,dr2non
4430            
4430 FE02               cp      2                               ;Snd 3          
4432 2815               jr      z,dr3non
4434            
4434 F1                 pop     af                              ;driver # x
4435 F1                 pop     af
4436 C9                 ret
4437            
4437            ;       Stuff values for sound 1
4437            
4437 F1         dr1non  pop     af
4438 E013               ld      (nr13),a
443A F1                 pop     af
443B F680               or      %10000000
443D E014               ld      (nr14),a
443F C9                 ret
4440            
4440            ;       Stuff values for sound 2
4440            
4440 F1         dr2non  pop     af
4441 E018               ld      (nr23),a
4443 F1                 pop     af
4444 F680               or      %10000000
4446 E019               ld      (nr24),a
4448 C9                 ret
4449            
4449            ;       Stuff values for sound 3
4449            
4449 F1         dr3non  pop     af
444A E01D               ld      (nr33),a
444C F1                 pop     af
444D F680               or      %10000000
444F E01E               ld      (nr34),a
4451 C9                 ret
4452            
4452            ;----------------------------------------------
4452            ;       
4452            ;    NOTE_OFF
4452            ;
4452            ;    Silence! Event has finished
4452            ;
4452            ;       bc - sound channel to hit
4452            ;
4452            ;----------------------------------------------
4452            
4452            note_off
4452            
4452 21FF46             ld      hl,sndposmsk    ; driver in use?
4455 09                 add     hl,bc
4456 FAA0C0             ld      a,(sndlock)     
4459 A6                 and     (hl)
445A C0                 ret     nz
445B            
445B            ;       switch on driver number
445B            
445B            gen_off
445B            
445B 79                 ld      a,c             ;get driver #
445C            
445C FE00               cp      0                               ; Snd 1
445E 280A               jr      z,dr1off
4460            
4460 FE01               cp      1                               ; Snd 2
4462 280B               jr      z,dr2off
4464            
4464 FE02               cp      2                               ; Snd 3         
4466 280C               jr      z,dr3off
4468            
4468 181C               jr      dr4off
446A            
446A            ;       Stuff values for sound 1
446A            
446A 2113FF     dr1off  ld      hl,nr13                 ; kill freq
446D 180A               jr      kill1
446F            
446F            ;       Stuff values for sound 2
446F            
446F 2118FF     dr2off  ld      hl,nr23                 ; kill freq
4472 1809               jr      kill2
4474            
4474            ;       Stuff values for sound 3
4474            
4474 211DFF     dr3off  ld      hl,nr33                 ; kill freq
4477 1804               jr      kill3
4479            
4479            ;
4479            
4479            kill1
4479 3E00               ld      a,$00                   ; fix sweep
447B E010               ld      (nr10),a
447D            
447D            kill2
447D            kill3   
447D 3EFF               ld      a,$ff           ;get freq lo
447F 22                 ld      (hli),a         ;store
4480 3E07               ld      a,$07           ;get freq hi
4482 77                 ld      (hl),a          ;store
4483 1600               ld      d,0             ;repair D
4485 C9                 ret
4486            
4486            ;       Stuff values for sound 4
4486            
4486 AF         dr4off  xor     a                               ; kill vol
4487 E021               ld      (nr42),a
4489 C9                 ret
448A            
448A            ;-------------------------------------
448A            ;
448A            ;       Initiate a drum event
448A            ;
448A            ;-------------------------------------
448A            
448A            drum_kit
448A 21A0C0             ld      hl,sndlock          ;if voice 3 busy, exit
448D CB5E               bit     3,(hl)
448F C0                 ret     nz
4490            
4490 CDA442             call    set_stereo              ; set pan for this channel
4493            
4493 21BCC0             ld      hl,pitch        ;fetch pitch/drum number
4496 09                 add     hl,bc
4497            
4497 7E                 ld      a,(hl)                  ;get pitch index
4498            
4498 FE3F               cp      .rst                    ;skip if rest
449A C8                 ret     z
449B            
449B CB27               sla     a               ;index double words
449D CB27               sla     a
449F 5F                 ld      e,a
44A0 21AD44             ld      hl,drumtab
44A3 19                 add     hl,de
44A4            
44A4 2A                 ld      a,(hli)         ;length register value
44A5 E020               ld      (nr41),a
44A7            
44A7 2A                 ld      a,(hli)         ;envelope register value
44A8 E021               ld      (nr42),a
44AA            
44AA 2A                 ld      a,(hli)         ;freq register value
44AB E022               ld      (nr43),a
44AD            
44AD 7E                 ld      a,(hl)          ;initial/length register value
44AE E023               ld      (nr44),a
44B0            
44B0 C9                 ret
44B1            
44B1            ;--------------------------------------------
44B1            ;
44B1            ;  Include drum kit available for music
44B1            ;
44B1            ;--------------------------------------------
44B1            
44B1                    include audiodru.aud
44B1            
44B1            ;****************************************
44B1            ;*                                                              *
44B1            ;*            AUDIODRU.AUD                              *
44B1            ;*                                                              *
44B1            ;*                                                              *
44B1            ;*    Sound 4 Drum Audio Driver Data    *
44B1            ;*                                                              *
44B1            ;* Copyright (c) 1991 Imagineering, Inc.*
44B1            ;*                                                              *
44B1            ;****************************************
44B1            ;
44B1            ;
44B1            ;    Prepared for Imagineering, Inc. by
44B1            ;
44B1            ;       Stuart E. Ross
44B1            ;       New Potato Technologies
44B1            ;       P.O. Box 187
44B1            ;       Danbury, CT  06813
44B1            ;
44B1            ;       TEL:  (203) 746-9040
44B1            ;       FAX:  (203) 746-6929
44B1            ;
44B1            
44B1            ;--------------------------------
44B1            ;      Drum Kit Equates
44B1            ;--------------------------------
44B1            
0001            cindex  .SET     $01
44B1            ;
0001            bassd1  equ     cindex
0002            cindex  .SET    cindex+1
44B1            ;
0002            bassd2  equ     cindex
0003            cindex .SET     cindex+1
44B1            ;
0003            bassd3  equ     cindex
0004            cindex .SET     cindex+1
44B1            ;
0004            clshi1  equ     cindex
0005            cindex .SET     cindex+1
44B1            ;
0005            clshi2  equ     cindex
0006            cindex .SET     cindex+1
44B1            ;
0006            cowbl1  equ     cindex
0007            cindex .SET     cindex+1
44B1            ;
0007            cymbl1  equ     cindex
0008            cindex .SET     cindex+1
44B1            ;
0008            cymbl2  equ     cindex
0009            cindex .SET     cindex+1
44B1            ;
0009            cymbl3  equ     cindex
000A            cindex .SET     cindex+1
44B1            ;
000A            cymbl4  equ     cindex
000B            cindex .SET     cindex+1
44B1            ;
000B            cymbl5  equ     cindex
000C            cindex .SET     cindex+1
44B1            ;
000C            cymbl6  equ     cindex
000D            cindex .SET     cindex+1
44B1            ;
000D            cymbl7  equ     cindex
000E            cindex .SET     cindex+1
44B1            ;
000E            lcong1  equ     cindex
000F            cindex .SET     cindex+1
44B1            ;
000F            lcong2  equ     cindex
0010            cindex .SET     cindex+1
44B1            ;
0010            lcong3  equ     cindex
0011            cindex .SET     cindex+1
44B1            ;
0011            lcong4  equ     cindex
0012            cindex .SET     cindex+1
44B1            ;
0012            snare1  equ     cindex
0013            cindex  .SET    cindex+1
44B1            ;
0013            hitom1  equ     cindex
0014            cindex  .SET    cindex+1
44B1            ;
0014            hicng1  equ     cindex
0015            cindex  .SET    cindex+1
44B1            ;
0015            lotom1  equ     cindex
0016            cindex  .SET    cindex+1
44B1            ;
0016            mitom1  equ     cindex
0017            cindex  .SET    cindex+1
44B1            ;
0017            timba1  equ     cindex
0018            cindex  .SET    cindex+1
44B1            ;
0018            handcl  equ     cindex
44B1            
44B1            ;--------------------------------
44B1            ;      Drum Kit SND4 Data
44B1            ;--------------------------------
44B1            
44B1            drum0
44B1            
44AD            drumtab equ     $-4
44B1            
44B1            ;               ctl frq
44B1            ;               --- ---
44B1            
0001                    ifdef   bassd1
44B1 004100             db      $00,$41,$00,$80       ;bassd1
     80         
44B5                    endif
44B5            ;
0001                    ifdef   bassd2
44B5 004100             db      $00,$41,$00,$80       ;bassd2
     80         
44B9                    endif
44B9            ;
0001                    ifdef   bassd3
44B9 004100             db      $00,$41,$00,$80       ;bassd3
     80         
44BD                    endif
44BD            ;
0001                    ifdef   clshi1
44BD 004115             db      0,$41,$15,$80         ;clshi1
     80         
44C1                    endif
44C1            ;
0001                    ifdef   clshi2
44C1 004115             db      0,$41,$15,$80         ;clshi2
     80         
44C5                    endif
44C5            ;
0001                    ifdef   cowbl1
44C5 004119             db      0,$41,$19,$80         ;cowbl1
     80         
44C9                    endif
44C9            ;
0001                    ifdef   cymbl1
44C9 004304             db      0,$43,$04,$80         ;cymbl1
     80         
44CD                    endif
44CD            ;
0001                    ifdef   cymbl2
44CD 004304             db      0,$43,$04,$80         ;cymbl2
     80         
44D1                    endif
44D1            ;
0001                    ifdef   cymbl3
44D1 004304             db      0,$43,$04,$80         ;cymbl3
     80         
44D5                    endif
44D5            ;
0001                    ifdef   cymbl4
44D5 004304             db      0,$43,$04,$80         ;cymbl4
     80         
44D9                    endif
44D9            ;
0001                    ifdef   cymbl5
44D9 004304             db      0,$43,$04,$80         ;cymbl5
     80         
44DD                    endif
44DD            ;
0001                    ifdef   cymbl6
44DD 004304             db      0,$43,$04,$80         ;cymbl6
     80         
44E1                    endif
44E1            ;
0001                    ifdef   cymbl7
44E1 004304             db      0,$43,$04,$80         ;cymbl7
     80         
44E5                    endif
44E5            ;
0001                    ifdef   lcong1
44E5 005100             db      0,$51,$00,$80         ;lcong1
     80         
44E9                    endif
44E9            ;
0001                    ifdef   lcong2
44E9 005100             db      0,$51,$00,$80         ;lcong2
     80         
44ED                    endif
44ED            ;
0001                    ifdef   lcong3
44ED 005100             db      0,$51,$00,$80         ;lcong3
     80         
44F1                    endif
44F1            ;
0001                    ifdef   lcong4
44F1 005100             db      0,$51,$00,$80         ;lcong4
     80         
44F5                    endif
44F5            ;
0001                    ifdef   snare1
44F5 005100             db      0,$51,$00,$80         ;snare1
     80         
44F9                    endif
44F9            ;
0001                    ifdef   hitom1
44F9 005100             db      0,$51,$00,$80         ;hitom1
     80         
44FD                    endif
44FD            ;
0001                    ifdef   hicng1
44FD 005100             db      0,$51,$00,$80         ;snare1
     80         
4501                    endif
4501            ;
0001                    ifdef   lotom1
4501 005100             db      0,$51,$00,$80         ;lotom1
     80         
4505                    endif
4505            ;
0001                    ifdef   mitom1
4505 005100             db      0,$51,$00,$80         ;mitom1
     80         
4509                    endif
4509            ;
0001                    ifdef   timba1
4509 005100             db      0,$51,$00,$80         ;timba1
     80         
450D                    endif
450D            ;
0001                    ifdef   handcl
450D 005100             db      0,$51,$00,$80         ;handcl
     80         
4511                    endif
4511            ;
4511            ;
4511            drumsx
0060            drumsize        equ     drumsx-drum0
4511            ;
4511            ;
0000            ^Z
4511            
4511            
4511            ;
4511            ;
4511            
4511            
0000            ^Z
4511            
4511            
4511            ;-------------------------------
4511            ;       
4511            ;    Audio Subroutines
4511            ;
4511            ;-------------------------------
4511            
0000                    if 0
4511                    endif
4511            ;
4511            ;----------------------------------------------------------------------------
4511            ;
4511            musicend
0502            musicsize       equ     musicend-musicstart
4511            ;
4511            ;
4511            
0000            ^Z
4511            
4511                    include sound.aud       ;sound effects
4511            
4511            ;****************************************
4511            ;*                                                              *
4511            ;*              SOUND.SND                               *
4511            ;*                                                              *
4511            ;*                                                              *
4511            ;*   Sound Effect Drivers for GameBoy   *
4511            ;*                                                              *
4511            ;*                                                              *
4511            ;* Copyright (c) 1991 Imagineering, Inc.*
4511            ;*                                                              *
4511            ;****************************************
4511            ;
4511            ;
4511            ;    Prepared for Imagineering, Inc. by
4511            ;
4511            ;       Stuart E. Ross
4511            ;       New Potato Technologies
4511            ;       P.O. Box 187
4511            ;       Danbury, CT  06813
4511            ;
4511            ;       TEL:  (203) 746-9040
4511            ;       FAX:  (203) 746-6929
4511            ;
4511            
4511            soundstart                                      ; size
4511            
4511            ;------------------------------------
4511            ;       Sound Equates
4511            ;------------------------------------
4511            
0004            MAX_SOUNDS      equ     $04                     ; size of sound manager queue
4511            
4511            ;------------------------------------
4511            ;
4511            ;    SETSND
4511            ;
4511            ;    Add a new sound to the queue
4511            ;
4511            ;       reg a contains sound ID to initialize
4511            ;
4511            ;       numsnds,sndtype,sndpnt are modified
4511            ;
4511            ;       af,bc,de destroyed
4511            ;
4511            ;------------------------------------
4511            
4511            setsnd
4511            
4511 F5                 push    af                              ; save ID
4512            
4512 0600               ld      b,0                             ; setup
4514 1600               ld      d,0
4516            
4516 21A1C0             ld      hl,numsnds              ; advance sound count
4519 34                 inc     (hl)
451A 4E                 ld      c,(hl)
451B            
451B 3E05               ld      a,MAX_SOUNDS+1  ; numsnds = MAX?
451D B9                 cp      c
451E C22445             jp      nz,gosetsnd
4521            
4521 35                 dec     (hl)                    ; queue is full, return
4522 F1                 pop     af
4523 C9                 ret
4524            
4524            gosetsnd
4524            
4524 0D                 dec     c                               ; access tables
4525            
4525 21A3C0             ld      hl,sndtype              ; save sound ID to type table
4528 09                 add     hl,bc
4529 F1                 pop     af
452A 77                 ld      (hl),a
452B            
452B 218746             ld      hl,snd_init_tab ; fetch init vector
452E 5F                 ld      e,a
452F CB23               sla     e
4531 19                 add     hl,de
4532 2A                 ld      a,(hli)                 ; low byte
4533 E093               ld      (sndtmp+1),a
4535 2A                 ld      a,(hli)                 ; high byte
4536 E092               ld      (sndtmp),a
4538            
4538 21A7C0             ld      hl,sndpnt               ; save init vector
453B 09                 add     hl,bc
453C 09                 add     hl,bc
453D F092               ld      a,(sndtmp)
453F 22                 ld      (hli),a
4540 F093               ld      a,(sndtmp+1)
4542 77                 ld      (hl),a
4543            
4543 C9                 ret
4544            
4544            ;------------------------------------
4544            ;
4544            ;       Main sound effect handler
4544            ;
4544            ;------------------------------------
4544            
4544            sound
4544            
4544 AF                 xor     a                               ; setup
4545 47                 ld      b,a
4546 57                 ld      d,a
4547            
4547 FAA1C0             ld      a,(numsnds)             ; fetch number of sounds
454A            
454A 3D                 dec     a                               ; skip if no sounds in queue
454B CB7F               bit     7,a
454D C0                 ret     nz
454E            
454E            snd_do
454E EAA2C0             ld      (sndindx),a             ; set index to last in queue
4551            
4551            snd_loop
4551                    
4551 FAA2C0             ld      a,(sndindx)             ; fetch slot index
4554 4F                 ld      c,a
4555 CB27               sla     a                               ; fix index to address words
4557 5F                 ld      e,a
4558            
4558 21A7C0             ld      hl,sndpnt           ; point into sound pointer table
455B 19                 add     hl,de
455C            
455C CD6845             call    indirect_call
455F            
455F            ;       all drivers return to here
455F            
455F            next_sound
455F            
455F 21A2C0             ld      hl,sndindx              ; next driver please
4562 35                 dec     (hl)
4563 CB7E               bit     7,(hl)
4565 28EA               jr      z,snd_loop
4567            
4567 C9                 ret
4568            ;
4568            
4568            indirect_call
4568            
4568 56                 ld      d,(hl)                  ; fetch routine vector
4569 23                 inc     hl
456A 5E                 ld      e,(hl)
456B            
456B D5                 push    de                              ; FUNKY indirect jump to sound routine
456C 1600               ld      d,0             ; repair D reg to 0
456E C9                 ret
456F            
456F            ;------------------------------------
456F            ;
456F            ;   KILLID
456F            ;
456F            ;   Remove sound from queue via sound ID
456F            ;
456F            ;       reg a contains sound ID to kill
456F            ;
456F            ;       numsnds modified
456F            ;       af,bc,de destroyed
456F            ;
456F            ;   KILLSND
456F            ;
456F            ;   Remove sound from queue via slot index
456F            ;
456F            ;       reg a contains sound slot # to kill
456F            ;
456F            ;       numsnds modified
456F            ;       af,bc,de destroyed
456F            ;
456F            ;------------------------------------
456F            
456F            killid
456F            
456F FAA1C0             ld      a,(numsnds)             ; adjust index and return if queue is empty
4572 3D                 dec     a
4573 CB7F               bit     7,a
4575            
4575 C0                 ret     nz
4576            
4576            findsnd
4576            
4576 4F                 ld      c,a                             ; save last index
4577            
4577            ;       search for sound ID in queue
4577                    
4577            findsnd0
4577            
4577 21A3C0             ld      hl,sndtype              ; point to ID for slot c
457A 09                 add     hl,bc
457B BE                 cp      (hl)                    ; match stop ID in reg a?
457C 280F               jr      z,killsnd0
457E            
457E 0D                 dec     c                               ; next slot
457F CB79               bit     7,c
4581 28F4               jr      z,findsnd0
4583            
4583 C9                 ret                                     ; ID not found...
4584            
4584            ;       Kill sound with slot # in reg c
4584            
4584            killsnd
4584            
4584 FAA1C0             ld      a,(numsnds)             ; fetch last index and return if queue is empty
4587 3D                 dec     a
4588 CB7F               bit     7,a
458A 2801               jr      z,killsnd0
458C            
458C C9                 ret
458D            
458D            killsnd0
458D            
458D E0AB               ld      (synct0),a              ; save last index
458F            
458F            ;       Kill target sound
458F            
458F            killsnd1
458F            
458F CDC845             call    sound_off               ; kill this one
4592            ;       
4592            
4592            killsnd2
4592            
4592 F0AB               ld      a,(synct0)              ; last in queue?
4594 B9                 cp      c
4595 2004               jr      nz,killsnd3
4597            
4597 EAA1C0             ld      (numsnds),a             ; adjust numsnds
459A            
459A C9                 ret 
459B            
459B            ;       bump routine vectors
459B            
459B            killsnd3
459B            
459B 21A7C0             ld      hl,sndpnt               ; pointer to current vector
459E 09                 add     hl,bc
459F 09                 add     hl,bc   
45A0 E5                 push    hl
45A1            
45A1 23                 inc     hl                              ; advance pointer to next vector
45A2 23                 inc     hl
45A3            
45A3 2A                 ld      a,(hli)                 ; fetch next vector
45A4 E092               ld      (sndtmp),a
45A6 7E                 ld      a,(hl)
45A7 E093               ld      (sndtmp+1),a
45A9            
45A9 E1                 pop     hl                              ; save in current slot
45AA F092               ld      a,(sndtmp)
45AC 22                 ld      (hli),a
45AD F093               ld      a,(sndtmp+1)
45AF 77                 ld      (hl),a
45B0            
45B0            ;       bump sound IDs
45B0            
45B0 21A3C0             ld      hl,sndtype              ; pointer to current ID
45B3 09                 add     hl,bc   
45B4 23                 inc     hl
45B5 3A                 ld      a,(hld)
45B6 77                 ld      (hl),a
45B7            
45B7            ;       bump sound control mask
45B7            
45B7 21B3C0             ld      hl,sndmsk               ; pointer to current mask
45BA 09                 add     hl,bc
45BB 23                 inc     hl
45BC 3A                 ld      a,(hld)
45BD 77                 ld      (hl),a
45BE            
45BE            ;       bump sound control cnt
45BE            
45BE 21AFC0             ld      hl,sndcnt               ; pointer to current cnt
45C1 09                 add     hl,bc
45C2 23                 inc     hl
45C3 3A                 ld      a,(hld)
45C4 77                 ld      (hl),a
45C5            
45C5            ;       advance through list
45C5            
45C5 0C                 inc     c                               ; next slot please
45C6 18CA               jr      killsnd2
45C8            
45C8            ;------------------------------------
45C8            ;
45C8            ;   Disable current sound
45C8            ;
45C8            ;------------------------------------
45C8            
45C8            sound_off
45C8            
45C8 21B3C0             ld      hl,sndmsk               ; reset lock out status
45CB 09                 add     hl,bc
45CC 7E                 ld      a,(hl)                  ; fetch control mask
45CD E0AC               ld      (synct1),a                      
45CF 2F                 cpl                                     ; and complement
45D0            
45D0 21A0C0             ld      hl,sndlock              ; reset lockout flags
45D3 A6                 and     (hl)
45D4 77                 ld      (hl),a
45D5            
45D5            ;       turn off genrators
45D5            
45D5 C5                 push    bc                              ; save slot index
45D6            
45D6 0E03               ld      c,3                             ; disable sounds as appropriate
45D8            
45D8 F0AC       l0      ld      a,(synct1)              ; fetch control mask
45DA            
45DA 21FF46             ld      hl,sndposmsk    ; this channel used?
45DD 09                 add     hl,bc
45DE A6                 and     (hl)                    
45DF            
45DF C45B44             call    nz,gen_off              ; if yes, turn it off
45E2            
45E2 0D                 dec     c                               ; next channel
45E3 CB79               bit     7,c
45E5 28F1               jr      z,l0
45E7            
45E7 C1                 pop     bc                              ; recover slot index
45E8            
45E8 C9                 ret
45E9            
45E9            ;------------------------------------
45E9            ;
45E9            ;   Play one shot Sound Effect
45E9            ;
45E9            ;       ID is index into one shot data
45E9            ;
45E9            ;------------------------------------
45E9            
45E9            play_one_shot
45E9            
45E9 21A3C0             ld      hl,sndtype                      ;fetch sound ID
45EC 09                 add     hl,bc
45ED 7E                 ld      a,(hl)
45EE            
45EE CD0346             call    one_shot_snd
45F1            
45F1 11F745             ld      de,one_shot_wait        ;set service vector
45F4 C37B46             jp      set_sndpnt
45F7            
45F7            ;------------------------------------
45F7            ;
45F7            ;       Wait for end of effect
45F7            ;
45F7            ;
45F7            ;       bc - sound effect slot in queue
45F7            ;
45F7            ;------------------------------------
45F7            
45F7            one_shot_wait
45F7            
45F7 21AFC0             ld      hl,sndcnt               ; sound length timer
45FA 09                 add     hl,bc
45FB            
45FB 35                 dec     (hl)                    ; tick!
45FC            
45FC 7E                 ld      a,(hl)                  ; done?
45FD FE00               cp      0
45FF C0                 ret     nz
4600            
4600 C38445             jp      killsnd                 ; remove sound from queue
4603            
4603            ;------------------------------------
4603            ;
4603            ;   Play one shot Sound Effect
4603            ;
4603            ;   Reg a contains the sound ID
4603            ;
4603            ;------------------------------------
4603            
4603            one_shot_snd
4603            
4603 CB27               sla     a                               ;index one shot records * 6 bytes
4605 5F                 ld      e,a     
4606 CB23               sla     e 
4608 83                 add     a,e
4609 5F                 ld      e,a
460A            
460A 21A546             ld      hl,one_shot_tab ;calc base of record
460D 19                 add     hl,de
460E            
460E E5                 push    hl                              ;save base
460F            
460F 1E05               ld      e,5                             ;adjust index
4611 19                 add     hl,de
4612            
4612 7E                 ld      a,(hl)                  ;fetch channel spec
4613 1F                 rra
4614 1F                 rra
4615 1F                 rra
4616 E607               and     %00000111
4618            
4618 5F                 ld      e,a                             ;save channel spec
4619            
4619 E1                 pop     hl
461A            
461A F025               ld      a,(NR51)                ;fetch and set enable bits
461C B6                 or      (hl)
461D E025               ld      (NR51),a
461F            
461F 23                 inc     hl                              ;advance to next byte
4620            
4620            ;       read data into sound gen 1
4620            
4620 7B                 ld      a,e                             ;test channel spec      
4621 FE00               cp      0
4623 2017               jr      nz,sgen2
4625            
4625 2A                 ld      a,(hli)
4626 E010               ld      (NR10),a                ;set sweep
4628 2A                 ld      a,(hli)
4629 E011               ld      (NR11),a                ;set wave/length
462B E63F               and     $3f
462D F5                 push    af
462E            
462E 2A                 ld      a,(hli)
462F E012               ld      (NR12),a                ;set envelope
4631 2A                 ld      a,(hli)
4632 E013               ld      (NR13),a                ;set freq low
4634 7E                 ld      a,(hl)
4635 E6C7               and     %11000111
4637 E014               ld      (NR14),a                ;set restart/continuous/freq hi
4639 C36546             jp      genvars
463C            
463C            
463C            ;       read data into sound gen 2
463C            
463C            sgen2
463C FE01               cp      1
463E 2015               jr      nz,sgen4
4640            
4640 23                 inc     hl                              ;no sweep on driver 2
4641 2A                 ld      a,(hli)
4642 E016               ld      (NR21),a                ;set wave/length
4644 E63F               and     $3f
4646 F5                 push    af
4647 2A                 ld      a,(hli)
4648 E017               ld      (NR22),a                ;set envelope
464A 2A                 ld      a,(hli)
464B E018               ld      (NR23),a                ;set freq low
464D 7E                 ld      a,(hl)
464E E6C7               and     %11000111
4650 E019               ld      (NR24),a                ;set restart/continuous/freq hi
4652 C36546             jp      genvars
4655            
4655            ;       read data into sound gen 4
4655            
4655            sgen4
4655 23                 inc     hl                                      ;no sweep on driver 4
4656            
4656 2A                 ld      a,(hli)                         ;set length     - nr41
4657 E020               ld      (NR41),a 
4659 F5                 push    af
465A            
465A 2A                 ld      a,(hli)                         ;set envelope - nr42
465B E021               ld      (NR42),a
465D            
465D 2A                 ld      a,(hli)                         ;set freq - nr43
465E E022               ld      (NR43),a         
4660            
4660 7E                 ld      a,(hl)                          ;set restart/continuous flags
4661 E6C0               and     %11000000
4663 E023               ld      (NR44),a
4665            
4665            genvars
4665            
4665 21AFC0             ld      hl,sndcnt                       ;set cnt
4668 09                 add     hl,bc
4669 F1                 pop     af
466A 77                 ld      (hl),a
466B            
466B 21FF46             ld      hl,sndposmsk            ;fetch control flag
466E 19                 add     hl,de
466F 7E                 ld      a,(hl)
4670            
4670 21B3C0             ld      hl,sndmsk                       ;set control mask
4673 09                 add     hl,bc
4674 77                 ld      (hl),a
4675            
4675 21A0C0             ld      hl,sndlock                      ;set lock out flags
4678 B6                 or      (hl)
4679 77                 ld      (hl),a
467A            
467A C9                 ret
467B            
467B            ;------------------------------------
467B            ;
467B            ;   SET_SNDPNT
467B            ;
467B            ;   Set new routine vector
467B            ;
467B            ;       bc - sound effect slot in queue
467B            ;       de - new vector for slot
467B            ;
467B            ;------------------------------------
467B                    
467B            set_sndpnt
467B            
467B 21A7C0             ld      hl,sndpnt               ; point into slot
467E 09                 add     hl,bc
467F 09                 add     hl,bc
4680 7A                 ld      a,d                             ; set new vector
4681 22                 ld      (hli),a
4682 7B                 ld      a,e
4683 73                 ld      (hl),e
4684            
4684 1600               ld      d,0                             ; fix reg d
4686            
4686 C9                 ret
4687                    
4687            ;------------------------------------
4687            ;
4687            ;       Sound drivers and data
4687            ;
4687            ;------------------------------------
4687            
0000            ch1     equ     0*8
0008            ch2     equ     1*8
0010            ch3     equ     2*8
0018            ch4     equ     3*8
0011            c1en    equ     $11
0022            c2en    equ     $22
0044            c3en    equ     $44
0088            c4en    equ     $88
4687            
4687            ;
4687            ;-------------------------------------
4687            ;
0000                    ifdef   bart
4687                    endif
4687            ;
4687            ;-------------------------------------
4687            ;
0000                    ifdef   turn
4687                    endif
4687            ;
4687            ;-------------------------------------
4687            ;
0001                    ifdef   home
0000                    ifdef   devapd
4687                    else
4687                    include home.snd
4687            
4687            ;****************************************
4687            ;*                                                              *
4687            ;*              HOME.SND                                *
4687            ;*                                                              *
4687            ;*        "Home Alone - GameBoy"                *
4687            ;*                                                              *
4687            ;*            Sound Effects                             *
4687            ;*                                                              *
4687            ;* Copyright (c) 1991 Imagineering, Inc.*
4687            ;*                                                              *
4687            ;****************************************
4687            ;
4687            ;
4687            ;   Prepared for Imagineering, Inc. by
4687            ;
4687            ;       Stuart E. Ross
4687            ;       New Potato Technologies
4687            ;       P.O. Box 187
4687            ;       Danbury, CT  06813
4687            ;
4687            ;       TEL:  (203) 746-9040
4687            ;       FAX:  (203) 746-6929
4687            ;
4687            
4687            ;------------------------------------
4687            ;
4687            ;  Sound effect init vector table
4687            ;
4687            ;    One shot sounds are at top
4687            ;
4687            ;------------------------------------
4687            
4687            snd_init_tab    
4687            
4687 E945               dw      play_one_shot   ; 0
4689 E945               dw      play_one_shot   ; 1
468B E945               dw      play_one_shot   ; 2
468D E945               dw      play_one_shot   ; 3
468F E945               dw      play_one_shot   ; 4
4691 E945               dw      play_one_shot   ; 5
4693 E945               dw      play_one_shot   ; 6
4695 E945               dw      play_one_shot   ; 7
4697 E945               dw      play_one_shot   ; 8
4699 E945               dw      play_one_shot   ; 9
469B E945               dw      play_one_shot   ; a
469D E945               dw      play_one_shot   ; b
469F E945               dw      play_one_shot   ; c
46A1 E945               dw      play_one_shot   ; d
46A3 E945               dw      play_one_shot   ; e
46A5            
46A5            ;------------------------------------
46A5            ;
46A5            ;  Trigger data for one shot sounds
46A5            ;
46A5            ;------------------------------------
46A5            
46A5            one_shot_tab
46A5            
46A5            ;               ----- ---- ----     ---- ---- -------
46A5            ;               NR51  NR10 NR11     NR12 NR13 NR14
46A5            ;               ----- ---- ----     ---- ---- -------
46A5            ;               enabl swp  wvln     env  fql  stlnfqh
46A5            ;               ----- ---- ----     ---- ---- -------
46A5            
46A5            s_open          ; 0- open a door or drawer
46A5            
46A5 880001             db      c4en, $00, $01,         $f4, $50, $c1+ch4
     F450D9     
46AB            
46AB            s_glitter       ; 1-tooth glitter on game over
46AB            
46AB 1176D0             db      c1en, $76, dty3+$10,$c2, $70, $87
     C27087     
46B1            
46B1            s_boyhit        ; 2-boy takes a hit
46B1            
46B1 111CC8             db      c1en, $1c, dty3+$08, $f4, $80, $87+ch1
     F48087     
46B7            
46B7            s_enmyhit       ; 3- enemy takes a hit
46B7            
46B7 111D84             db      c1en, $1d, dty2+$04, $f2, $80, $87+ch1
     F28087     
46BD            
46BD            s_enmygone      ; 4- enemy dead/gone
46BD            
46BD 11C7A0             db      c1en, $c7, dty2+$20, $f3, $20, $86+ch1
     F32086     
46C3            
46C3            s_bosshit       ; 5- boss takes a hit
46C3            
46C3 111D84             db      c1en, $1d, dty2+$04, $f2, $80, $86+ch1
     F28086     
46C9            
46C9            s_treasure      ; 6- boy gets treasure
46C9            
46C9 117510             db      c1en, $75, $10, $f2, $00, $86+ch1
     F20086     
46CF            
46CF            s_boygets       ; 7- boy gets shit
46CF            
46CF 117410             db      c1en, $74, $10, $f2, $00, $86+ch1
     F20086     
46D5            
46D5            s_dropchute     ; 8- drop item into chute
46D5            
46D5 11FE50             db      c1en, $fe, dty1+$10, $c3, $00, $86+ch1
     C30086     
46DB            
46DB            s_objfall       ; 9- general object falling sound
46DB            
46DB 11FF50             db      c1en, $ff, dty1+$10, $c7, $00, $c7+ch1
     C700C7     
46E1            
46E1            s_thump         ; a- general thump
46E1            
46E1 111D84             db      c1en, $1d, dty2+$04, $e0, $80, $86+ch1
     E08086     
46E7            
46E7            s_oneup         ; b- one-up sound
46E7            
46E7 1100E0             db      c1en, $00, dty3+$20, $f1, $c0, $c6+ch1
     F1C0C6     
46ED            
46ED            s_button        ; c- select and start key
46ED            
46ED 112484             db      c1en, $24, $80+$04, $80, $20, $c6+ch1
     8020C6     
46F3            
46F3            s_bigboom       ; d- big explosion
46F3            
46F3 880050             db      c4en, $00, $50, $f5, $54, $80+ch4
     F55498     
46F9            
46F9            s_bonus         ; e- bonus award
46F9            
46F9 1100C8             db      c1en, $00, $c0+$08, $a1, $39, $87+ch1
     A13987     
46FF            
46FF            ;
46FF            
0000            ^Z
46FF            
46FF                    endif
46FF                    endif
46FF            ;
46FF            ;
46FF            ;-------------------------------------
46FF            ;
46FF            soundend
01EE            soundsize       equ     soundend-soundstart
46FF            ;
0000            ^Z
46FF            
46FF                    include common.aud
46FF            
46FF            ;****************************************
46FF            ;*                                                              *
46FF            ;*            COMMON.AUD                                *
46FF            ;*                                                              *
46FF            ;*       Code for common area                   *
46FF            ;*                                                              *
46FF            ;*      GameBoy Music Sub-System                *
46FF            ;*                                                              *
46FF            ;* Copyright (c) 1991 Imagineering, Inc.*
46FF            ;*                                                              *
46FF            ;****************************************
46FF            ;
46FF            ;
46FF            ;    Prepared for Imagineering, Inc. by
46FF            ;    
46FF            ;       Stuart E. Ross
46FF            ;       New Potato Technologies
46FF            ;       P.O. Box 187
46FF            ;       Danbury, CT  06813
46FF            ;
46FF            ;       TEL:  (203) 746-9040
46FF            ;       FAX:  (203) 746-6929
46FF            ;
46FF            ;
46FF            ;--------------------------------------
46FF            
0083            ramsize equ     zpsize+absize
46FF            
46FF            ;------------------------------------
46FF            ;
46FF            ;       Global Sound Routines
46FF            ;
46FF            ;------------------------------------
46FF            
46FF            sndposmsk
46FF            
46FF 010204             db      $01, $02, $04, $08
     08         
4703            
4703            sndnegmsk
4703            
4703 FEFDFB             db      $FE, $FD, $FB, $F7
     F7         
4707            
4707            ;------------------------------------
4707            ;
4707            ;    Start / Stop Song Play
4707            ;
4707            ;    a  - song number (0=kill)
4707            ;
4707            ;------------------------------------
4707            
4707            setseq
4707            
4707 EAB7C0             ld      (sngnum),a              ;store song number
470A FE00               cp      0
470C 2016               jr      nz,goseq
470E            
470E            ;       (0=kill) disable sound channels here
470E            
470E 010300             ld      bc,3                            ;loop through all 3 channels
4711            
4711 21FF46     l0      ld      hl,sndposmsk
4714 09                 add     hl,bc
4715 FAA0C0             ld      a,(sndlock)     
4718 A6                 and     (hl)
4719 2003               jr      nz,l1
471B            
471B CD5B44             call    gen_off                                 ;silence!
471E            
471E 0D         l1      dec     c                                               ;next driver
471F CB79               bit     7,c
4721 28EE               jr      z,l0
4723            
4723 C9                 ret     
4724            
4724            ;       copy song sequence pointers from sngtab in *.mus
4724            
4724            goseq
4724 CB27               sla     a                       ;index song table 8 bytes per entry
4726 CB27               sla     a
4728 CB27               sla     a
472A 4F                 ld      c,a                     ;song index in bc
472B AF                 xor     a
472C 47                 ld      b,a                     ;clear bde
472D 57                 ld      d,a
472E 5F                 ld      e,a
472F            
472F 21F247             ld      hl,sngtab               ;copy song table to
4732 09                 add     hl,bc
4733 118AFF             ld      de,sngpt0               ;sngpt0
4736            
4736 0E08               ld      c,8                     ;copy all 8 bytes
4738            
4738 2A         l0      ld      a,(hli)                 ;load
4739 12                 ld      (de),a                  ;store
473A 13                 inc     de                      ;next dest
473B 0D                 dec     c                       ;count
473C 20FA               jr      nz,l0                   ;loop
473E            
473E 1600               ld      d,0                     ;avoid trouble
4740            
4740            ;       clear sequence varibles
4740            
4740 AF                 xor     a                       ;clear nffp vars
4741 1E41               ld      e,sqinix-sqini          ;all bytes of sequence vars
4743 21B8C0             ld      hl,sqini
4746            l0
4746 22                 ld      (hli),a
4747 1D                 dec     e
4748 20FC               jr      nz,l0                   ;clear loop
474A            
474A 1E18               ld      e,sqinix2-sqini2        ;and ffp vars
474C 2192FF             ld      hl,sqini2
474F            l0
474F 22                 ld      (hli),a
4750 1D                 dec     e
4751 20FC               jr      nz,l0                   ;clear loop
4753            
4753            ;       Configure stereo configuration
4753            
4753 21C047             ld      hl,sngpan               ;addr stereo panpot table
4756 FAB7C0             ld      a,(sngnum)              ;index by song
4759 5F                 ld      e,a
475A 19                 add     hl,de
475B 7E                 ld      a,(hl)                  ;lookup panpot settings
475C E0AA               ld      (stereo),a              ;save them
475E            
475E            ;       init waveform for sound 3
475E            
475E AF                 xor     a                               ;turn driver nr3 off
475F E01A               ld      (nr30),a                        
4761            
4761 0E10               ld      c,16                            ;copy the waveform table into waveform RAM
4763 21B147             ld      hl,waveform
4766 1130FF             ld      de,$ff30
4769 2A         l0      ld      a,(hli)
476A 12                 ld      (de),a
476B 13                 inc     de
476C 0D                 dec     c
476D 20FA               jr      nz,l0
476F            
476F 1600               ld      d,0                             ;avoid trouble
4771            
4771 3E80               ld      a,%10000000
4773 E01A               ld      (nr30),a                        ;turn nr3 on
4775            
4775            ;       Initialize sequencer variables
4775            
4775 3E01               ld      a,1                     ;set all times to 1 tic
4777 21C0C0             ld      hl,mtime
477A 22                 ld      (hli),a
477B 22                 ld      (hli),a
477C 22                 ld      (hli),a
477D 77                 ld      (hl),a
477E            
477E EAF1C0             ld      (mentron),a             ;metronome = 1
4781            
4781 3EFF               ld      a,$FF                   ;set these to -1
4783 EAF7C0             ld      (stflag),a
4786 EAF4C0             ld      (tfract),a
4789            
4789 FAB7C0             ld      a,(sngnum)              ;get tempo for this song
478C 4F                 ld      c,a
478D 21495D             ld      hl,tempos
4790 09                 add     hl,bc
4791 7E                 ld      a,(hl)
4792 EAF3C0             ld      (tempo),a
4795            
4795 C9                 ret
4796            
4796            ;------------------------------------
4796            ;
4796            ;       quiet all sound
4796            ;
4796            ;------------------------------------
4796            
4796            alloff
4796 F5                 push    af
4797 C5                 push    bc
4798            
4798            ;       Reset all sound effects in queue and sngnum
4798            
4798 3E00               ld      a,0                       
479A EAA1C0             ld      (numsnds),a             ; zero out numsnds
479D EAA0C0             ld      (sndlock),a             ; reset lockout flags
47A0 EAB7C0             ld      (sngnum),a              ; reset current sngnum
47A3            
47A3            ;       Turn off generation of audio
47A3            
47A3 010300             ld      bc,3            ; loop through all 3 channels
47A6            
47A6 CD5B44     l0      call    gen_off                 ; silence!
47A9            
47A9 0D                 dec     c
47AA CB79               bit     7,c
47AC 28F8               jr      z,l0
47AE            
47AE C1                 pop     bc
47AF F1                 pop     af
47B0 C9                 ret
47B1            
47B1            ;------------------------------------
47B1            ;
47B1            ;       Sound Gen Waveforms
47B1            ;
47B1            ;------------------------------------
47B1            
0000                    ifdef bart
47B1                    endif
47B1            
0000                    ifdef turn
47B1                    endif
47B1            
0001                    ifdef home
0000                    ifdef   devapd
47B1                    else
47B1                    include wave.dat
47B1            
47B1            
47B1            ;
47B1            ;       Delta MOD Encoded Waveform
47B1            ;
47B1            ;    Triangle Wave Function
47B1            ;    DRIVER = 1  RANGE = 15.000000
47B1            ;
47B1            
47B1            ; CLK    func(ts)   Value
47B1            
47B1            ; 000    1.000000        V=$  8
47B1            ; 001    1.125000        V=$  8
47B1            ; 002    1.250000        V=$  9
47B1            ; 003    1.375000        V=$  a
47B1            ; 004    1.500000        V=$  b
47B1            ; 005    1.625000        V=$  c
47B1            ; 006    1.750000        V=$  d
47B1            ; 007    1.875000        V=$  e
47B1            ; 008    2.000000        V=$  f
47B1            ; 009    1.875000        V=$  e
47B1            ; 010    1.750000        V=$  d
47B1            ; 011    1.625000        V=$  c
47B1            ; 012    1.500000        V=$  b
47B1            ; 013    1.375000        V=$  a
47B1            ; 014    1.250000        V=$  9
47B1            ; 015    1.125000        V=$  8
47B1            ; 016    1.000000        V=$  8
47B1            ; 017    0.875000        V=$  7
47B1            ; 018    0.750000        V=$  6
47B1            ; 019    0.625000        V=$  5
47B1            ; 020    0.500000        V=$  4
47B1            ; 021    0.375000        V=$  3
47B1            ; 022    0.250000        V=$  2
47B1            ; 023    0.125000        V=$  1
47B1            ; 024    0.000000        V=$  0
47B1            ; 025    0.125000        V=$  1
47B1            ; 026    0.250000        V=$  2
47B1            ; 027    0.375000        V=$  3
47B1            ; 028    0.500000        V=$  4
47B1            ; 029    0.625000        V=$  5
47B1            ; 030    0.750000        V=$  6
47B1            ; 031    0.875000        V=$  7
47B1            
47B1            ;  DC offset = 0.000000
47B1            
47B1            ;       Waveform Data
47B1            
47B1 DEFFFF     waveform DB $de, $ff, $ff, $ff, $ff, $ff, $ff, $ed
     FFFFFF     
     FFED       
47B9 210000              DB $21, $00, $00, $00, $00, $00, $00, $12
     000000     
     0012       
47C1            ;
0000            ^Z
47C1            
47C1                    endif
47C1                    endif
47C1            ;
47C1            
0000            ^Z
47C1            
47C1            
47C1                    include home.mus
47C1            
47C1            ;****************************************
47C1            ;*                                                                              *
47C1            ;*                          HOME.MUS                            *
47C1            ;*                                                                              *
47C1            ;*               "Home Alone - GameBoy"                 *
47C1            ;*                                                                              *
47C1            ;*                           MUSIC                                      *
47C1            ;*                                                                              *
47C1            ;* Copyright (c) 1991 Imagineering, Inc.*
47C1            ;*                                                                              *
47C1            ;****************************************
47C1            ;
47C1            ;
47C1            ;       Prepared for Imagineering, Inc. by
47C1            ;
47C1            ;               Stuart E. Ross
47C1            ;               New Potato Technologies
47C1            ;               P.O. Box 187
47C1            ;               Danbury, CT  06813
47C1            ;
47C1            ;               TEL:  (203) 746-9040
47C1            ;               FAX:  (203) 746-6929
47C1            ;
47C1            ;
47C1            ;--------------------------------------
47C1            
47C1            
47C1            ;--------------------------------------------
47C1            ;
47C1            ;  stereo panpot settings for each song
47C1            ;
47C1            ;--------------------------------------------
47C1            
47C0            sngpan  equ     $-1
47C1            
47C1 DE                 db      %11011110       ;1
47C2 FF                 db      %11111111       ;2
47C3 DB                 db      %11011011       ;3
47C4 BD                 db      %10111101       ;4
47C5 DB                 db      %11011011       ;5
47C6 BD                 db      %10111101       ;6
47C7 DB                 db      %11011011       ;7
47C8            
47C8            ;--------------------------------------
47C8            ;
47C8            ;       Instrument Initial Control Data
47C8            ;
47C8            ;--------------------------------------
47C8            
47C4            mute    equ     $-4                             ; driver mute table
47C8            
47C8            ;               -A- -B- -C- -D-         
47C8            
47C8 000000             db      $00,$00,$00,$00         ;1
     00         
47CC 000000             db      $00,$00,$00,$00         ;2
     00         
47D0 000000             db      $00,$00,$00,$00         ;3
     00         
47D4 000000             db      $00,$00,$00,$00         ;4
     00         
47D8 000000             db      $00,$00,$00,$00         ;5
     00         
47DC 000000             db      $00,$00,$00,$00         ;6
     00         
47E0 000000             db      $00,$00,$00,$00         ;7
     00         
47E4            
47E4            instyp                          ;instrument specification data
47E4            
47E4                    ;-------------
0001                    if      song1           ; Theme - DTseq 1
47E4                    ;-------------
47E4            home1ins
47E4 C2                 db      I_PLUKBASS + $C0        ; s1d3ch06 [sound 1]
47E5 E2                 db      I_PLUKBASS + $E0        ; s1d2ch08 [sound 2]
47E6 F1                 db      I_BASIC + $F0           ; s1d1ch07 [sound 3]
47E7                    ;-------------
47E7                    endif
47E7                    ;-------------
47E7                    ;-------------
0001                    if      song2           ; Nut Run - DTseq 2
47E7                    ;-------------
47E7            home2ins
47E7 84                 db      I_PLUKSTR1 + $80        ; s2d1ch04      
47E8 D3                 db      I_PLUKBASSX + $D0       ; s2d2ch08      
47E9 D3                 db      I_PLUKBASSX + $D0       ; s2d2ch07      
47EA F1                 db  I_BASIC + $F0               ; s2d3ch01      
47EB                    ;-------------
47EB                    endif
47EB                    ;-------------
47EB                    ;-------------
0001                    if      song3           ; RUNchuka
47EB                    ;-------------
47EB            home3ins
47EB C2                 db      I_PLUKBASS + $C0        ; s6d1ch10
47EC C4                 db      I_PLUKSTR1 + $C0        ; s6d2ch06
47ED F1                 db      I_BASIC    + $F0        ; s6d3ch01
47EE                    ;-------------
47EE                    endif
47EE                    ;-------------
47EE                    ;-------------
0001                    if      song4           ; spookRUN 
47EE                    ;-------------
47EE            home4ins
47EE C2                 db      I_PLUKBASS + $C0        ; s6d1ch10
47EF C4                 db      I_PLUKSTR1 + $C0        ; s6d2ch06
47F0 F1                 db      I_BASIC + $F0           ; s6d3ch01
47F1                    ;-------------
47F1                    endif
47F1                    ;-------------
47F1                    ;-------------
0001                    if      song5           ; DEAD
47F1                    ;-------------
47F1            home5ins
47F1 C2                 db      I_PLUKBASS + $C0        ; s6d1ch10
47F2 C4                 db      I_PLUKSTR1 + $C0        ; s6d2ch06
47F3 F1                 db      I_BASIC + $F0           ; s6d3ch01
47F4                    ;-------------
47F4                    endif
47F4                    ;-------------
47F4                    ;-------------
0001                    if      song6           ; acomplsh
47F4                    ;-------------
47F4            home6ins
47F4 C2                 db      I_PLUKBASS + $C0        ; s6d1ch10
47F5 C4                 db      I_PLUKSTR1 + $C0        ; s6d2ch06
47F6 F1                 db      I_BASIC + $F0           ; s6d3ch01
47F7                    ;-------------
47F7                    endif
47F7                    ;-------------
47F7                    ;-------------
0001                    if      song7           ; memryRUN
47F7                    ;-------------
47F7            home7ins
47F7 C2                 db      I_PLUKBASS + $C0                ; s7d1ch08
47F8 C4                 db      I_PLUKSTR1 + $C0                ; s7d2ch06
47F9 F1                 db      I_BASIC + $F0                   ; s7d3ch07
47FA            
47FA                    ;-------------
47FA                    endif
47FA                    ;-------------
47FA            
47FA            ;--------------------------------------
47FA            ;
47FA            ;     Sequence Data Specification
47FA            ;
47FA            ;--------------------------------------
47FA            
47F2            sngtab  equ     $-8             ;pointers to driver sequences
47FA            
47FA                    ;-------------
0001                    if      song1
47FA                    ;-------------
47FA 3248               dw      0+s1d1sl
47FC 3648               dw      0+s1d2sl
47FE 3A48               dw      0+s1d3sl
4800 3E48               dw      0+s1d4sl
4802                    ;-------------
4802                    endif
4802                    ;-------------
4802                    ;-------------
0001                    if      song2
4802                    ;-------------
4802 E64B               dw      0+s2d1sl 
4804 EA4B               dw      0+s2d2sl
4806 EE4B               dw      0+s2d3sl
4808 F24B               dw      0+s2d4sl
480A                    ;-------------
480A                    endif
480A                    ;-------------
480A                    ;-------------
0001                    if      song3
480A                    ;-------------
480A 5150               dw      0+s3d1sl 
480C 5550               dw      0+s3d2sl
480E 5950               dw      0+s3d3sl
4810 5D50               dw      0+s3d4sl
4812                    ;-------------
4812                    endif
4812                    ;-------------
4812            
4812                    ;-------------
0001                    if      song4
4812                    ;-------------
4812 6153               dw      0+s4d1sl 
4814 6553               dw      0+s4d2sl
4816 6953               dw      0+s4d3sl
4818 6D53               dw      0+s4d4sl
481A                    ;-------------
481A                    endif
481A                    ;-------------
481A            
481A                    ;-------------
0001                    if      song5
481A                    ;-------------
481A 0457               dw      0+s5d1sl 
481C 0857               dw      0+s5d2sl
481E 0C57               dw      0+s5d3sl
4820 1057               dw      0+s5d4sl
4822                    ;-------------
4822                    endif
4822                    ;-------------
4822            
4822                    ;-------------
0001                    if      song6
4822                    ;-------------
4822 9A57               dw      0+s6d1sl 
4824 9E57               dw      0+s6d2sl
4826 A257               dw      0+s6d3sl
4828 A657               dw      0+s6d4sl
482A                    ;-------------
482A                    endif
482A                    ;-------------
482A            
482A                    ;-------------
0001                    if      song7
482A                    ;-------------
482A 5358               dw      0+s7d1sl 
482C 5758               dw      0+s7d2sl
482E 5B58               dw      0+s7d3sl
4830 5F58               dw      0+s7d4sl
4832                    ;-------------
4832                    endif
4832                    ;-------------
4832            
4832            
4832            
4832            ;--------------------------------------
4832            ;
4832            ;
4832            ;       measure list
4832            ;       -------------------------
4832            ;   "ml"        sn      sq      d
4832            ;
4832            ;       measure
4832            ;       -------------------------
4832            ;       "m"     mn      sn      sq      d
4832            ;
4832            ;
4832            ;--------------------------------------
4832            
4832                    ;-------------
0001                    if      song1                   ; Theme - DTseq1
4832                    ;-------------
4832            
4832            home1start
4832            
4832            s1d1sl
4832 4248               dw      ml111
4834 0000               dw      sloop0
4836            s1d2sl
4836 7249               dw      ml112
4838 0000               dw      sloop0
483A            s1d3sl
483A 604A               dw      ml113
483C 0000               dw      sloop0
483E            s1d4sl
483E A74B               dw      ml114
4840 0000               dw      sloop0
4842            ;
0000                    ifdef   devapd
4842                    else
4842                    include home_s1.sq1
4842            
4842            ;HOME_S1.SQ1
4842            
4842            ;**************
4842            ;*   Song 1   *
4842            ;**************
4842            
4842            
4842            ;******************
4842            ;*   Sequence 1   *
4842            ;******************
4842            
4842            
4842            ;instrument list
4842            
0000            s1d1ch07        equ     home1ins-instyp
0001            s1d2ch08        equ     s1d1ch07+1
0002            s1d3ch06        equ     s1d2ch08+1
4842            
0063            tempo1          equ     099
4842            
4842            ;Driver #1
4842            
4842            ml111 
4842 A048               dw      m01111
4844 A048               dw      m01111
4846 B048               dw      m02111
4848 A048               dw      m01111
484A A048               dw      m01111
484C B048               dw      m02111
484E A048               dw      m01111
4850 A048               dw      m01111
4852 B048               dw      m02111
4854 A048               dw      m01111
4856 A048               dw      m01111
4858 B048               dw      m02111
485A C948               dw      m03111
485C C948               dw      m03111
485E C948               dw      m03111
4860 C948               dw      m03111
4862 C948               dw      m03111
4864 C948               dw      m03111
4866 D648               dw      m0c111
4868 DD48               dw      m04111
486A DD48               dw      m04111
486C DD48               dw      m04111
486E DD48               dw      m04111
4870 DD48               dw      m04111
4872 EA48               dw      m05111
4874 DD48               dw      m04111
4876 DD48               dw      m04111
4878 DD48               dw      m04111
487A DD48               dw      m04111
487C DD48               dw      m04111
487E EA48               dw      m05111
4880 0F49               dw      m06111
4882 DD48               dw      m04111
4884 1C49               dw      m07111
4886 3249               dw      m0d111
4888 0F49               dw      m06111
488A DD48               dw      m04111
488C 1C49               dw      m07111
488E 3649               dw      m08111
4890 4049               dw      m0e111
4892 3649               dw      m08111
4894 4449               dw      m0f111
4896 4B49               dw      m09111
4898 5B49               dw      m10111
489A 4B49               dw      m09111
489C 6549               dw      m11111
489E 0000               dw      mend
48A0            
48A0            m01111
48A0 FF0000             db      prgcng,s1d1ch07,normal
48A3 062003             db       006,fn4+00,003 ;ch07
48A6 062403             db       006,an4+00,003 ;ch07
48A9 061D03             db       006,dn4+00,003 ;ch07
48AC 062403             db       006,an4+00,003 ;ch07
48AF 00                 db      mend
48B0            
48B0            m02111
48B0 062403             db       006,an4+00,003 ;ch07
48B3 062803             db       006,cs5+00,003 ;ch07
48B6 062403             db       006,an4+00,003 ;ch07
48B9 062703             db       006,cn5+00,003 ;ch07
48BC 062303             db       006,gs4+00,003 ;ch07
48BF 062605             db       006,bn4+00,005 ;ch07
48C2 062203             db       006,gn4+00,003 ;ch07
48C5 062503             db       006,as4+00,003 ;ch07
48C8 00                 db      mend
48C9            
48C9            m03111
48C9 031C02             db       003,cs4+00,002 ;ch07
48CC 032002             db       003,fn4+00,002 ;ch07
48CF 031C02             db       003,cs4+00,002 ;ch07
48D2 032502             db       003,as4+00,002 ;ch07
48D5 00                 db      mend
48D6            
48D6            m0c111
48D6 182902             db       024,dn5+00,002 ;ch07
48D9 031D02             db       003,dn4+00,002 ;ch07
48DC 00                 db      mend
48DD            
48DD            m04111
48DD 032402             db       003,an4+00,002 ;ch07
48E0 032002             db       003,fn4+00,002 ;ch07
48E3 032402             db       003,an4+00,002 ;ch07
48E6 031D02             db       003,dn4+00,002 ;ch07
48E9 00                 db      mend
48EA            
48EA            m05111
48EA 032402             db       003,an4+00,002 ;ch07
48ED 032002             db       003,fn4+00,002 ;ch07
48F0 032402             db       003,an4+00,002 ;ch07
48F3 031C02             db       003,cs4+00,002 ;ch07
48F6 032802             db       003,cs5+00,002 ;ch07
48F9 032202             db       003,gn4+00,002 ;ch07
48FC 032702             db       003,cn5+00,002 ;ch07
48FF 031C02             db       003,cs4+00,002 ;ch07
4902 032602             db       003,bn4+00,002 ;ch07
4905 032202             db       003,gn4+00,002 ;ch07
4908 032502             db       003,as4+00,002 ;ch07
490B 031D02             db       003,dn4+00,002 ;ch07
490E 00                 db      mend
490F            
490F            m06111
490F 032402             db       003,an4+00,002 ;ch07
4912 032202             db       003,gn4+00,002 ;ch07
4915 032402             db       003,an4+00,002 ;ch07
4918 031D02             db       003,dn4+00,002 ;ch07
491B 00                 db      mend
491C            
491C            m07111
491C 032002             db       003,fn4+00,002 ;ch07
491F 031F02             db       003,en4+00,002 ;ch07
4922 032202             db       003,gn4+00,002 ;ch07
4925 031C02             db       003,cs4+00,002 ;ch07
4928 031F02             db       003,en4+00,002 ;ch07
492B 031D02             db       003,dn4+00,002 ;ch07
492E 032002             db       003,fn4+00,002 ;ch07
4931 00                 db      mend
4932            
4932            m0d111
4932 031D02             db       003,dn4+00,002 ;ch07
4935 00                 db      mend
4936            
4936            m08111
4936 031802             db       003,an3+00,002 ;ch07
4939 031F02             db       003,en4+00,002 ;ch07
493C 031C02             db       003,cs4+00,002 ;ch07
493F 00                 db      mend
4940            
4940            m0e111
4940 031F02             db       003,en4+00,002 ;ch07
4943 00                 db      mend
4944            
4944            m0f111
4944 032402             db       003,an4+00,002 ;ch07
4947 031802             db       003,an3+00,002 ;ch07
494A 00                 db      mend
494B            
494B            m09111
494B 032202             db       003,gn4+00,002 ;ch07
494E 031F02             db       003,en4+00,002 ;ch07
4951 032202             db       003,gn4+00,002 ;ch07
4954 031C02             db       003,cs4+00,002 ;ch07
4957 031F02             db       003,en4+00,002 ;ch07
495A 00                 db      mend
495B            
495B            m10111
495B 031902             db       003,as3+00,002 ;ch07
495E 031F02             db       003,en4+00,002 ;ch07
4961 031802             db       003,an3+00,002 ;ch07
4964 00                 db      mend
4965            
4965            m11111
4965 031F02             db       003,en4+00,002 ;ch07
4968 032202             db       003,gn4+00,002 ;ch07
496B 0C1D02             db       012,dn4+00,002 ;ch07
496E 0C1102             db       012,dn3+00,002 ;ch07
4971 00                 db      mend
4972            
4972            ;Driver #2
4972            
4972            ml112 
4972 B449               dw      m01112
4974 B449               dw      m01112
4976 C449               dw      m02112
4978 B449               dw      m01112
497A B449               dw      m01112
497C C449               dw      m02112
497E B449               dw      m01112
4980 B449               dw      m01112
4982 C449               dw      m02112
4984 B449               dw      m01112
4986 B449               dw      m01112
4988 C449               dw      m02112
498A DD49               dw      m0a112
498C FC49               dw      m03112
498E FC49               dw      m03112
4990 094A               dw      m04112
4992 134A               dw      m0b112
4994 1A4A               dw      m05112
4996 214A               dw      m0c112
4998 FC49               dw      m03112
499A FC49               dw      m03112
499C 094A               dw      m04112
499E 1A4A               dw      m05112
49A0 254A               dw      m0d112
49A2 2C4A               dw      m06112
49A4 2C4A               dw      m06112
49A6 454A               dw      m07112
49A8 4C4A               dw      m0e112
49AA 1A4A               dw      m05112
49AC 454A               dw      m07112
49AE 1A4A               dw      m05112
49B0 594A               dw      m0f112
49B2 0000               dw      mend
49B4            
49B4            m01112
49B4 FF0100             db      prgcng,s1d2ch08,normal
49B7 061D02             db       006,dn4+00,002 ;ch08
49BA 062402             db       006,an4+00,002 ;ch08
49BD 062002             db       006,fn4+00,002 ;ch08
49C0 062402             db       006,an4+00,002 ;ch08
49C3 00                 db      mend
49C4            
49C4            m02112
49C4 061D02             db       006,dn4+00,002 ;ch08
49C7 062402             db       006,an4+00,002 ;ch08
49CA 062002             db       006,fn4+00,002 ;ch08
49CD 062502             db       006,as4+00,002 ;ch08
49D0 061C02             db       006,cs4+00,002 ;ch08
49D3 062402             db       006,an4+00,002 ;ch08
49D6 061F02             db       006,en4+00,002 ;ch08
49D9 062202             db       006,gn4+00,002 ;ch08
49DC 00                 db      mend
49DD            
49DD            m0a112
49DD 0C0D02             db       012,as2+00,002 ;ch08
49E0 0C1002             db       012,cs3+00,002 ;ch08
49E3 0C1402             db       012,fn3+00,002 ;ch08
49E6 0C1902             db       012,as3+00,002 ;ch08
49E9 060D02             db       006,as2+00,002 ;ch08
49EC 061002             db       006,cs3+00,002 ;ch08
49EF 061402             db       006,fn3+00,002 ;ch08
49F2 061902             db       006,as3+00,002 ;ch08
49F5 181D02             db       024,dn4+00,002 ;ch08
49F8 061102             db       006,dn3+00,002 ;ch08
49FB 00                 db      mend
49FC            
49FC            m03112
49FC 061802             db       006,an3+00,002 ;ch08
49FF 061402             db       006,fn3+00,002 ;ch08
4A02 061802             db       006,an3+00,002 ;ch08
4A05 061102             db       006,dn3+00,002 ;ch08
4A08 00                 db      mend
4A09            
4A09            m04112
4A09 061802             db       006,an3+00,002 ;ch08
4A0C 061402             db       006,fn3+00,002 ;ch08
4A0F 061802             db       006,an3+00,002 ;ch08
4A12 00                 db      mend
4A13            
4A13            m0b112
4A13 061002             db       006,cs3+00,002 ;ch08
4A16 061602             db       006,gn3+00,002 ;ch08
4A19 00                 db      mend
4A1A            
4A1A            m05112
4A1A 061302             db       006,en3+00,002 ;ch08
4A1D 061602             db       006,gn3+00,002 ;ch08
4A20 00                 db      mend
4A21            
4A21            m0c112
4A21 061102             db       006,dn3+00,002 ;ch08
4A24 00                 db      mend
4A25            
4A25            m0d112
4A25 061002             db       006,cs3+00,002 ;ch08
4A28 061302             db       006,en3+00,002 ;ch08
4A2B 00                 db      mend
4A2C            
4A2C            m06112
4A2C 061102             db       006,dn3+00,002 ;ch08
4A2F 061902             db       006,as3+00,002 ;ch08
4A32 061D02             db       006,dn4+00,002 ;ch08
4A35 061802             db       006,an3+00,002 ;ch08
4A38 061C02             db       006,cs4+00,002 ;ch08
4A3B 061702             db       006,gs3+00,002 ;ch08
4A3E 061B02             db       006,cn4+00,002 ;ch08
4A41 061602             db       006,gn3+00,002 ;ch08
4A44 00                 db      mend
4A45            
4A45            m07112
4A45 060C02             db       006,an2+00,002 ;ch08
4A48 061802             db       006,an3+00,002 ;ch08
4A4B 00                 db      mend
4A4C            
4A4C            m0e112
4A4C 061602             db       006,gn3+00,002 ;ch08
4A4F 061802             db       006,an3+00,002 ;ch08
4A52 061402             db       006,fn3+00,002 ;ch08
4A55 061602             db       006,gn3+00,002 ;ch08
4A58 00                 db      mend
4A59            
4A59            m0f112
4A59 0C1102             db       012,dn3+00,002 ;ch08
4A5C 0C0502             db       012,dn2+00,002 ;ch08
4A5F 00                 db      mend
4A60            
4A60            ;Driver #3
4A60            
4A60            ml113 
4A60 904A               dw      m01113
4A62 904A               dw      m01113
4A64 A34A               dw      m02113
4A66 904A               dw      m01113
4A68 B94A               dw      m03113
4A6A 904A               dw      m01113
4A6C 904A               dw      m01113
4A6E A34A               dw      m02113
4A70 904A               dw      m01113
4A72 B94A               dw      m03113
4A74 E14A               dw      m09113
4A76 F44A               dw      m04113
4A78 FB4A               dw      m0a113
4A7A F44A               dw      m04113
4A7C FF4A               dw      m0b113
4A7E 184B               dw      m05113
4A80 2B4B               dw      m0c113
4A82 184B               dw      m05113
4A84 414B               dw      m0d113
4A86 9C4B               dw      m06113
4A88 9C4B               dw      m06113
4A8A 9C4B               dw      m06113
4A8C A34B               dw      m0e113
4A8E 0000               dw      mend
4A90            
4A90            m01113
4A90 FF0200             db      prgcng,s1d3ch06,normal
4A93 063003             db       006,an5+00,003 ;ch06
4A96 062C03             db       006,fn5+00,003 ;ch06
4A99 033103             db       003,as5+00,003 ;ch06
4A9C 033203             db       003,bn5+00,003 ;ch06
4A9F 063103             db       006,as5+00,003 ;ch06
4AA2 00                 db      mend
4AA3            
4AA3            m02113
4AA3 063003             db       006,an5+00,003 ;ch06
4AA6 063803             db       006,fn6+00,003 ;ch06
4AA9 063803             db       006,fn6+00,003 ;ch06
4AAC 063703             db       006,en6+00,003 ;ch06
4AAF 063703             db       006,en6+00,003 ;ch06
4AB2 063603             db       006,ds6+00,003 ;ch06
4AB5 0C3608             db       012,ds6+00,008 ;ch06
4AB8 00                 db      mend
4AB9            
4AB9            m03113
4AB9 063003             db       006,an5+00,003 ;ch06
4ABC 062C03             db       006,fn5+00,003 ;ch06
4ABF 033103             db       003,as5+00,003 ;ch06
4AC2 033203             db       003,bn5+00,003 ;ch06
4AC5 0C3103             db       012,as5+00,003 ;ch06
4AC8 033803             db       003,fn6+00,003 ;ch06
4ACB 033703             db       003,en6+00,003 ;ch06
4ACE 063803             db       006,fn6+00,003 ;ch06
4AD1 063503             db       006,dn6+00,003 ;ch06
4AD4 033003             db       003,an5+00,003 ;ch06
4AD7 032F03             db       003,gs5+00,003 ;ch06
4ADA 062E03             db       006,gn5+00,003 ;ch06
4ADD 0C2C08             db       012,fn5+00,008 ;ch06
4AE0 00                 db      mend
4AE1            
4AE1            m09113
4AE1 062503             db       006,as4+00,003 ;ch06
4AE4 033403             db       003,cs6+00,003 ;ch06
4AE7 033103             db       003,as5+00,003 ;ch06
4AEA 032C03             db       003,fn5+00,003 ;ch06
4AED 032803             db       003,cs5+00,003 ;ch06
4AF0 0C2503             db       012,as4+00,003 ;ch06
4AF3 00                 db      mend
4AF4            
4AF4            m04113
4AF4 032803             db       003,cs5+00,003 ;ch06
4AF7 032503             db       003,as4+00,003 ;ch06
4AFA 00                 db      mend
4AFB            
4AFB            m0a113
4AFB 122808             db       018,cs5+00,008 ;ch06
4AFE 00                 db      mend
4AFF            
4AFF            m0b113
4AFF 022802             db       002,cs5+00,002 ;ch06
4B02 022902             db       002,dn5+00,002 ;ch06
4B05 022A02             db       002,ds5+00,002 ;ch06
4B08 022B02             db       002,en5+00,002 ;ch06
4B0B 022C02             db       002,fn5+00,002 ;ch06
4B0E 012E01             db       001,gn5+00,001 ;ch06
4B11 013001             db       001,an5+00,001 ;ch06
4B14 183501             db       024,dn6+00,001 ;ch06
4B17 00                 db      mend
4B18            
4B18            m05113
4B18 062903             db       006,dn5+00,003 ;ch06
4B1B 062903             db       006,dn5+00,003 ;ch06
4B1E 033203             db       003,bn5+00,003 ;ch06
4B21 033303             db       003,cn6+00,003 ;ch06
4B24 063203             db       006,bn5+00,003 ;ch06
4B27 0C3008             db       012,an5+00,008 ;ch06
4B2A 00                 db      mend
4B2B            
4B2B            m0c113
4B2B 172C03             db       023,fn5+00,003 ;ch06
4B2E 0C2B05             db       012,en5+00,005 ;ch06
4B31 092605             db       009,bn4+00,005 ;ch06
4B34 012601             db       001,bn4+00,001 ;ch06
4B37 012701             db       001,cn5+00,001 ;ch06
4B3A 022802             db       002,cs5+00,002 ;ch06
4B3D 0C2905             db       012,dn5+00,005 ;ch06
4B40 00                 db      mend
4B41            
4B41            m0d113
4B41 122C03             db       018,fn5+00,003 ;ch06
4B44 062C05             db       006,fn5+00,005 ;ch06
4B47 0A2B03             db       010,en5+00,003 ;ch06
4B4A 012601             db       001,bn4+00,001 ;ch06
4B4D 012701             db       001,cn5+00,001 ;ch06
4B50 122805             db       018,cs5+00,005 ;ch06
4B53 062903             db       006,dn5+00,003 ;ch06
4B56 0A2905             db       010,dn5+00,005 ;ch06
4B59 013001             db       001,an5+00,001 ;ch06
4B5C 023202             db       002,bn5+00,002 ;ch06
4B5F 013301             db       001,cn6+00,001 ;ch06
4B62 0B3403             db       011,cs6+00,003 ;ch06
4B65 0C3305             db       012,cn6+00,005 ;ch06
4B68 063403             db       006,cs6+00,003 ;ch06
4B6B 062903             db       006,dn5+00,003 ;ch06
4B6E 052903             db       005,dn5+00,003 ;ch06
4B71 063004             db       006,an5+00,004 ;ch06
4B74 0C3106             db       012,as5+00,006 ;ch06
4B77 0C350B             db       012,dn6+00,011 ;ch06
4B7A 0C3406             db       012,cs6+00,006 ;ch06
4B7D 062403             db       006,an4+00,003 ;ch06
4B80 063003             db       006,an5+00,003 ;ch06
4B83 063703             db       006,en6+00,003 ;ch06
4B86 063003             db       006,an5+00,003 ;ch06
4B89 093103             db       009,as5+00,003 ;ch06
4B8C 033103             db       003,as5+00,003 ;ch06
4B8F 063003             db       006,an5+00,003 ;ch06
4B92 062403             db       006,an4+00,003 ;ch06
4B95 062403             db       006,an4+00,003 ;ch06
4B98 053003             db       005,an5+00,003 ;ch06
4B9B 00                 db      mend
4B9C            
4B9C            m06113
4B9C 023302             db       002,cn6+00,002 ;ch06
4B9F 023402             db       002,cs6+00,002 ;ch06
4BA2 00                 db      mend
4BA3            
4BA3            m0e113
4BA3 193506             db       025,dn6+00,006 ;ch06
4BA6 00                 db      mend
4BA7            
4BA7            ;Driver #4
4BA7            
4BA7            ml114 
4BA7 C94B               dw      m01114
4BA9 C94B               dw      m01114
4BAB C94B               dw      m01114
4BAD C94B               dw      m01114
4BAF C94B               dw      m01114
4BB1 C94B               dw      m01114
4BB3 C94B               dw      m01114
4BB5 C94B               dw      m01114
4BB7 C94B               dw      m01114
4BB9 C94B               dw      m01114
4BBB C94B               dw      m01114
4BBD C94B               dw      m01114
4BBF C94B               dw      m01114
4BC1 C94B               dw      m01114
4BC3 C94B               dw      m01114
4BC5 D64B               dw      m04114
4BC7 0000               dw      mend
4BC9            
4BC9            m01114
4BC9 061203             db       006,snare1,003 ;ch16
4BCC 061203             db       006,snare1,003 ;ch16
4BCF 061403             db       006,hicng1,003 ;ch16
4BD2 061403             db       006,hicng1,003 ;ch16
4BD5 00                 db      mend
4BD6            
4BD6            m04114
4BD6 061203             db       006,snare1,003 ;ch16
4BD9 061203             db       006,snare1,003 ;ch16
4BDC 061403             db       006,hicng1,003 ;ch16
4BDF FE1403             db       254,hicng1,003 ;ch16
4BE2 E83FE8             db       232,.rst   ,232        ;ch16
4BE5 00                 db      mend
4BE6            
4BE6            ;MIDI events found   = 555
4BE6            ;records generated   = 209
4BE6            ;percent compression = 62
4BE6            ;total bytes output  = 697
0000            ^Z
4BE6            
4BE6                    endif
4BE6            ;
4BE6            home1end
03B4            home1size       equ     home1end-home1start
4BE6            ;
4BE6                    ;-------------
4BE6                    endif
4BE6                    ;-------------
4BE6            ;
4BE6                    ;-------------
0001                    if      song2                   ; NUT RUN 
4BE6                    ;-------------
4BE6            
4BE6            home2start
4BE6            
4BE6            s2d1sl
4BE6 F64B               dw      ml211
4BE8 0000               dw      sloop0
4BEA            s2d2sl
4BEA 934D               dw      ml212
4BEC 0000               dw      sloop0
4BEE            s2d3sl
4BEE 724E               dw      ml213
4BF0 0000               dw      sloop0
4BF2            s2d4sl
4BF2 244F               dw      ml214
4BF4 0000               dw      sloop0
4BF6            
0000                    ifdef   devapd
4BF6                    else
4BF6                    include home_s2.sq1
4BF6            
4BF6            ;HOME_S2.SQ1
4BF6            
4BF6            ;**************
4BF6            ;*   Song 2   *
4BF6            ;**************
4BF6            
4BF6            
4BF6            ;******************
4BF6            ;*   Sequence 1   *
4BF6            ;******************
4BF6            
4BF6            
4BF6            ;instrument list
4BF6            
0003            s2d1ch04        equ     home2ins-instyp
0004            s2d2ch08        equ     s2d1ch04+1
0005            s2d2ch07        equ     s2d2ch08+1
0006            s2d3ch01        equ     s2d2ch07+1
4BF6            
009A            tempo2          equ     154
4BF6            
4BF6            ;Driver #1
4BF6            
4BF6            ml211 
4BF6 844C               dw      m01211
4BF8 844C               dw      m01211
4BFA 844C               dw      m01211
4BFC A04C               dw      m02211
4BFE B64C               dw      m0c211
4C00 844C               dw      m01211
4C02 844C               dw      m01211
4C04 844C               dw      m01211
4C06 A04C               dw      m02211
4C08 BA4C               dw      m0d211
4C0A C14C               dw      m03211
4C0C D74C               dw      m0e211
4C0E C14C               dw      m03211
4C10 844C               dw      m01211
4C12 A04C               dw      m02211
4C14 DB4C               dw      m04211
4C16 C14C               dw      m03211
4C18 E24C               dw      m0f211
4C1A C14C               dw      m03211
4C1C 844C               dw      m01211
4C1E A04C               dw      m02211
4C20 DB4C               dw      m04211
4C22 C14C               dw      m03211
4C24 844C               dw      m01211
4C26 E64C               dw      m10211
4C28 C14C               dw      m03211
4C2A 844C               dw      m01211
4C2C EA4C               dw      m11211
4C2E C14C               dw      m03211
4C30 EE4C               dw      m12211
4C32 C14C               dw      m03211
4C34 F24C               dw      m13211
4C36 C14C               dw      m03211
4C38 F64C               dw      m05211
4C3A FD4C               dw      m14211
4C3C F64C               dw      m05211
4C3E 074D               dw      m15211
4C40 0E4D               dw      m06211
4C42 0E4D               dw      m06211
4C44 0E4D               dw      m06211
4C46 0E4D               dw      m06211
4C48 0E4D               dw      m06211
4C4A 0E4D               dw      m06211
4C4C 0E4D               dw      m06211
4C4E 154D               dw      m07211
4C50 0E4D               dw      m06211
4C52 0E4D               dw      m06211
4C54 0E4D               dw      m06211
4C56 0E4D               dw      m06211
4C58 0E4D               dw      m06211
4C5A 0E4D               dw      m06211
4C5C 0E4D               dw      m06211
4C5E 154D               dw      m07211
4C60 0E4D               dw      m06211
4C62 0E4D               dw      m06211
4C64 0E4D               dw      m06211
4C66 4C4D               dw      m08211
4C68 0E4D               dw      m06211
4C6A 0E4D               dw      m06211
4C6C 0E4D               dw      m06211
4C6E 4C4D               dw      m08211
4C70 0E4D               dw      m06211
4C72 6B4D               dw      m16211
4C74 0E4D               dw      m06211
4C76 7E4D               dw      m09211
4C78 854D               dw      m17211
4C7A 7E4D               dw      m09211
4C7C 0E4D               dw      m06211
4C7E 7E4D               dw      m09211
4C80 8F4D               dw      m18211
4C82 0000               dw      mend
4C84            
4C84            m01211
4C84 FF0300             db      prgcng,s2d1ch04,normal
4C87 032002             db       003,fn4+00,002 ;ch04
4C8A 032202             db       003,gn4+00,002 ;ch04
4C8D 032402             db       003,an4+00,002 ;ch04
4C90 032502             db       003,as4+00,002 ;ch04
4C93 032702             db       003,cn5+00,002 ;ch04
4C96 032902             db       003,dn5+00,002 ;ch04
4C99 032B02             db       003,en5+00,002 ;ch04
4C9C 032C02             db       003,fn5+00,002 ;ch04
4C9F 00                 db      mend
4CA0            
4CA0            m02211
4CA0 032B02             db       003,en5+00,002 ;ch04
4CA3 032902             db       003,dn5+00,002 ;ch04
4CA6 032702             db       003,cn5+00,002 ;ch04
4CA9 032502             db       003,as4+00,002 ;ch04
4CAC 032402             db       003,an4+00,002 ;ch04
4CAF 032202             db       003,gn4+00,002 ;ch04
4CB2 032002             db       003,fn4+00,002 ;ch04
4CB5 00                 db      mend
4CB6            
4CB6            m0c211
4CB6 031B02             db       003,cn4+00,002 ;ch04
4CB9 00                 db      mend
4CBA            
4CBA            m0d211
4CBA 032402             db       003,an4+00,002 ;ch04
4CBD 031B02             db       003,cn4+00,002 ;ch04
4CC0 00                 db      mend
4CC1            
4CC1            m03211
4CC1 031D02             db       003,dn4+00,002 ;ch04
4CC4 031F02             db       003,en4+00,002 ;ch04
4CC7 032002             db       003,fn4+00,002 ;ch04
4CCA 032202             db       003,gn4+00,002 ;ch04
4CCD 032402             db       003,an4+00,002 ;ch04
4CD0 032602             db       003,bn4+00,002 ;ch04
4CD3 032702             db       003,cn5+00,002 ;ch04
4CD6 00                 db      mend
4CD7            
4CD7            m0e211
4CD7 031B02             db       003,cn4+00,002 ;ch04
4CDA 00                 db      mend
4CDB            
4CDB            m04211
4CDB 032702             db       003,cn5+00,002 ;ch04
4CDE 031B02             db       003,cn4+00,002 ;ch04
4CE1 00                 db      mend
4CE2            
4CE2            m0f211
4CE2 031B02             db       003,cn4+00,002 ;ch04
4CE5 00                 db      mend
4CE6            
4CE6            m10211
4CE6 031B02             db       003,cn4+00,002 ;ch04
4CE9 00                 db      mend
4CEA            
4CEA            m11211
4CEA 031B02             db       003,cn4+00,002 ;ch04
4CED 00                 db      mend
4CEE            
4CEE            m12211
4CEE 031B02             db       003,cn4+00,002 ;ch04
4CF1 00                 db      mend
4CF2            
4CF2            m13211
4CF2 031B02             db       003,cn4+00,002 ;ch04
4CF5 00                 db      mend
4CF6            
4CF6            m05211
4CF6 032902             db       003,dn5+00,002 ;ch04
4CF9 032B02             db       003,en5+00,002 ;ch04
4CFC 00                 db      mend
4CFD            
4CFD            m14211
4CFD 032C02             db       003,fn5+00,002 ;ch04
4D00 032502             db       003,as4+00,002 ;ch04
4D03 032702             db       003,cn5+00,002 ;ch04
4D06 00                 db      mend
4D07            
4D07            m15211
4D07 632C02             db       099,fn5+00,002 ;ch04
4D0A 032202             db       003,gn4+00,002 ;ch04
4D0D 00                 db      mend
4D0E            
4D0E            m06211
4D0E 031F02             db       003,en4+00,002 ;ch04
4D11 032202             db       003,gn4+00,002 ;ch04
4D14 00                 db      mend
4D15            
4D15            m07211
4D15 031F02             db       003,en4+00,002 ;ch04
4D18 032402             db       003,an4+00,002 ;ch04
4D1B 032002             db       003,fn4+00,002 ;ch04
4D1E 032402             db       003,an4+00,002 ;ch04
4D21 032002             db       003,fn4+00,002 ;ch04
4D24 032402             db       003,an4+00,002 ;ch04
4D27 032002             db       003,fn4+00,002 ;ch04
4D2A 032402             db       003,an4+00,002 ;ch04
4D2D 032002             db       003,fn4+00,002 ;ch04
4D30 032402             db       003,an4+00,002 ;ch04
4D33 032002             db       003,fn4+00,002 ;ch04
4D36 032402             db       003,an4+00,002 ;ch04
4D39 032002             db       003,fn4+00,002 ;ch04
4D3C 032402             db       003,an4+00,002 ;ch04
4D3F 032002             db       003,fn4+00,002 ;ch04
4D42 032402             db       003,an4+00,002 ;ch04
4D45 032002             db       003,fn4+00,002 ;ch04
4D48 032202             db       003,gn4+00,002 ;ch04
4D4B 00                 db      mend
4D4C            
4D4C            m08211
4D4C 031F02             db       003,en4+00,002 ;ch04
4D4F 032402             db       003,an4+00,002 ;ch04
4D52 032002             db       003,fn4+00,002 ;ch04
4D55 032402             db       003,an4+00,002 ;ch04
4D58 032002             db       003,fn4+00,002 ;ch04
4D5B 032402             db       003,an4+00,002 ;ch04
4D5E 032002             db       003,fn4+00,002 ;ch04
4D61 032402             db       003,an4+00,002 ;ch04
4D64 032002             db       003,fn4+00,002 ;ch04
4D67 032202             db       003,gn4+00,002 ;ch04
4D6A 00                 db      mend
4D6B            
4D6B            m16211
4D6B 031F02             db       003,en4+00,002 ;ch04
4D6E 032402             db       003,an4+00,002 ;ch04
4D71 032002             db       003,fn4+00,002 ;ch04
4D74 032002             db       003,fn4+00,002 ;ch04
4D77 032402             db       003,an4+00,002 ;ch04
4D7A 032602             db       003,bn4+00,002 ;ch04
4D7D 00                 db      mend
4D7E            
4D7E            m09211
4D7E 032002             db       003,fn4+00,002 ;ch04
4D81 032402             db       003,an4+00,002 ;ch04
4D84 00                 db      mend
4D85            
4D85            m17211
4D85 031F02             db       003,en4+00,002 ;ch04
4D88 031D02             db       003,dn4+00,002 ;ch04
4D8B 032202             db       003,gn4+00,002 ;ch04
4D8E 00                 db      mend
4D8F            
4D8F            m18211
4D8F 1E2004             db       030,fn4+00,004 ;ch04
4D92 00                 db      mend
4D93            
4D93            ;Driver #2
4D93            
4D93            ml212 
4D93 0F4E               dw      m01212
4D95 0F4E               dw      m01212
4D97 0F4E               dw      m01212
4D99 0F4E               dw      m01212
4D9B 0F4E               dw      m01212
4D9D 0F4E               dw      m01212
4D9F 0F4E               dw      m01212
4DA1 0F4E               dw      m01212
4DA3 0F4E               dw      m01212
4DA5 0F4E               dw      m01212
4DA7 0F4E               dw      m01212
4DA9 0F4E               dw      m01212
4DAB 0F4E               dw      m01212
4DAD 0F4E               dw      m01212
4DAF 0F4E               dw      m01212
4DB1 0F4E               dw      m01212
4DB3 194E               dw      m02212
4DB5 194E               dw      m02212
4DB7 0F4E               dw      m01212
4DB9 264E               dw      m03212
4DBB 0F4E               dw      m01212
4DBD 264E               dw      m03212
4DBF 194E               dw      m02212
4DC1 194E               dw      m02212
4DC3 0F4E               dw      m01212
4DC5 264E               dw      m03212
4DC7 0F4E               dw      m01212
4DC9 264E               dw      m03212
4DCB 194E               dw      m02212
4DCD 0F4E               dw      m01212
4DCF 264E               dw      m03212
4DD1 194E               dw      m02212
4DD3 0F4E               dw      m01212
4DD5 264E               dw      m03212
4DD7 2D4E               dw      m04212
4DD9 194E               dw      m02212
4DDB 194E               dw      m02212
4DDD 344E               dw      m05212
4DDF 444E               dw      m08212
4DE1 194E               dw      m02212
4DE3 194E               dw      m02212
4DE5 0F4E               dw      m01212
4DE7 264E               dw      m03212
4DE9 0F4E               dw      m01212
4DEB 264E               dw      m03212
4DED 194E               dw      m02212
4DEF 194E               dw      m02212
4DF1 0F4E               dw      m01212
4DF3 264E               dw      m03212
4DF5 0F4E               dw      m01212
4DF7 264E               dw      m03212
4DF9 194E               dw      m02212
4DFB 0F4E               dw      m01212
4DFD 264E               dw      m03212
4DFF 194E               dw      m02212
4E01 0F4E               dw      m01212
4E03 264E               dw      m03212
4E05 2D4E               dw      m04212
4E07 194E               dw      m02212
4E09 194E               dw      m02212
4E0B 344E               dw      m05212
4E0D 0000               dw      mend
4E0F            
4E0F            m01212
4E0F FF0400             db      prgcng,s2d2ch08,normal
4E12 061402             db       006,fn3+00,002 ;ch08
4E15 061B02             db       006,cn4+00,002 ;ch08
4E18 00                 db      mend
4E19            
4E19            m02212
4E19 060F02             db       006,cn3+00,002 ;ch08
4E1C 061602             db       006,gn3+00,002 ;ch08
4E1F 061302             db       006,en3+00,002 ;ch08
4E22 061605             db       006,gn3+00,005 ;ch08
4E25 00                 db      mend
4E26            
4E26            m03212
4E26 061802             db       006,an3+00,002 ;ch08
4E29 061B02             db       006,cn4+00,002 ;ch08
4E2C 00                 db      mend
4E2D            
4E2D            m04212
4E2D 061302             db       006,en3+00,002 ;ch08
4E30 061602             db       006,gn3+00,002 ;ch08
4E33 00                 db      mend
4E34            
4E34            m05212
4E34 060F02             db       006,cn3+00,002 ;ch08
4E37 061602             db       006,gn3+00,002 ;ch08
4E3A 061602             db       006,gn3+00,002 ;ch08
4E3D 060F02             db       006,cn3+00,002 ;ch08
4E40 0C1402             db       012,fn3+00,002 ;ch08
4E43 00                 db      mend
4E44            
4E44            m08212
4E44 FF0500             db      prgcng,s2d2ch07,normal
4E47 061B02             db       006,cn4+00,002 ;ch07
4E4A 031B02             db       003,cn4+00,002 ;ch07
4E4D 031B02             db       003,cn4+00,002 ;ch07
4E50 061B02             db       006,cn4+00,002 ;ch07
4E53 061902             db       006,as3+00,002 ;ch07
4E56 0C1802             db       012,an3+00,002 ;ch07
4E59 0C1402             db       012,fn3+00,002 ;ch07
4E5C 061602             db       006,gn3+00,002 ;ch07
4E5F 031602             db       003,gn3+00,002 ;ch07
4E62 031602             db       003,gn3+00,002 ;ch07
4E65 061602             db       006,gn3+00,002 ;ch07
4E68 061402             db       006,fn3+00,002 ;ch07
4E6B 0C1302             db       012,en3+00,002 ;ch07
4E6E 0C0F02             db       012,cn3+00,002 ;ch07
4E71 00                 db      mend
4E72            
4E72            ;Driver #3
4E72            
4E72            ml213 
4E72 A64E               dw      m07213
4E74 D44E               dw      m01213
4E76 DE4E               dw      m08213
4E78 E54E               dw      m02213
4E7A EC4E               dw      m03213
4E7C D44E               dw      m01213
4E7E D44E               dw      m01213
4E80 EC4E               dw      m03213
4E82 D44E               dw      m01213
4E84 F34E               dw      m04213
4E86 E54E               dw      m02213
4E88 E54E               dw      m02213
4E8A 0F4F               dw      m05213
4E8C 1C4F               dw      m09213
4E8E E54E               dw      m02213
4E90 EC4E               dw      m03213
4E92 D44E               dw      m01213
4E94 D44E               dw      m01213
4E96 EC4E               dw      m03213
4E98 D44E               dw      m01213
4E9A F34E               dw      m04213
4E9C E54E               dw      m02213
4E9E E54E               dw      m02213
4EA0 0F4F               dw      m05213
4EA2 204F               dw      m0a213
4EA4 0000               dw      mend
4EA6            
4EA6            m07213
4EA6 FF0600             db      prgcng,s2d3ch01,normal
4EA9 0C2C06             db       012,fn5+00,006 ;ch01
4EAC 062C03             db       006,fn5+00,003 ;ch01
4EAF 062C03             db       006,fn5+00,003 ;ch01
4EB2 0C2C06             db       012,fn5+00,006 ;ch01
4EB5 0C2C06             db       012,fn5+00,006 ;ch01
4EB8 0C2906             db       012,dn5+00,006 ;ch01
4EBB 0C2706             db       012,cn5+00,006 ;ch01
4EBE 0C2506             db       012,as4+00,006 ;ch01
4EC1 0C2906             db       012,dn5+00,006 ;ch01
4EC4 0C2706             db       012,cn5+00,006 ;ch01
4EC7 062703             db       006,cn5+00,003 ;ch01
4ECA 062703             db       006,cn5+00,003 ;ch01
4ECD 0C2706             db       012,cn5+00,006 ;ch01
4ED0 0C2706             db       012,cn5+00,006 ;ch01
4ED3 00                 db      mend
4ED4            
4ED4            m01213
4ED4 0C2406             db       012,an4+00,006 ;ch01
4ED7 0C2206             db       012,gn4+00,006 ;ch01
4EDA 0C2006             db       012,fn4+00,006 ;ch01
4EDD 00                 db      mend
4EDE            
4EDE            m08213
4EDE 062003             db       006,fn4+00,003 ;ch01
4EE1 062403             db       006,an4+00,003 ;ch01
4EE4 00                 db      mend
4EE5            
4EE5            m02213
4EE5 0C2206             db       012,gn4+00,006 ;ch01
4EE8 0C2006             db       012,fn4+00,006 ;ch01
4EEB 00                 db      mend
4EEC            
4EEC            m03213
4EEC 0C1F06             db       012,en4+00,006 ;ch01
4EEF 0C2206             db       012,gn4+00,006 ;ch01
4EF2 00                 db      mend
4EF3            
4EF3            m04213
4EF3 0C2406             db       012,an4+00,006 ;ch01
4EF6 0C2206             db       012,gn4+00,006 ;ch01
4EF9 0C2506             db       012,as4+00,006 ;ch01
4EFC 0C2406             db       012,an4+00,006 ;ch01
4EFF 0C2006             db       012,fn4+00,006 ;ch01
4F02 0C2206             db       012,gn4+00,006 ;ch01
4F05 0C2506             db       012,as4+00,006 ;ch01
4F08 0C2406             db       012,an4+00,006 ;ch01
4F0B 0C2006             db       012,fn4+00,006 ;ch01
4F0E 00                 db      mend
4F0F            
4F0F            m05213
4F0F 0C2206             db       012,gn4+00,006 ;ch01
4F12 0C1B06             db       012,cn4+00,006 ;ch01
4F15 062703             db       006,cn5+00,003 ;ch01
4F18 062B03             db       006,en5+00,003 ;ch01
4F1B 00                 db      mend
4F1C            
4F1C            m09213
4F1C 6C2C06             db       108,fn5+00,006 ;ch01
4F1F 00                 db      mend
4F20            
4F20            m0a213
4F20 0C2C06             db       012,fn5+00,006 ;ch01
4F23 00                 db      mend
4F24            
4F24            ;Driver #4
4F24            
4F24            ml214 
4F24 3650               dw      m01214
4F26 4350               dw      m02214
4F28 4350               dw      m02214
4F2A 4350               dw      m02214
4F2C 4350               dw      m02214
4F2E 3650               dw      m01214
4F30 3650               dw      m01214
4F32 4350               dw      m02214
4F34 4350               dw      m02214
4F36 4350               dw      m02214
4F38 4350               dw      m02214
4F3A 3650               dw      m01214
4F3C 3650               dw      m01214
4F3E 4350               dw      m02214
4F40 4350               dw      m02214
4F42 4350               dw      m02214
4F44 4350               dw      m02214
4F46 3650               dw      m01214
4F48 3650               dw      m01214
4F4A 4350               dw      m02214
4F4C 4350               dw      m02214
4F4E 4350               dw      m02214
4F50 4350               dw      m02214
4F52 3650               dw      m01214
4F54 3650               dw      m01214
4F56 4350               dw      m02214
4F58 4350               dw      m02214
4F5A 4350               dw      m02214
4F5C 4350               dw      m02214
4F5E 3650               dw      m01214
4F60 3650               dw      m01214
4F62 4350               dw      m02214
4F64 4350               dw      m02214
4F66 4350               dw      m02214
4F68 4350               dw      m02214
4F6A 3650               dw      m01214
4F6C 3650               dw      m01214
4F6E 4350               dw      m02214
4F70 4350               dw      m02214
4F72 4350               dw      m02214
4F74 4350               dw      m02214
4F76 3650               dw      m01214
4F78 3650               dw      m01214
4F7A 4350               dw      m02214
4F7C 4350               dw      m02214
4F7E 4350               dw      m02214
4F80 4350               dw      m02214
4F82 3650               dw      m01214
4F84 3650               dw      m01214
4F86 4350               dw      m02214
4F88 4350               dw      m02214
4F8A 3650               dw      m01214
4F8C 4350               dw      m02214
4F8E 4350               dw      m02214
4F90 3650               dw      m01214
4F92 4350               dw      m02214
4F94 4350               dw      m02214
4F96 3650               dw      m01214
4F98 4350               dw      m02214
4F9A 4350               dw      m02214
4F9C 3650               dw      m01214
4F9E 4350               dw      m02214
4FA0 4350               dw      m02214
4FA2 3650               dw      m01214
4FA4 4350               dw      m02214
4FA6 4350               dw      m02214
4FA8 3650               dw      m01214
4FAA 4350               dw      m02214
4FAC 4350               dw      m02214
4FAE 4A50               dw      m03214
4FB0 4A50               dw      m03214
4FB2 3650               dw      m01214
4FB4 4350               dw      m02214
4FB6 4350               dw      m02214
4FB8 4350               dw      m02214
4FBA 4350               dw      m02214
4FBC 4350               dw      m02214
4FBE 4350               dw      m02214
4FC0 4350               dw      m02214
4FC2 4350               dw      m02214
4FC4 4350               dw      m02214
4FC6 4350               dw      m02214
4FC8 4350               dw      m02214
4FCA 4350               dw      m02214
4FCC 4350               dw      m02214
4FCE 4350               dw      m02214
4FD0 4350               dw      m02214
4FD2 4350               dw      m02214
4FD4 3650               dw      m01214
4FD6 4350               dw      m02214
4FD8 4350               dw      m02214
4FDA 4350               dw      m02214
4FDC 4350               dw      m02214
4FDE 3650               dw      m01214
4FE0 3650               dw      m01214
4FE2 4350               dw      m02214
4FE4 4350               dw      m02214
4FE6 4350               dw      m02214
4FE8 4350               dw      m02214
4FEA 3650               dw      m01214
4FEC 3650               dw      m01214
4FEE 4350               dw      m02214
4FF0 4350               dw      m02214
4FF2 4350               dw      m02214
4FF4 4350               dw      m02214
4FF6 3650               dw      m01214
4FF8 3650               dw      m01214
4FFA 4350               dw      m02214
4FFC 4350               dw      m02214
4FFE 4350               dw      m02214
5000 4350               dw      m02214
5002 3650               dw      m01214
5004 3650               dw      m01214
5006 4350               dw      m02214
5008 4350               dw      m02214
500A 3650               dw      m01214
500C 4350               dw      m02214
500E 4350               dw      m02214
5010 3650               dw      m01214
5012 4350               dw      m02214
5014 4350               dw      m02214
5016 3650               dw      m01214
5018 4350               dw      m02214
501A 4350               dw      m02214
501C 3650               dw      m01214
501E 4350               dw      m02214
5020 4350               dw      m02214
5022 3650               dw      m01214
5024 4350               dw      m02214
5026 4350               dw      m02214
5028 3650               dw      m01214
502A 4350               dw      m02214
502C 4350               dw      m02214
502E 4A50               dw      m03214
5030 4A50               dw      m03214
5032 3650               dw      m01214
5034 0000               dw      mend
5036            
5036            m01214
5036 031203             db       003,snare1,003 ;ch16
5039 031403             db       003,hicng1,003 ;ch16
503C 031405             db       003,hicng1,005 ;ch16
503F 031403             db       003,hicng1,003 ;ch16
5042 00                 db      mend
5043            
5043            m02214
5043 031403             db       003,hicng1,003 ;ch16
5046 031403             db       003,hicng1,003 ;ch16
5049 00                 db      mend
504A            
504A            m03214
504A 031203             db       003,snare1,003 ;ch16
504D 031405             db       003,hicng1,005 ;ch16
5050 00                 db      mend
5051            
5051            ;MIDI events found   = 920
5051            ;records generated   = 153
5051            ;percent compression = 83
5051            ;total bytes output  = 527
5051            
0000            ^Z
5051            
5051                    endif
5051            
5051            home2end
046B            home2size       equ     home2end-home2start
5051            
5051                    ;-------------
5051                    endif
5051                    ;-------------
5051            
5051                    ;-------------
0001                    if      song3                   ; runchuka
5051                    ;-------------
5051            
5051            home3start
5051            
5051            s3d1sl
5051 6150               dw      ml311
5053 0000               dw      sloop0
5055            s3d2sl
5055 ED50               dw      ml312
5057 0000               dw      sloop0
5059            s3d3sl
5059 A051               dw      ml313
505B 0000               dw      sloop0
505D            s3d4sl
505D 4552               dw      ml314
505F 0000               dw      sloop0
5061            
0000                    ifdef   devapd
5061                    else
5061                    include home_s3.sq1
5061            
5061            ;HOME_S3.SQ1
5061            
5061            ;**************
5061            ;*   Song 3   *
5061            ;**************
5061            
5061            
5061            ;******************
5061            ;*   Sequence 1   *
5061            ;******************
5061            
5061            
5061            ;instrument list
5061            
0007            s3d1ch10        equ     home3ins-instyp
0008            s3d2ch06        equ     s3d1ch10+1
0009            s3d3ch01        equ     s3d2ch06+1
5061            
009A            tempo3          equ     154
5061            
5061            ;Driver #1
5061            
5061            ml311 
5061 C350               dw      m01311
5063 C350               dw      m01311
5065 C350               dw      m01311
5067 C350               dw      m01311
5069 C350               dw      m01311
506B C350               dw      m01311
506D C350               dw      m01311
506F C350               dw      m01311
5071 C350               dw      m01311
5073 C350               dw      m01311
5075 C350               dw      m01311
5077 C350               dw      m01311
5079 C350               dw      m01311
507B C350               dw      m01311
507D C350               dw      m01311
507F C350               dw      m01311
5081 D350               dw      m02311
5083 D350               dw      m02311
5085 D350               dw      m02311
5087 D350               dw      m02311
5089 D350               dw      m02311
508B D350               dw      m02311
508D D350               dw      m02311
508F D350               dw      m02311
5091 C350               dw      m01311
5093 C350               dw      m01311
5095 C350               dw      m01311
5097 C350               dw      m01311
5099 C350               dw      m01311
509B C350               dw      m01311
509D C350               dw      m01311
509F C350               dw      m01311
50A1 E050               dw      m03311
50A3 E050               dw      m03311
50A5 D350               dw      m02311
50A7 D350               dw      m02311
50A9 E050               dw      m03311
50AB E050               dw      m03311
50AD D350               dw      m02311
50AF D350               dw      m02311
50B1 E050               dw      m03311
50B3 E050               dw      m03311
50B5 D350               dw      m02311
50B7 D350               dw      m02311
50B9 C350               dw      m01311
50BB C350               dw      m01311
50BD C350               dw      m01311
50BF C350               dw      m01311
50C1 0000               dw      mend
50C3            
50C3            m01311
50C3 FF0700             db      prgcng,s3d1ch10,normal
50C6 061605             db       006,gn3+00,005 ;ch10
50C9 060F05             db       006,cn3+00,005 ;ch10
50CC 061805             db       006,an3+00,005 ;ch10
50CF 060F05             db       006,cn3+00,005 ;ch10
50D2 00                 db      mend
50D3            
50D3            m02311
50D3 061B05             db       006,cn4+00,005 ;ch10
50D6 061405             db       006,fn3+00,005 ;ch10
50D9 061D05             db       006,dn4+00,005 ;ch10
50DC 061405             db       006,fn3+00,005 ;ch10
50DF 00                 db      mend
50E0            
50E0            m03311
50E0 061D05             db       006,dn4+00,005 ;ch10
50E3 061605             db       006,gn3+00,005 ;ch10
50E6 061F05             db       006,en4+00,005 ;ch10
50E9 061605             db       006,gn3+00,005 ;ch10
50EC 00                 db      mend
50ED            
50ED            ;Driver #2
50ED            
50ED            ml312 
50ED 5951               dw      m01312
50EF 5951               dw      m01312
50F1 6351               dw      m02312
50F3 5951               dw      m01312
50F5 6D51               dw      m03312
50F7 6D51               dw      m03312
50F9 7451               dw      m08312
50FB 5951               dw      m01312
50FD 5951               dw      m01312
50FF 6351               dw      m02312
5101 5951               dw      m01312
5103 6D51               dw      m03312
5105 6D51               dw      m03312
5107 7851               dw      m09312
5109 5951               dw      m01312
510B 5951               dw      m01312
510D 7C51               dw      m04312
510F 5951               dw      m01312
5111 5951               dw      m01312
5113 8351               dw      m05312
5115 5951               dw      m01312
5117 5951               dw      m01312
5119 7C51               dw      m04312
511B 5951               dw      m01312
511D 5951               dw      m01312
511F 8351               dw      m05312
5121 5951               dw      m01312
5123 5951               dw      m01312
5125 6351               dw      m02312
5127 5951               dw      m01312
5129 6D51               dw      m03312
512B 6D51               dw      m03312
512D 8A51               dw      m0a312
512F 5951               dw      m01312
5131 5951               dw      m01312
5133 6351               dw      m02312
5135 5951               dw      m01312
5137 6D51               dw      m03312
5139 6D51               dw      m03312
513B 8E51               dw      m0b312
513D 5951               dw      m01312
513F 5951               dw      m01312
5141 6351               dw      m02312
5143 5951               dw      m01312
5145 6D51               dw      m03312
5147 9251               dw      m0c312
5149 5951               dw      m01312
514B 5951               dw      m01312
514D 6351               dw      m02312
514F 5951               dw      m01312
5151 6D51               dw      m03312
5153 6D51               dw      m03312
5155 9651               dw      m0d312
5157 0000               dw      mend
5159            
5159            m01312
5159 FF0800             db      prgcng,s3d2ch06,normal
515C 063303             db       006,cn6+00,003 ;ch06
515F 063303             db       006,cn6+00,003 ;ch06
5162 00                 db      mend
5163            
5163            m02312
5163 063303             db       006,cn6+00,003 ;ch06
5166 0C3305             db       012,cn6+00,005 ;ch06
5169 0C330B             db       012,cn6+00,011 ;ch06
516C 00                 db      mend
516D            
516D            m03312
516D 062E05             db       006,gn5+00,005 ;ch06
5170 062E05             db       006,gn5+00,005 ;ch06
5173 00                 db      mend
5174            
5174            m08312
5174 662E2F             db       102,gn5+00,047 ;ch06
5177 00                 db      mend
5178            
5178            m09312
5178 662E2F             db       102,gn5+00,047 ;ch06
517B 00                 db      mend
517C            
517C            m04312
517C 063305             db       006,cn6+00,005 ;ch06
517F 123305             db       018,cn6+00,005 ;ch06
5182 00                 db      mend
5183            
5183            m05312
5183 063305             db       006,cn6+00,005 ;ch06
5186 12360B             db       018,ds6+00,011 ;ch06
5189 00                 db      mend
518A            
518A            m0a312
518A 662E2F             db       102,gn5+00,047 ;ch06
518D 00                 db      mend
518E            
518E            m0b312
518E 062E05             db       006,gn5+00,005 ;ch06
5191 00                 db      mend
5192            
5192            m0c312
5192 122E11             db       018,gn5+00,017 ;ch06
5195 00                 db      mend
5196            
5196            m0d312
5196 302E2F             db       048,gn5+00,047 ;ch06
5199 0C2E0B             db       012,gn5+00,011 ;ch06
519C 2A2205             db       042,gn4+00,005 ;ch06
519F 00                 db      mend
51A0            
51A0            ;Driver #3
51A0            
51A0            ml313 
51A0 0652               dw      m01313
51A2 0652               dw      m01313
51A4 1052               dw      m02313
51A6 0652               dw      m01313
51A8 0652               dw      m01313
51AA 1A52               dw      m03313
51AC 0652               dw      m01313
51AE 0652               dw      m01313
51B0 1052               dw      m02313
51B2 0652               dw      m01313
51B4 0652               dw      m01313
51B6 1A52               dw      m03313
51B8 0652               dw      m01313
51BA 0652               dw      m01313
51BC 1052               dw      m02313
51BE 0652               dw      m01313
51C0 0652               dw      m01313
51C2 2452               dw      m07313
51C4 0652               dw      m01313
51C6 0652               dw      m01313
51C8 1052               dw      m02313
51CA 0652               dw      m01313
51CC 0652               dw      m01313
51CE 2852               dw      m08313
51D0 0652               dw      m01313
51D2 0652               dw      m01313
51D4 1052               dw      m02313
51D6 0652               dw      m01313
51D8 0652               dw      m01313
51DA 1A52               dw      m03313
51DC 0652               dw      m01313
51DE 0652               dw      m01313
51E0 1052               dw      m02313
51E2 0652               dw      m01313
51E4 0652               dw      m01313
51E6 2C52               dw      m04313
51E8 3352               dw      m09313
51EA 0652               dw      m01313
51EC 0652               dw      m01313
51EE 1052               dw      m02313
51F0 0652               dw      m01313
51F2 0652               dw      m01313
51F4 3752               dw      m0a313
51F6 0652               dw      m01313
51F8 0652               dw      m01313
51FA 1052               dw      m02313
51FC 0652               dw      m01313
51FE 0652               dw      m01313
5200 2C52               dw      m04313
5202 3B52               dw      m0b313
5204 0000               dw      mend
5206            
5206            m01313
5206 FF0900             db      prgcng,s3d3ch01,normal
5209 062E05             db       006,gn5+00,005 ;ch01
520C 062E05             db       006,gn5+00,005 ;ch01
520F 00                 db      mend
5210            
5210            m02313
5210 062E05             db       006,gn5+00,005 ;ch01
5213 0C2E05             db       012,gn5+00,005 ;ch01
5216 0C2E0B             db       012,gn5+00,011 ;ch01
5219 00                 db      mend
521A            
521A            m03313
521A 062A05             db       006,ds5+00,005 ;ch01
521D 062905             db       006,dn5+00,005 ;ch01
5220 66272F             db       102,cn5+00,047 ;ch01
5223 00                 db      mend
5224            
5224            m07313
5224 122E0B             db       018,gn5+00,011 ;ch01
5227 00                 db      mend
5228            
5228            m08313
5228 122E10             db       018,gn5+00,016 ;ch01
522B 00                 db      mend
522C            
522C            m04313
522C 062A05             db       006,ds5+00,005 ;ch01
522F 062905             db       006,dn5+00,005 ;ch01
5232 00                 db      mend
5233            
5233            m09313
5233 062705             db       006,cn5+00,005 ;ch01
5236 00                 db      mend
5237            
5237            m0a313
5237 123611             db       018,ds6+00,017 ;ch01
523A 00                 db      mend
523B            
523B            m0b313
523B 30272F             db       048,cn5+00,047 ;ch01
523E 0C330B             db       012,cn6+00,011 ;ch01
5241 2A2705             db       042,cn5+00,005 ;ch01
5244 00                 db      mend
5245            
5245            ;Driver #4
5245            
5245            ml314 
5245 0F53               dw      m01314
5247 1653               dw      m08314
5249 0F53               dw      m01314
524B 1A53               dw      m02314
524D 0F53               dw      m01314
524F 1A53               dw      m02314
5251 0F53               dw      m01314
5253 1A53               dw      m02314
5255 0F53               dw      m01314
5257 1A53               dw      m02314
5259 0F53               dw      m01314
525B 1A53               dw      m02314
525D 0F53               dw      m01314
525F 1A53               dw      m02314
5261 0F53               dw      m01314
5263 1A53               dw      m02314
5265 0F53               dw      m01314
5267 1A53               dw      m02314
5269 0F53               dw      m01314
526B 1A53               dw      m02314
526D 0F53               dw      m01314
526F 1A53               dw      m02314
5271 0F53               dw      m01314
5273 1A53               dw      m02314
5275 0F53               dw      m01314
5277 1A53               dw      m02314
5279 0F53               dw      m01314
527B 1A53               dw      m02314
527D 2153               dw      m03314
527F 2853               dw      m09314
5281 2F53               dw      m04314
5283 3653               dw      m0a314
5285 0F53               dw      m01314
5287 4053               dw      m0b314
5289 0F53               dw      m01314
528B 1A53               dw      m02314
528D 0F53               dw      m01314
528F 1A53               dw      m02314
5291 0F53               dw      m01314
5293 1A53               dw      m02314
5295 0F53               dw      m01314
5297 1A53               dw      m02314
5299 1A53               dw      m02314
529B 1A53               dw      m02314
529D 1A53               dw      m02314
529F 2153               dw      m03314
52A1 4453               dw      m0c314
52A3 2F53               dw      m04314
52A5 4B53               dw      m0d314
52A7 0F53               dw      m01314
52A9 5253               dw      m0e314
52AB 0F53               dw      m01314
52AD 1A53               dw      m02314
52AF 0F53               dw      m01314
52B1 1A53               dw      m02314
52B3 0F53               dw      m01314
52B5 1A53               dw      m02314
52B7 0F53               dw      m01314
52B9 1A53               dw      m02314
52BB 0F53               dw      m01314
52BD 1A53               dw      m02314
52BF 0F53               dw      m01314
52C1 1A53               dw      m02314
52C3 0F53               dw      m01314
52C5 1A53               dw      m02314
52C7 0F53               dw      m01314
52C9 1A53               dw      m02314
52CB 0F53               dw      m01314
52CD 1A53               dw      m02314
52CF 0F53               dw      m01314
52D1 1A53               dw      m02314
52D3 0F53               dw      m01314
52D5 1A53               dw      m02314
52D7 0F53               dw      m01314
52D9 1A53               dw      m02314
52DB 0F53               dw      m01314
52DD 1A53               dw      m02314
52DF 0F53               dw      m01314
52E1 1A53               dw      m02314
52E3 0F53               dw      m01314
52E5 1A53               dw      m02314
52E7 0F53               dw      m01314
52E9 1A53               dw      m02314
52EB 0F53               dw      m01314
52ED 1A53               dw      m02314
52EF 0F53               dw      m01314
52F1 1A53               dw      m02314
52F3 0F53               dw      m01314
52F5 1A53               dw      m02314
52F7 0F53               dw      m01314
52F9 1A53               dw      m02314
52FB 0F53               dw      m01314
52FD 1A53               dw      m02314
52FF 5653               dw      m0f314
5301 2F53               dw      m04314
5303 2F53               dw      m04314
5305 5A53               dw      m05314
5307 2F53               dw      m04314
5309 2F53               dw      m04314
530B 5A53               dw      m05314
530D 0000               dw      mend
530F            
530F            m01314
530F 060103             db       006,bassd1,003 ;ch16
5312 060103             db       006,bassd1,003 ;ch16
5315 00                 db      mend
5316            
5316            m08314
5316 061205             db       006,snare1,005 ;ch16
5319 00                 db      mend
531A            
531A            m02314
531A 060105             db       006,bassd1,005 ;ch16
531D 061205             db       006,snare1,005 ;ch16
5320 00                 db      mend
5321            
5321            m03314
5321 060105             db       006,bassd1,005 ;ch16
5324 0C1205             db       012,snare1,005 ;ch16
5327 00                 db      mend
5328            
5328            m09314
5328 0C1205             db       012,snare1,005 ;ch16
532B 031203             db       003,snare1,003 ;ch16
532E 00                 db      mend
532F            
532F            m04314
532F 031203             db       003,snare1,003 ;ch16
5332 031203             db       003,snare1,003 ;ch16
5335 00                 db      mend
5336            
5336            m0a314
5336 031203             db       003,snare1,003 ;ch16
5339 061205             db       006,snare1,005 ;ch16
533C 061205             db       006,snare1,005 ;ch16
533F 00                 db      mend
5340            
5340            m0b314
5340 061205             db       006,snare1,005 ;ch16
5343 00                 db      mend
5344            
5344            m0c314
5344 031303             db       003,hitom1,003 ;ch16
5347 031303             db       003,hitom1,003 ;ch16
534A 00                 db      mend
534B            
534B            m0d314
534B 061303             db       006,hitom1,003 ;ch16
534E 061205             db       006,snare1,005 ;ch16
5351 00                 db      mend
5352            
5352            m0e314
5352 061205             db       006,snare1,005 ;ch16
5355 00                 db      mend
5356            
5356            m0f314
5356 060105             db       006,bassd1,005 ;ch16
5359 00                 db      mend
535A            
535A            m05314
535A 061205             db       006,snare1,005 ;ch16
535D 061205             db       006,snare1,005 ;ch16
5360 00                 db      mend
5361            
5361            ;MIDI events found   = 605
5361            ;records generated   = 68
5361            ;percent compression = 88
5361            ;total bytes output  = 265
5361            
0000            ^Z
5361            
5361                    endif
5361            
5361            home3end
0310            home3size       equ     home3end-home3start
5361            
5361                    ;-------------
5361                    endif
5361                    ;-------------
5361            
5361                    ;-------------
0001                    if      song4                   ; spookrun
5361                    ;-------------
5361            
5361            home4start
5361            
5361            s4d1sl
5361 7153               dw      ml411
5363 0000               dw      sloop0
5365            s4d2sl
5365 5154               dw      ml412
5367 0000               dw      sloop0
5369            s4d3sl
5369 1F55               dw      ml413
536B 0000               dw      sloop0
536D            s4d4sl
536D 0F56               dw      ml414
536F 0000               dw      sloop0
5371            
0000                    ifdef   devapd
5371                    else
5371                    include home_s4.sq1
5371            
5371            ;HOME_S4.SQ1
5371            
5371            ;**************
5371            ;*   Song 4   *
5371            ;**************
5371            
5371            
5371            ;******************
5371            ;*   Sequence 1   *
5371            ;******************
5371            
5371            
5371            ;instrument list
5371            
000A            s4d1ch10        equ     home4ins-instyp
000B            s4d2ch06        equ     s4d1ch10+1
000C            s4d3ch01        equ     s4d2ch06+1
5371            
0065            tempo4          equ     101
5371            
5371            ;Driver #1
5371            
5371            ml411 
5371 BF53               dw      m01411
5373 BF53               dw      m01411
5375 BF53               dw      m01411
5377 BF53               dw      m01411
5379 CF53               dw      m02411
537B CF53               dw      m02411
537D DC53               dw      m03411
537F CF53               dw      m02411
5381 CF53               dw      m02411
5383 DC53               dw      m03411
5385 CF53               dw      m02411
5387 CF53               dw      m02411
5389 DC53               dw      m03411
538B CF53               dw      m02411
538D CF53               dw      m02411
538F DC53               dw      m03411
5391 F553               dw      m04411
5393 0554               dw      m05411
5395 0C54               dw      m0d411
5397 F553               dw      m04411
5399 1054               dw      m06411
539B F553               dw      m04411
539D 1054               dw      m06411
539F F553               dw      m04411
53A1 1054               dw      m06411
53A3 1A54               dw      m07411
53A5 2A54               dw      m0e411
53A7 0554               dw      m05411
53A9 1A54               dw      m07411
53AB 2E54               dw      m0f411
53AD 3554               dw      m08411
53AF 3C54               dw      m09411
53B1 3554               dw      m08411
53B3 4354               dw      m0a411
53B5 4D54               dw      m10411
53B7 3C54               dw      m09411
53B9 3554               dw      m08411
53BB 4354               dw      m0a411
53BD 0000               dw      mend
53BF            
53BF            m01411
53BF FF0A00             db      prgcng,s4d1ch10,normal
53C2 060A02             db       006,gn2+00,002 ;ch10
53C5 061902             db       006,as3+00,002 ;ch10
53C8 061102             db       006,dn3+00,002 ;ch10
53CB 061602             db       006,gn3+00,002 ;ch10
53CE 00                 db      mend
53CF            
53CF            m02411
53CF 060A02             db       006,gn2+00,002 ;ch10
53D2 061602             db       006,gn3+00,002 ;ch10
53D5 061102             db       006,dn3+00,002 ;ch10
53D8 061902             db       006,as3+00,002 ;ch10
53DB 00                 db      mend
53DC            
53DC            m03411
53DC 060605             db       006,ds2+00,005 ;ch10
53DF 061902             db       006,as3+00,002 ;ch10
53E2 060D02             db       006,as2+00,002 ;ch10
53E5 061502             db       006,fs3+00,002 ;ch10
53E8 061202             db       006,ds3+00,002 ;ch10
53EB 061902             db       006,as3+00,002 ;ch10
53EE 061502             db       006,fs3+00,002 ;ch10
53F1 061E02             db       006,ds4+00,002 ;ch10
53F4 00                 db      mend
53F5            
53F5            m04411
53F5 060702             db       006,en2+00,002 ;ch10
53F8 061602             db       006,gn3+00,002 ;ch10
53FB 060E02             db       006,bn2+00,002 ;ch10
53FE 061602             db       006,gn3+00,002 ;ch10
5401 060D02             db       006,as2+00,002 ;ch10
5404 00                 db      mend
5405            
5405            m05411
5405 061C02             db       006,cs4+00,002 ;ch10
5408 061402             db       006,fn3+00,002 ;ch10
540B 00                 db      mend
540C            
540C            m0d411
540C 061902             db       006,as3+00,002 ;ch10
540F 00                 db      mend
5410            
5410            m06411
5410 061402             db       006,fn3+00,002 ;ch10
5413 061902             db       006,as3+00,002 ;ch10
5416 061C02             db       006,cs4+00,002 ;ch10
5419 00                 db      mend
541A            
541A            m07411
541A 060702             db       006,en2+00,002 ;ch10
541D 061604             db       006,gn3+00,004 ;ch10
5420 060E04             db       006,bn2+00,004 ;ch10
5423 061A04             db       006,bn3+00,004 ;ch10
5426 060D04             db       006,as2+00,004 ;ch10
5429 00                 db      mend
542A            
542A            m0e411
542A 061904             db       006,as3+00,004 ;ch10
542D 00                 db      mend
542E            
542E            m0f411
542E 061404             db       006,fn3+00,004 ;ch10
5431 061C04             db       006,cs4+00,004 ;ch10
5434 00                 db      mend
5435            
5435            m08411
5435 061904             db       006,as3+00,004 ;ch10
5438 060C04             db       006,an2+00,004 ;ch10
543B 00                 db      mend
543C            
543C            m09411
543C 061804             db       006,an3+00,004 ;ch10
543F 061304             db       006,en3+00,004 ;ch10
5442 00                 db      mend
5443            
5443            m0a411
5443 061B04             db       006,cn4+00,004 ;ch10
5446 061304             db       006,en3+00,004 ;ch10
5449 061C04             db       006,cs4+00,004 ;ch10
544C 00                 db      mend
544D            
544D            m10411
544D 060C04             db       006,an2+00,004 ;ch10
5450 00                 db      mend
5451            
5451            ;Driver #2
5451            
5451            ml412 
5451 6D54               dw      m05412
5453 7754               dw      m01412
5455 E154               dw      m06412
5457 7754               dw      m01412
5459 E554               dw      m02412
545B EC54               dw      m03412
545D E554               dw      m02412
545F F954               dw      m07412
5461 E554               dw      m02412
5463 EC54               dw      m03412
5465 E554               dw      m02412
5467 FD54               dw      m08412
5469 E554               dw      m02412
546B 0000               dw      mend
546D            
546D            m05412
546D FF0B00             db      prgcng,s4d2ch06,normal
5470 603F60             db       096,.rst   ,096        ;ch06
5473 0C2E0C             db       012,gn5+00,012 ;ch06
5476 00                 db      mend
5477            
5477            m01412
5477 0C290B             db       012,dn5+00,011 ;ch06
547A 0C250B             db       012,as4+00,011 ;ch06
547D 0C220B             db       012,gn4+00,011 ;ch06
5480 022802             db       002,cs5+00,002 ;ch06
5483 022902             db       002,dn5+00,002 ;ch06
5486 022802             db       002,cs5+00,002 ;ch06
5489 022902             db       002,dn5+00,002 ;ch06
548C 022802             db       002,cs5+00,002 ;ch06
548F 022902             db       002,dn5+00,002 ;ch06
5492 022802             db       002,cs5+00,002 ;ch06
5495 022902             db       002,dn5+00,002 ;ch06
5498 022802             db       002,cs5+00,002 ;ch06
549B 022902             db       002,dn5+00,002 ;ch06
549E 022802             db       002,cs5+00,002 ;ch06
54A1 022902             db       002,dn5+00,002 ;ch06
54A4 022802             db       002,cs5+00,002 ;ch06
54A7 022902             db       002,dn5+00,002 ;ch06
54AA 022802             db       002,cs5+00,002 ;ch06
54AD 022902             db       002,dn5+00,002 ;ch06
54B0 022802             db       002,cs5+00,002 ;ch06
54B3 022902             db       002,dn5+00,002 ;ch06
54B6 022802             db       002,cs5+00,002 ;ch06
54B9 022902             db       002,dn5+00,002 ;ch06
54BC 022802             db       002,cs5+00,002 ;ch06
54BF 022902             db       002,dn5+00,002 ;ch06
54C2 022802             db       002,cs5+00,002 ;ch06
54C5 022902             db       002,dn5+00,002 ;ch06
54C8 0C220B             db       012,gn4+00,011 ;ch06
54CB 0C250B             db       012,as4+00,011 ;ch06
54CE 0C240B             db       012,an4+00,011 ;ch06
54D1 0C280B             db       012,cs5+00,011 ;ch06
54D4 0C250B             db       012,as4+00,011 ;ch06
54D7 0C270B             db       012,cn5+00,011 ;ch06
54DA 0C280B             db       012,cs5+00,011 ;ch06
54DD 0C2D0B             db       012,fs5+00,011 ;ch06
54E0 00                 db      mend
54E1            
54E1            m06412
54E1 0C2E0B             db       012,gn5+00,011 ;ch06
54E4 00                 db      mend
54E5            
54E5            m02412
54E5 0C260B             db       012,bn4+00,011 ;ch06
54E8 0C220B             db       012,gn4+00,011 ;ch06
54EB 00                 db      mend
54EC            
54EC            m03412
54EC 062105             db       006,fs4+00,005 ;ch06
54EF 062205             db       006,gn4+00,005 ;ch06
54F2 062405             db       006,an4+00,005 ;ch06
54F5 062505             db       006,as4+00,005 ;ch06
54F8 00                 db      mend
54F9            
54F9            m07412
54F9 182511             db       024,as4+00,017 ;ch06
54FC 00                 db      mend
54FD            
54FD            m08412
54FD 482511             db       072,as4+00,017 ;ch06
5500 0C2E0B             db       012,gn5+00,011 ;ch06
5503 0C2D0B             db       012,fs5+00,011 ;ch06
5506 0C2A0B             db       012,ds5+00,011 ;ch06
5509 0C290B             db       012,dn5+00,011 ;ch06
550C 0C2E0B             db       012,gn5+00,011 ;ch06
550F 0C2D08             db       012,fs5+00,008 ;ch06
5512 0C300B             db       012,an5+00,011 ;ch06
5515 0C3108             db       012,as5+00,008 ;ch06
5518 0C2E0B             db       012,gn5+00,011 ;ch06
551B 0C2A09             db       012,ds5+00,009 ;ch06
551E 00                 db      mend
551F            
551F            ;Driver #3
551F            
551F            ml413 
551F 5155               dw      m08413
5521 6155               dw      m01413
5523 6855               dw      m02413
5525 6155               dw      m01413
5527 6F55               dw      m09413
5529 7C55               dw      m03413
552B C855               dw      m0a413
552D 6155               dw      m01413
552F 6855               dw      m02413
5531 6155               dw      m01413
5533 CC55               dw      m0b413
5535 7C55               dw      m03413
5537 D955               dw      m04413
5539 E055               dw      m05413
553B D955               dw      m04413
553D ED55               dw      m0c413
553F D955               dw      m04413
5541 E055               dw      m05413
5543 D955               dw      m04413
5545 F155               dw      m0d413
5547 F855               dw      m06413
5549 F855               dw      m06413
554B F855               dw      m06413
554D 0556               dw      m0e413
554F 0000               dw      mend
5551            
5551            m08413
5551 FF0C00             db      prgcng,s4d3ch01,normal
5554 022E02             db       002,gn5+00,002 ;ch01
5557 042F04             db       004,gs5+00,004 ;ch01
555A 5A2E53             db       090,gn5+00,083 ;ch01
555D 062505             db       006,as4+00,005 ;ch01
5560 00                 db      mend
5561            
5561            m01413
5561 062406             db       006,an4+00,006 ;ch01
5564 062506             db       006,as4+00,006 ;ch01
5567 00                 db      mend
5568            
5568            m02413
5568 0C220B             db       012,gn4+00,011 ;ch01
556B 062206             db       006,gn4+00,006 ;ch01
556E 00                 db      mend
556F            
556F            m09413
556F 0C210B             db       012,fs4+00,011 ;ch01
5572 0D220B             db       013,gn4+00,011 ;ch01
5575 0B240B             db       011,an4+00,011 ;ch01
5578 0C250B             db       012,as4+00,011 ;ch01
557B 00                 db      mend
557C            
557C            m03413
557C 022902             db       002,dn5+00,002 ;ch01
557F 032902             db       003,dn5+00,002 ;ch01
5582 032902             db       003,dn5+00,002 ;ch01
5585 032902             db       003,dn5+00,002 ;ch01
5588 032902             db       003,dn5+00,002 ;ch01
558B 032A02             db       003,ds5+00,002 ;ch01
558E 072903             db       007,dn5+00,003 ;ch01
5591 032402             db       003,an4+00,002 ;ch01
5594 032402             db       003,an4+00,002 ;ch01
5597 032402             db       003,an4+00,002 ;ch01
559A 032402             db       003,an4+00,002 ;ch01
559D 032403             db       003,an4+00,003 ;ch01
55A0 032503             db       003,as4+00,003 ;ch01
55A3 062402             db       006,an4+00,002 ;ch01
55A6 032702             db       003,cn5+00,002 ;ch01
55A9 032702             db       003,cn5+00,002 ;ch01
55AC 032702             db       003,cn5+00,002 ;ch01
55AF 032702             db       003,cn5+00,002 ;ch01
55B2 032702             db       003,cn5+00,002 ;ch01
55B5 032802             db       003,cs5+00,002 ;ch01
55B8 062703             db       006,cn5+00,003 ;ch01
55BB 062706             db       006,cn5+00,006 ;ch01
55BE 062803             db       006,cs5+00,003 ;ch01
55C1 062904             db       006,dn5+00,004 ;ch01
55C4 062A04             db       006,ds5+00,004 ;ch01
55C7 00                 db      mend
55C8            
55C8            m0a413
55C8 062506             db       006,as4+00,006 ;ch01
55CB 00                 db      mend
55CC            
55CC            m0b413
55CC 0C210B             db       012,fs4+00,011 ;ch01
55CF 0C220B             db       012,gn4+00,011 ;ch01
55D2 0C240B             db       012,an4+00,011 ;ch01
55D5 0C250B             db       012,as4+00,011 ;ch01
55D8 00                 db      mend
55D9            
55D9            m04413
55D9 0C1F0C             db       012,en4+00,012 ;ch01
55DC 0C2B08             db       012,en5+00,008 ;ch01
55DF 00                 db      mend
55E0            
55E0            m05413
55E0 062A05             db       006,ds5+00,005 ;ch01
55E3 062B05             db       006,en5+00,005 ;ch01
55E6 062D05             db       006,fs5+00,005 ;ch01
55E9 062E05             db       006,gn5+00,005 ;ch01
55EC 00                 db      mend
55ED            
55ED            m0c413
55ED 182A0E             db       024,ds5+00,014 ;ch01
55F0 00                 db      mend
55F1            
55F1            m0d413
55F1 182A0E             db       024,ds5+00,014 ;ch01
55F4 0C320B             db       012,bn5+00,011 ;ch01
55F7 00                 db      mend
55F8            
55F8            m06413
55F8 0C310B             db       012,as5+00,011 ;ch01
55FB 0C2E0B             db       012,gn5+00,011 ;ch01
55FE 0C2D08             db       012,fs5+00,008 ;ch01
5601 0C320B             db       012,bn5+00,011 ;ch01
5604 00                 db      mend
5605            
5605            m0e413
5605 0C2E0B             db       012,gn5+00,011 ;ch01
5608 0C2A0B             db       012,ds5+00,011 ;ch01
560B 0C2608             db       012,bn4+00,008 ;ch01
560E 00                 db      mend
560F            
560F            ;Driver #4
560F            
560F            ml414 
560F 9556               dw      m01414
5611 9F56               dw      m02414
5613 A656               dw      m03414
5615 9556               dw      m01414
5617 AD56               dw      m04414
5619 B456               dw      m0a414
561B 9F56               dw      m02414
561D AD56               dw      m04414
561F 9F56               dw      m02414
5621 AD56               dw      m04414
5623 9F56               dw      m02414
5625 AD56               dw      m04414
5627 9F56               dw      m02414
5629 AD56               dw      m04414
562B B856               dw      m05414
562D AD56               dw      m04414
562F BF56               dw      m0b414
5631 9556               dw      m01414
5633 AD56               dw      m04414
5635 C356               dw      m06414
5637 9556               dw      m01414
5639 C356               dw      m06414
563B 9556               dw      m01414
563D 9556               dw      m01414
563F 9F56               dw      m02414
5641 AD56               dw      m04414
5643 CA56               dw      m0c414
5645 9556               dw      m01414
5647 D156               dw      m0d414
5649 9556               dw      m01414
564B D556               dw      m0e414
564D 9556               dw      m01414
564F D956               dw      m0f414
5651 9556               dw      m01414
5653 9F56               dw      m02414
5655 DD56               dw      m10414
5657 9556               dw      m01414
5659 9F56               dw      m02414
565B A656               dw      m03414
565D 9556               dw      m01414
565F AD56               dw      m04414
5661 E756               dw      m11414
5663 B856               dw      m05414
5665 9556               dw      m01414
5667 AD56               dw      m04414
5669 EB56               dw      m12414
566B 9F56               dw      m02414
566D AD56               dw      m04414
566F 9F56               dw      m02414
5671 AD56               dw      m04414
5673 B856               dw      m05414
5675 AD56               dw      m04414
5677 EF56               dw      m13414
5679 9556               dw      m01414
567B AD56               dw      m04414
567D F356               dw      m07414
567F F356               dw      m07414
5681 F356               dw      m07414
5683 F356               dw      m07414
5685 F356               dw      m07414
5687 F356               dw      m07414
5689 F356               dw      m07414
568B F356               dw      m07414
568D F356               dw      m07414
568F F356               dw      m07414
5691 FA56               dw      m14414
5693 0000               dw      mend
5695            
5695            m01414
5695 060103             db       006,bassd1,003 ;ch16
5698 060103             db       006,bassd1,003 ;ch16
569B 061203             db       006,snare1,003 ;ch16
569E 00                 db      mend
569F            
569F            m02414
569F 061203             db       006,snare1,003 ;ch16
56A2 060103             db       006,bassd1,003 ;ch16
56A5 00                 db      mend
56A6            
56A6            m03414
56A6 0C0103             db       012,bassd1,003 ;ch16
56A9 061203             db       006,snare1,003 ;ch16
56AC 00                 db      mend
56AD            
56AD            m04414
56AD 060103             db       006,bassd1,003 ;ch16
56B0 060103             db       006,bassd1,003 ;ch16
56B3 00                 db      mend
56B4            
56B4            m0a414
56B4 060103             db       006,bassd1,003 ;ch16
56B7 00                 db      mend
56B8            
56B8            m05414
56B8 061203             db       006,snare1,003 ;ch16
56BB 061203             db       006,snare1,003 ;ch16
56BE 00                 db      mend
56BF            
56BF            m0b414
56BF 0C1203             db       012,snare1,003 ;ch16
56C2 00                 db      mend
56C3            
56C3            m06414
56C3 060103             db       006,bassd1,003 ;ch16
56C6 061203             db       006,snare1,003 ;ch16
56C9 00                 db      mend
56CA            
56CA            m0c414
56CA 061203             db       006,snare1,003 ;ch16
56CD 061203             db       006,snare1,003 ;ch16
56D0 00                 db      mend
56D1            
56D1            m0d414
56D1 061203             db       006,snare1,003 ;ch16
56D4 00                 db      mend
56D5            
56D5            m0e414
56D5 061203             db       006,snare1,003 ;ch16
56D8 00                 db      mend
56D9            
56D9            m0f414
56D9 061203             db       006,snare1,003 ;ch16
56DC 00                 db      mend
56DD            
56DD            m10414
56DD 061203             db       006,snare1,003 ;ch16
56E0 061303             db       006,hitom1,003 ;ch16
56E3 061203             db       006,snare1,003 ;ch16
56E6 00                 db      mend
56E7            
56E7            m11414
56E7 060103             db       006,bassd1,003 ;ch16
56EA 00                 db      mend
56EB            
56EB            m12414
56EB 060103             db       006,bassd1,003 ;ch16
56EE 00                 db      mend
56EF            
56EF            m13414
56EF 0C1203             db       012,snare1,003 ;ch16
56F2 00                 db      mend
56F3            
56F3            m07414
56F3 061803             db       006,handcl,003 ;ch16
56F6 060103             db       006,bassd1,003 ;ch16
56F9 00                 db      mend
56FA            
56FA            m14414
56FA 061805             db       006,handcl,005 ;ch16
56FD 061805             db       006,handcl,005 ;ch16
5700 061203             db       006,snare1,003 ;ch16
5703 00                 db      mend
5704            
5704            ;MIDI events found   = 495
5704            ;records generated   = 185
5704            ;percent compression = 62
5704            ;total bytes output  = 632
0000            ^Z
5704            
5704                    endif
5704            
5704            home4end
03A3            home4size       equ     home4end-home4start
5704            
5704                    ;-------------
5704                    endif
5704                    ;-------------
5704            
5704                    ;-------------
0001                    if      song5                   ; DEAD
5704                    ;-------------
5704            
5704            home5start
5704            
5704            s5d1sl
5704 1457               dw      ml511
5706 FF00               dw      endsng
5708            s5d2sl
5708 3457               dw      ml512
570A FF00               dw      endsng
570C            s5d3sl
570C 5457               dw      ml513
570E FF00               dw      endsng
5710            s5d4sl
5710 7457               dw      ml514
5712 FF00               dw      endsng
5714            
0000                    ifdef   devapd
5714                    else
5714                    include home_s5.sq1
5714            
5714            ;HOME_S5.SQ1
5714            
5714            ;**************
5714            ;*   Song 5   *
5714            ;**************
5714            
5714            
5714            ;******************
5714            ;*   Sequence 1   *
5714            ;******************
5714            
5714            
5714            ;instrument list
5714            
000D            s5d1ch10        equ     home5ins-instyp
000E            s5d2ch06        equ     s5d1ch10+1
000F            s5d3ch01        equ     s5d2ch06+1
5714            
0077            tempo5          equ     119
5714            
5714            ;Driver #1
5714            
5714            ml511 
5714 1857               dw      m02511
5716 0000               dw      mend
5718            
5718            m02511
5718 FF0D00             db      prgcng,s5d1ch10,normal
571B 080F07             db       008,cn3+00,007 ;ch10
571E 080B07             db       008,gs2+00,007 ;ch10
5721 080707             db       008,en2+00,007 ;ch10
5724 280827             db       040,fn2+00,039 ;ch10
5727 070805             db       007,fn2+00,005 ;ch10
572A 0C0806             db       012,fn2+00,006 ;ch10
572D 0B0805             db       011,fn2+00,005 ;ch10
5730 180806             db       024,fn2+00,006 ;ch10
5733 00                 db      mend
5734            
5734            ;Driver #2
5734            
5734            ml512 
5734 3857               dw      m02512
5736 0000               dw      mend
5738            
5738            m02512
5738 FF0E00             db      prgcng,s5d2ch06,normal
573B 082B07             db       008,en5+00,007 ;ch06
573E 082707             db       008,cn5+00,007 ;ch06
5741 082307             db       008,gs4+00,007 ;ch06
5744 282027             db       040,fn4+00,039 ;ch06
5747 072005             db       007,fn4+00,005 ;ch06
574A 0C2006             db       012,fn4+00,006 ;ch06
574D 0B2005             db       011,fn4+00,005 ;ch06
5750 182006             db       024,fn4+00,006 ;ch06
5753 00                 db      mend
5754            
5754            ;Driver #3
5754            
5754            ml513 
5754 5857               dw      m02513
5756 0000               dw      mend
5758            
5758            m02513
5758 FF0F00             db      prgcng,s5d3ch01,normal
575B 082F07             db       008,gs5+00,007 ;ch01
575E 082B07             db       008,en5+00,007 ;ch01
5761 082707             db       008,cn5+00,007 ;ch01
5764 282608             db       040,bn4+00,008 ;ch01
5767 072605             db       007,bn4+00,005 ;ch01
576A 0C2605             db       012,bn4+00,005 ;ch01
576D 0B2605             db       011,bn4+00,005 ;ch01
5770 182605             db       024,bn4+00,005 ;ch01
5773 00                 db      mend
5774            
5774            ;Driver #4
5774            
5774            ml514 
5774 7857               dw      m02514
5776 0000               dw      mend
5778            
5778            m02514
5778 081202             db       008,snare1,002 ;ch16
577B 081204             db       008,snare1,004 ;ch16
577E 081204             db       008,snare1,004 ;ch16
5781 1B1217             db       027,snare1,023 ;ch16
5784 021201             db       002,snare1,001 ;ch16
5787 021201             db       002,snare1,001 ;ch16
578A 091205             db       009,snare1,005 ;ch16
578D 071203             db       007,snare1,003 ;ch16
5790 0C1204             db       012,snare1,004 ;ch16
5793 0B1204             db       011,snare1,004 ;ch16
5796 181204             db       024,snare1,004 ;ch16
5799 00                 db      mend
579A            
579A            ;MIDI events found   = 35
579A            ;records generated   = 32
579A            ;percent compression = 8
579A            ;total bytes output  = 125
0000            ^Z
579A            
579A                    endif
579A            
579A            home5end
0096            home5size       equ     home5end-home5start
579A            
579A                    ;-------------
579A                    endif
579A                    ;-------------
579A            
579A                    ;-------------
0001                    if      song6                   ; acomplsh
579A                    ;-------------
579A            
579A            home6start
579A            
579A            s6d1sl
579A AA57               dw      ml611
579C FF00               dw      endsng
579E            s6d2sl
579E C757               dw      ml612
57A0 FF00               dw      endsng
57A2            s6d3sl
57A2 FA57               dw      ml613
57A4 FF00               dw      endsng
57A6            s6d4sl
57A6 3558               dw      ml614
57A8 FF00               dw      endsng
57AA            
0000                    ifdef   devapd
57AA                    else
57AA                    include home_s6.sq1
57AA            
57AA            ;HOME_S6.SQ1
57AA            
57AA            ;**************
57AA            ;*   Song 6   *
57AA            ;**************
57AA            
57AA            
57AA            ;******************
57AA            ;*   Sequence 1   *
57AA            ;******************
57AA            
57AA            
57AA            ;instrument list
57AA            
0010            s6d1ch10        equ     home6ins-instyp
0011            s6d2ch06        equ     s6d1ch10+1
0012            s6d3ch01        equ     s6d2ch06+1
57AA            
0077            tempo6          equ     119
57AA            
57AA            ;Driver #1
57AA            
57AA            ml611 
57AA AE57               dw      m02611
57AC 0000               dw      mend
57AE            
57AE            m02611
57AE FF1000             db      prgcng,s6d1ch10,normal
57B1 0C1B0B             db       012,cn4+00,011 ;ch10
57B4 0C160B             db       012,gn3+00,011 ;ch10
57B7 0C180B             db       012,an3+00,011 ;ch10
57BA 0C130B             db       012,en3+00,011 ;ch10
57BD 0C140B             db       012,fn3+00,011 ;ch10
57C0 0C160B             db       012,gn3+00,011 ;ch10
57C3 060F05             db       006,cn3+00,005 ;ch10
57C6 00                 db      mend
57C7            
57C7            ;Driver #2
57C7            
57C7            ml612 
57C7 DD57               dw      m01612
57C9 E757               dw      m02612
57CB DD57               dw      m01612
57CD EE57               dw      m05612
57CF E757               dw      m02612
57D1 DD57               dw      m01612
57D3 F257               dw      m06612
57D5 E757               dw      m02612
57D7 E757               dw      m02612
57D9 F657               dw      m07612
57DB 0000               dw      mend
57DD            
57DD            m01612
57DD FF1100             db      prgcng,s6d2ch06,normal
57E0 062E02             db       006,gn5+00,002 ;ch06
57E3 062E02             db       006,gn5+00,002 ;ch06
57E6 00                 db      mend
57E7            
57E7            m02612
57E7 032E02             db       003,gn5+00,002 ;ch06
57EA 033002             db       003,an5+00,002 ;ch06
57ED 00                 db      mend
57EE            
57EE            m05612
57EE 062E02             db       006,gn5+00,002 ;ch06
57F1 00                 db      mend
57F2            
57F2            m06612
57F2 062E02             db       006,gn5+00,002 ;ch06
57F5 00                 db      mend
57F6            
57F6            m07612
57F6 063302             db       006,cn6+00,002 ;ch06
57F9 00                 db      mend
57FA            
57FA            ;Driver #3
57FA            
57FA            ml613 
57FA FE57               dw      m02613
57FC 0000               dw      mend
57FE            
57FE            m02613
57FE FF1200             db      prgcng,s6d3ch01,normal
5801 062B03             db       006,en5+00,003 ;ch01
5804 062B03             db       006,en5+00,003 ;ch01
5807 032B03             db       003,en5+00,003 ;ch01
580A 032A03             db       003,ds5+00,003 ;ch01
580D 062B03             db       006,en5+00,003 ;ch01
5810 063303             db       006,cn6+00,003 ;ch01
5813 063303             db       006,cn6+00,003 ;ch01
5816 033303             db       003,cn6+00,003 ;ch01
5819 033202             db       003,bn5+00,002 ;ch01
581C 063303             db       006,cn6+00,003 ;ch01
581F 063703             db       006,en6+00,003 ;ch01
5822 063703             db       006,en6+00,003 ;ch01
5825 033703             db       003,en6+00,003 ;ch01
5828 033603             db       003,ds6+00,003 ;ch01
582B 033703             db       003,en6+00,003 ;ch01
582E 033A03             db       003,gn6+00,003 ;ch01
5831 063303             db       006,cn6+00,003 ;ch01
5834 00                 db      mend
5835            
5835            ;Driver #4
5835            
5835            ml614 
5835 3F58               dw      m01614
5837 3F58               dw      m01614
5839 3F58               dw      m01614
583B 4F58               dw      m04614
583D 0000               dw      mend
583F            
583F            m01614
583F 061202             db       006,snare1,002 ;ch16
5842 031202             db       003,snare1,002 ;ch16
5845 031202             db       003,snare1,002 ;ch16
5848 061202             db       006,snare1,002 ;ch16
584B 061202             db       006,snare1,002 ;ch16
584E 00                 db      mend
584F            
584F            m04614
584F 061202             db       006,snare1,002 ;ch16
5852 00                 db      mend
5853            
5853            ;MIDI events found   = 57
5853            ;records generated   = 34
5853            ;percent compression = 40
5853            ;total bytes output  = 136
0000            ^Z
5853            
5853                    endif
5853            
5853            home6end
00B9            home6size       equ     home6end-home6start
5853            
5853                    ;-------------
5853                    endif
5853                    ;-------------
5853            
5853                    ;-------------
0001                    if      song7                   ; MemryRun
5853                    ;-------------
5853            
5853            home7start
5853            
5853            s7d1sl
5853 6358               dw      ml711
5855 0000               dw      sloop0
5857            s7d2sl
5857 8E59               dw      ml712
5859 0000               dw      sloop0
585B            s7d3sl
585B 255B               dw      ml713
585D 0000               dw      sloop0
585F            s7d4sl
585F 605C               dw      ml714
5861 0000               dw      sloop0
5863            
0000                    ifdef   devapd
5863                    else
5863                    include home_s7.sq1
5863            
5863            ;HOME_S7.SQ1
5863            
5863            ;**************
5863            ;*   Song 7   *
5863            ;**************
5863            
5863            
5863            ;******************
5863            ;*   Sequence 1   *
5863            ;******************
5863            
5863            
5863            ;instrument list
5863            
0013            s7d1ch08        equ     home7ins-instyp
0014            s7d2ch06        equ     s7d1ch08+1
0015            s7d3ch07        equ     s7d2ch06+1
5863            
0087            tempo7          equ     135
5863            
5863            ;Driver #1
5863            
5863            ml711 
5863 C158               dw      m01711
5865 C158               dw      m01711
5867 C158               dw      m01711
5869 D158               dw      m02711
586B C158               dw      m01711
586D C158               dw      m01711
586F D158               dw      m02711
5871 C158               dw      m01711
5873 C158               dw      m01711
5875 C158               dw      m01711
5877 C158               dw      m01711
5879 D158               dw      m02711
587B C158               dw      m01711
587D C158               dw      m01711
587F D158               dw      m02711
5881 DE58               dw      m0e711
5883 E558               dw      m03711
5885 E558               dw      m03711
5887 FE58               dw      m04711
5889 FE58               dw      m04711
588B E558               dw      m03711
588D E558               dw      m03711
588F FE58               dw      m04711
5891 1759               dw      m0f711
5893 2A59               dw      m05711
5895 3A59               dw      m06711
5897 2A59               dw      m05711
5899 4459               dw      m07711
589B 4B59               dw      m08711
589D 5E59               dw      m10711
589F 6B59               dw      m09711
58A1 7259               dw      m0a711
58A3 6B59               dw      m09711
58A5 7959               dw      m0b711
58A7 4459               dw      m07711
58A9 8059               dw      m11711
58AB 3A59               dw      m06711
58AD 2A59               dw      m05711
58AF 4459               dw      m07711
58B1 4B59               dw      m08711
58B3 6B59               dw      m09711
58B5 7959               dw      m0b711
58B7 6B59               dw      m09711
58B9 7259               dw      m0a711
58BB 6B59               dw      m09711
58BD 8759               dw      m12711
58BF 0000               dw      mend
58C1            
58C1            m01711
58C1 FF1300             db      prgcng,s7d1ch08,normal
58C4 060F05             db       006,cn3+00,005 ;ch08
58C7 061605             db       006,gn3+00,005 ;ch08
58CA 061305             db       006,en3+00,005 ;ch08
58CD 061602             db       006,gn3+00,002 ;ch08
58D0 00                 db      mend
58D1            
58D1            m02711
58D1 060E05             db       006,bn2+00,005 ;ch08
58D4 061605             db       006,gn3+00,005 ;ch08
58D7 061105             db       006,dn3+00,005 ;ch08
58DA 061608             db       006,gn3+00,008 ;ch08
58DD 00                 db      mend
58DE            
58DE            m0e711
58DE 180F05             db       024,cn3+00,005 ;ch08
58E1 061205             db       006,ds3+00,005 ;ch08
58E4 00                 db      mend
58E5            
58E5            m03711
58E5 061503             db       006,fs3+00,003 ;ch08
58E8 061003             db       006,cs3+00,003 ;ch08
58EB 061503             db       006,fs3+00,003 ;ch08
58EE 060E05             db       006,bn2+00,005 ;ch08
58F1 061505             db       006,fs3+00,005 ;ch08
58F4 060D03             db       006,as2+00,003 ;ch08
58F7 061503             db       006,fs3+00,003 ;ch08
58FA 061203             db       006,ds3+00,003 ;ch08
58FD 00                 db      mend
58FE            
58FE            m04711
58FE 061605             db       006,gn3+00,005 ;ch08
5901 061105             db       006,dn3+00,005 ;ch08
5904 061605             db       006,gn3+00,005 ;ch08
5907 060F0B             db       006,cn3+00,011 ;ch08
590A 061605             db       006,gn3+00,005 ;ch08
590D 060D0B             db       006,as2+00,011 ;ch08
5910 061605             db       006,gn3+00,005 ;ch08
5913 06120B             db       006,ds3+00,011 ;ch08
5916 00                 db      mend
5917            
5917            m0f711
5917 061603             db       006,gn3+00,003 ;ch08
591A 061105             db       006,dn3+00,005 ;ch08
591D 061605             db       006,gn3+00,005 ;ch08
5920 061205             db       006,ds3+00,005 ;ch08
5923 061605             db       006,gn3+00,005 ;ch08
5926 061605             db       006,gn3+00,005 ;ch08
5929 00                 db      mend
592A            
592A            m05711
592A 061903             db       006,as3+00,003 ;ch08
592D 061503             db       006,fs3+00,003 ;ch08
5930 061903             db       006,as3+00,003 ;ch08
5933 061403             db       006,fn3+00,003 ;ch08
5936 061903             db       006,as3+00,003 ;ch08
5939 00                 db      mend
593A            
593A            m06711
593A 061203             db       006,ds3+00,003 ;ch08
593D 061903             db       006,as3+00,003 ;ch08
5940 061005             db       006,cs3+00,005 ;ch08
5943 00                 db      mend
5944            
5944            m07711
5944 061505             db       006,fs3+00,005 ;ch08
5947 061905             db       006,as3+00,005 ;ch08
594A 00                 db      mend
594B            
594B            m08711
594B 061705             db       006,gs3+00,005 ;ch08
594E 061903             db       006,as3+00,003 ;ch08
5951 061605             db       006,gn3+00,005 ;ch08
5954 061A05             db       006,bn3+00,005 ;ch08
5957 061505             db       006,fs3+00,005 ;ch08
595A 061A05             db       006,bn3+00,005 ;ch08
595D 00                 db      mend
595E            
595E            m10711
595E 061305             db       006,en3+00,005 ;ch08
5961 061A05             db       006,bn3+00,005 ;ch08
5964 061105             db       006,dn3+00,005 ;ch08
5967 061A05             db       006,bn3+00,005 ;ch08
596A 00                 db      mend
596B            
596B            m09711
596B 061605             db       006,gn3+00,005 ;ch08
596E 061A05             db       006,bn3+00,005 ;ch08
5971 00                 db      mend
5972            
5972            m0a711
5972 061505             db       006,fs3+00,005 ;ch08
5975 061A05             db       006,bn3+00,005 ;ch08
5978 00                 db      mend
5979            
5979            m0b711
5979 061805             db       006,an3+00,005 ;ch08
597C 061A05             db       006,bn3+00,005 ;ch08
597F 00                 db      mend
5980            
5980            m11711
5980 061405             db       006,fn3+00,005 ;ch08
5983 061903             db       006,as3+00,003 ;ch08
5986 00                 db      mend
5987            
5987            m12711
5987 061A05             db       006,bn3+00,005 ;ch08
598A 061D05             db       006,dn4+00,005 ;ch08
598D 00                 db      mend
598E            
598E            ;Driver #2
598E            
598E            ml712 
598E DC59               dw      m01712
5990 E659               dw      m02712
5992 E659               dw      m02712
5994 F359               dw      m0c712
5996 005A               dw      m03712
5998 DC59               dw      m01712
599A 005A               dw      m03712
599C DC59               dw      m01712
599E 075A               dw      m04712
59A0 DC59               dw      m01712
59A2 0E5A               dw      m0d712
59A4 DC59               dw      m01712
59A6 005A               dw      m03712
59A8 DC59               dw      m01712
59AA 005A               dw      m03712
59AC 125A               dw      m0e712
59AE 005A               dw      m03712
59B0 DC59               dw      m01712
59B2 075A               dw      m04712
59B4 375A               dw      m0f712
59B6 445A               dw      m05712
59B8 4B5A               dw      m10712
59BA 525A               dw      m06712
59BC 895A               dw      m11712
59BE 445A               dw      m05712
59C0 8D5A               dw      m12712
59C2 445A               dw      m05712
59C4 945A               dw      m13712
59C6 525A               dw      m06712
59C8 985A               dw      m07712
59CA C95A               dw      m08712
59CC D35A               dw      m14712
59CE C95A               dw      m08712
59D0 D75A               dw      m15712
59D2 985A               dw      m07712
59D4 E45A               dw      m09712
59D6 E45A               dw      m09712
59D8 EB5A               dw      m16712
59DA 0000               dw      mend
59DC            
59DC            m01712
59DC FF1400             db      prgcng,s7d2ch06,normal
59DF 061F02             db       006,en4+00,002 ;ch06
59E2 062202             db       006,gn4+00,002 ;ch06
59E5 00                 db      mend
59E6            
59E6            m02712
59E6 061F02             db       006,en4+00,002 ;ch06
59E9 062702             db       006,cn5+00,002 ;ch06
59EC 061B02             db       006,cn4+00,002 ;ch06
59EF 062202             db       006,gn4+00,002 ;ch06
59F2 00                 db      mend
59F3            
59F3            m0c712
59F3 061F02             db       006,en4+00,002 ;ch06
59F6 062702             db       006,cn5+00,002 ;ch06
59F9 0C2002             db       012,fn4+00,002 ;ch06
59FC 0C1F02             db       012,en4+00,002 ;ch06
59FF 00                 db      mend
5A00            
5A00            m03712
5A00 061B02             db       006,cn4+00,002 ;ch06
5A03 062202             db       006,gn4+00,002 ;ch06
5A06 00                 db      mend
5A07            
5A07            m04712
5A07 061D02             db       006,dn4+00,002 ;ch06
5A0A 062002             db       006,fn4+00,002 ;ch06
5A0D 00                 db      mend
5A0E            
5A0E            m0d712
5A0E 181B02             db       024,cn4+00,002 ;ch06
5A11 00                 db      mend
5A12            
5A12            m0e712
5A12 062002             db       006,fn4+00,002 ;ch06
5A15 062202             db       006,gn4+00,002 ;ch06
5A18 061F02             db       006,en4+00,002 ;ch06
5A1B 062002             db       006,fn4+00,002 ;ch06
5A1E 061D02             db       006,dn4+00,002 ;ch06
5A21 061F02             db       006,en4+00,002 ;ch06
5A24 061F02             db       006,en4+00,002 ;ch06
5A27 062202             db       006,gn4+00,002 ;ch06
5A2A 061B02             db       006,cn4+00,002 ;ch06
5A2D 061D02             db       006,dn4+00,002 ;ch06
5A30 062202             db       006,gn4+00,002 ;ch06
5A33 061F02             db       006,en4+00,002 ;ch06
5A36 00                 db      mend
5A37            
5A37            m0f712
5A37 061F02             db       006,en4+00,002 ;ch06
5A3A 061D02             db       006,dn4+00,002 ;ch06
5A3D 3C1B02             db       060,cn4+00,002 ;ch06
5A40 061E05             db       006,ds4+00,005 ;ch06
5A43 00                 db      mend
5A44            
5A44            m05712
5A44 062003             db       006,fn4+00,003 ;ch06
5A47 062105             db       006,fs4+00,005 ;ch06
5A4A 00                 db      mend
5A4B            
5A4B            m10712
5A4B 062303             db       006,gs4+00,003 ;ch06
5A4E 0C2505             db       012,as4+00,005 ;ch06
5A51 00                 db      mend
5A52            
5A52            m06712
5A52 031E03             db       003,ds4+00,003 ;ch06
5A55 032003             db       003,fn4+00,003 ;ch06
5A58 032103             db       003,fs4+00,003 ;ch06
5A5B 032303             db       003,gs4+00,003 ;ch06
5A5E 032503             db       003,as4+00,003 ;ch06
5A61 032903             db       003,dn5+00,003 ;ch06
5A64 062A03             db       006,ds5+00,003 ;ch06
5A67 0C2A03             db       012,ds5+00,003 ;ch06
5A6A 062903             db       006,dn5+00,003 ;ch06
5A6D 062A03             db       006,ds5+00,003 ;ch06
5A70 0C2505             db       012,as4+00,005 ;ch06
5A73 0C2A05             db       012,ds5+00,005 ;ch06
5A76 062902             db       006,dn5+00,002 ;ch06
5A79 062A02             db       006,ds5+00,002 ;ch06
5A7C 0C2505             db       012,as4+00,005 ;ch06
5A7F 0C2A05             db       012,ds5+00,005 ;ch06
5A82 062902             db       006,dn5+00,002 ;ch06
5A85 062A02             db       006,ds5+00,002 ;ch06
5A88 00                 db      mend
5A89            
5A89            m11712
5A89 0C2105             db       012,fs4+00,005 ;ch06
5A8C 00                 db      mend
5A8D            
5A8D            m12712
5A8D 0C1E02             db       012,ds4+00,002 ;ch06
5A90 0C2105             db       012,fs4+00,005 ;ch06
5A93 00                 db      mend
5A94            
5A94            m13712
5A94 0C1E02             db       012,ds4+00,002 ;ch06
5A97 00                 db      mend
5A98            
5A98            m07712
5A98 062502             db       006,as4+00,002 ;ch06
5A9B 062802             db       006,cs5+00,002 ;ch06
5A9E 062302             db       006,gs4+00,002 ;ch06
5AA1 062502             db       006,as4+00,002 ;ch06
5AA4 062102             db       006,fs4+00,002 ;ch06
5AA7 062502             db       006,as4+00,002 ;ch06
5AAA 061C02             db       006,cs4+00,002 ;ch06
5AAD 062502             db       006,as4+00,002 ;ch06
5AB0 062502             db       006,as4+00,002 ;ch06
5AB3 062802             db       006,cs5+00,002 ;ch06
5AB6 062302             db       006,gs4+00,002 ;ch06
5AB9 062502             db       006,as4+00,002 ;ch06
5ABC 062102             db       006,fs4+00,002 ;ch06
5ABF 062502             db       006,as4+00,002 ;ch06
5AC2 061C02             db       006,cs4+00,002 ;ch06
5AC5 062502             db       006,as4+00,002 ;ch06
5AC8 00                 db      mend
5AC9            
5AC9            m08712
5AC9 0C2E08             db       012,gn5+00,008 ;ch06
5ACC 062D02             db       006,fs5+00,002 ;ch06
5ACF 062E02             db       006,gn5+00,002 ;ch06
5AD2 00                 db      mend
5AD3            
5AD3            m14712
5AD3 0C2B02             db       012,en5+00,002 ;ch06
5AD6 00                 db      mend
5AD7            
5AD7            m15712
5AD7 062B02             db       006,en5+00,002 ;ch06
5ADA 0C2E05             db       012,gn5+00,005 ;ch06
5ADD 062D05             db       006,fs5+00,005 ;ch06
5AE0 0C2E05             db       012,gn5+00,005 ;ch06
5AE3 00                 db      mend
5AE4            
5AE4            m09712
5AE4 062602             db       006,bn4+00,002 ;ch06
5AE7 062202             db       006,gn4+00,002 ;ch06
5AEA 00                 db      mend
5AEB            
5AEB            m16712
5AEB 062E02             db       006,gn5+00,002 ;ch06
5AEE 062902             db       006,dn5+00,002 ;ch06
5AF1 0C2902             db       012,dn5+00,002 ;ch06
5AF4 032E02             db       003,gn5+00,002 ;ch06
5AF7 032D02             db       003,fs5+00,002 ;ch06
5AFA 032B02             db       003,en5+00,002 ;ch06
5AFD 032A02             db       003,ds5+00,002 ;ch06
5B00 032902             db       003,dn5+00,002 ;ch06
5B03 032702             db       003,cn5+00,002 ;ch06
5B06 032602             db       003,bn4+00,002 ;ch06
5B09 032402             db       003,an4+00,002 ;ch06
5B0C 032402             db       003,an4+00,002 ;ch06
5B0F 032602             db       003,bn4+00,002 ;ch06
5B12 032702             db       003,cn5+00,002 ;ch06
5B15 032902             db       003,dn5+00,002 ;ch06
5B18 032A02             db       003,ds5+00,002 ;ch06
5B1B 032B02             db       003,en5+00,002 ;ch06
5B1E 032D02             db       003,fs5+00,002 ;ch06
5B21 032E02             db       003,gn5+00,002 ;ch06
5B24 00                 db      mend
5B25            
5B25            ;Driver #3
5B25            
5B25            ml713 
5B25 8D5B               dw      m01713
5B27 8D5B               dw      m01713
5B29 975B               dw      m02713
5B2B 9E5B               dw      m0f713
5B2D 8D5B               dw      m01713
5B2F 8D5B               dw      m01713
5B31 8D5B               dw      m01713
5B33 A25B               dw      m10713
5B35 A95B               dw      m03713
5B37 B65B               dw      m11713
5B39 A95B               dw      m03713
5B3B 975B               dw      m02713
5B3D BA5B               dw      m12713
5B3F A95B               dw      m03713
5B41 C75B               dw      m13713
5B43 A95B               dw      m03713
5B45 CB5B               dw      m04713
5B47 D25B               dw      m14713
5B49 DF5B               dw      m05713
5B4B DF5B               dw      m05713
5B4D EC5B               dw      m06713
5B4F CB5B               dw      m04713
5B51 F65B               dw      m07713
5B53 CB5B               dw      m04713
5B55 F65B               dw      m07713
5B57 CB5B               dw      m04713
5B59 FD5B               dw      m15713
5B5B DF5B               dw      m05713
5B5D DF5B               dw      m05713
5B5F EC5B               dw      m06713
5B61 CB5B               dw      m04713
5B63 F65B               dw      m07713
5B65 CB5B               dw      m04713
5B67 F65B               dw      m07713
5B69 CB5B               dw      m04713
5B6B 015C               dw      m08713
5B6D 015C               dw      m08713
5B6F 0E5C               dw      m16713
5B71 155C               dw      m09713
5B73 155C               dw      m09713
5B75 225C               dw      m17713
5B77 2F5C               dw      m0a713
5B79 395C               dw      m18713
5B7B 2F5C               dw      m0a713
5B7D 3D5C               dw      m19713
5B7F 445C               dw      m0b713
5B81 4E5C               dw      m1a713
5B83 445C               dw      m0b713
5B85 525C               dw      m0c713
5B87 595C               dw      m1b713
5B89 525C               dw      m0c713
5B8B 0000               dw      mend
5B8D            
5B8D            m01713
5B8D FF1500             db      prgcng,s7d3ch07,normal
5B90 062E02             db       006,gn5+00,002 ;ch07
5B93 062B02             db       006,en5+00,002 ;ch07
5B96 00                 db      mend
5B97            
5B97            m02713
5B97 063305             db       006,cn6+00,005 ;ch07
5B9A 062E02             db       006,gn5+00,002 ;ch07
5B9D 00                 db      mend
5B9E            
5B9E            m0f713
5B9E 3C2B05             db       060,en5+00,005 ;ch07
5BA1 00                 db      mend
5BA2            
5BA2            m10713
5BA2 3C2705             db       060,cn5+00,005 ;ch07
5BA5 032702             db       003,cn5+00,002 ;ch07
5BA8 00                 db      mend
5BA9            
5BA9            m03713
5BA9 032902             db       003,dn5+00,002 ;ch07
5BAC 032B02             db       003,en5+00,002 ;ch07
5BAF 032C02             db       003,fn5+00,002 ;ch07
5BB2 0C2E02             db       012,gn5+00,002 ;ch07
5BB5 00                 db      mend
5BB6            
5BB6            m11713
5BB6 032705             db       003,cn5+00,005 ;ch07
5BB9 00                 db      mend
5BBA            
5BBA            m12713
5BBA 063005             db       006,an5+00,005 ;ch07
5BBD 062C02             db       006,fn5+00,002 ;ch07
5BC0 182E02             db       024,gn5+00,002 ;ch07
5BC3 032703             db       003,cn5+00,003 ;ch07
5BC6 00                 db      mend
5BC7            
5BC7            m13713
5BC7 032703             db       003,cn5+00,003 ;ch07
5BCA 00                 db      mend
5BCB            
5BCB            m04713
5BCB 062D02             db       006,fs5+00,002 ;ch07
5BCE 062E02             db       006,gn5+00,002 ;ch07
5BD1 00                 db      mend
5BD2            
5BD2            m14713
5BD2 063002             db       006,an5+00,002 ;ch07
5BD5 063202             db       006,bn5+00,002 ;ch07
5BD8 183302             db       024,cn6+00,002 ;ch07
5BDB 0C2A05             db       012,ds5+00,005 ;ch07
5BDE 00                 db      mend
5BDF            
5BDF            m05713
5BDF 062902             db       006,dn5+00,002 ;ch07
5BE2 062A02             db       006,ds5+00,002 ;ch07
5BE5 0C2502             db       012,as4+00,002 ;ch07
5BE8 0C2A05             db       012,ds5+00,005 ;ch07
5BEB 00                 db      mend
5BEC            
5BEC            m06713
5BEC 062905             db       006,dn5+00,005 ;ch07
5BEF 062A02             db       006,ds5+00,002 ;ch07
5BF2 0C2E0B             db       012,gn5+00,011 ;ch07
5BF5 00                 db      mend
5BF6            
5BF6            m07713
5BF6 0C2A08             db       012,ds5+00,008 ;ch07
5BF9 0C2E08             db       012,gn5+00,008 ;ch07
5BFC 00                 db      mend
5BFD            
5BFD            m15713
5BFD 0C2A05             db       012,ds5+00,005 ;ch07
5C00 00                 db      mend
5C01            
5C01            m08713
5C01 0C3105             db       012,as5+00,005 ;ch07
5C04 063005             db       006,an5+00,005 ;ch07
5C07 063105             db       006,as5+00,005 ;ch07
5C0A 0C2D05             db       012,fs5+00,005 ;ch07
5C0D 00                 db      mend
5C0E            
5C0E            m16713
5C0E 0C3405             db       012,cs6+00,005 ;ch07
5C11 0C3105             db       012,as5+00,005 ;ch07
5C14 00                 db      mend
5C15            
5C15            m09713
5C15 0C3205             db       012,bn5+00,005 ;ch07
5C18 063105             db       006,as5+00,005 ;ch07
5C1B 063203             db       006,bn5+00,003 ;ch07
5C1E 0C2E05             db       012,gn5+00,005 ;ch07
5C21 00                 db      mend
5C22            
5C22            m17713
5C22 0C3205             db       012,bn5+00,005 ;ch07
5C25 063105             db       006,as5+00,005 ;ch07
5C28 063205             db       006,bn5+00,005 ;ch07
5C2B 0C3405             db       012,cs6+00,005 ;ch07
5C2E 00                 db      mend
5C2F            
5C2F            m0a713
5C2F 063305             db       006,cn6+00,005 ;ch07
5C32 063403             db       006,cs6+00,003 ;ch07
5C35 0C3105             db       012,as5+00,005 ;ch07
5C38 00                 db      mend
5C39            
5C39            m18713
5C39 0C3405             db       012,cs6+00,005 ;ch07
5C3C 00                 db      mend
5C3D            
5C3D            m19713
5C3D 0C3905             db       012,fs6+00,005 ;ch07
5C40 0C3405             db       012,cs6+00,005 ;ch07
5C43 00                 db      mend
5C44            
5C44            m0b713
5C44 0C3505             db       012,dn6+00,005 ;ch07
5C47 063405             db       006,cs6+00,005 ;ch07
5C4A 063505             db       006,dn6+00,005 ;ch07
5C4D 00                 db      mend
5C4E            
5C4E            m1a713
5C4E 0C3205             db       012,bn5+00,005 ;ch07
5C51 00                 db      mend
5C52            
5C52            m0c713
5C52 063205             db       006,bn5+00,005 ;ch07
5C55 063505             db       006,dn6+00,005 ;ch07
5C58 00                 db      mend
5C59            
5C59            m1b713
5C59 063405             db       006,cs6+00,005 ;ch07
5C5C 063505             db       006,dn6+00,005 ;ch07
5C5F 00                 db      mend
5C60            
5C60            ;Driver #4
5C60            
5C60            ml714 
5C60 085D               dw      m01714
5C62 085D               dw      m01714
5C64 085D               dw      m01714
5C66 085D               dw      m01714
5C68 085D               dw      m01714
5C6A 085D               dw      m01714
5C6C 085D               dw      m01714
5C6E 085D               dw      m01714
5C70 085D               dw      m01714
5C72 085D               dw      m01714
5C74 085D               dw      m01714
5C76 085D               dw      m01714
5C78 085D               dw      m01714
5C7A 085D               dw      m01714
5C7C 155D               dw      m07714
5C7E 1C5D               dw      m02714
5C80 235D               dw      m08714
5C82 1C5D               dw      m02714
5C84 1C5D               dw      m02714
5C86 1C5D               dw      m02714
5C88 1C5D               dw      m02714
5C8A 1C5D               dw      m02714
5C8C 1C5D               dw      m02714
5C8E 1C5D               dw      m02714
5C90 1C5D               dw      m02714
5C92 1C5D               dw      m02714
5C94 1C5D               dw      m02714
5C96 1C5D               dw      m02714
5C98 1C5D               dw      m02714
5C9A 1C5D               dw      m02714
5C9C 1C5D               dw      m02714
5C9E 2D5D               dw      m03714
5CA0 1C5D               dw      m02714
5CA2 1C5D               dw      m02714
5CA4 1C5D               dw      m02714
5CA6 1C5D               dw      m02714
5CA8 1C5D               dw      m02714
5CAA 1C5D               dw      m02714
5CAC 1C5D               dw      m02714
5CAE 1C5D               dw      m02714
5CB0 1C5D               dw      m02714
5CB2 1C5D               dw      m02714
5CB4 1C5D               dw      m02714
5CB6 1C5D               dw      m02714
5CB8 1C5D               dw      m02714
5CBA 1C5D               dw      m02714
5CBC 1C5D               dw      m02714
5CBE 2D5D               dw      m03714
5CC0 1C5D               dw      m02714
5CC2 1C5D               dw      m02714
5CC4 1C5D               dw      m02714
5CC6 1C5D               dw      m02714
5CC8 1C5D               dw      m02714
5CCA 1C5D               dw      m02714
5CCC 1C5D               dw      m02714
5CCE 1C5D               dw      m02714
5CD0 1C5D               dw      m02714
5CD2 1C5D               dw      m02714
5CD4 1C5D               dw      m02714
5CD6 1C5D               dw      m02714
5CD8 1C5D               dw      m02714
5CDA 1C5D               dw      m02714
5CDC 1C5D               dw      m02714
5CDE 1C5D               dw      m02714
5CE0 1C5D               dw      m02714
5CE2 1C5D               dw      m02714
5CE4 1C5D               dw      m02714
5CE6 1C5D               dw      m02714
5CE8 1C5D               dw      m02714
5CEA 1C5D               dw      m02714
5CEC 1C5D               dw      m02714
5CEE 1C5D               dw      m02714
5CF0 2D5D               dw      m03714
5CF2 2D5D               dw      m03714
5CF4 345D               dw      m09714
5CF6 2D5D               dw      m03714
5CF8 1C5D               dw      m02714
5CFA 1C5D               dw      m02714
5CFC 1C5D               dw      m02714
5CFE 385D               dw      m0a714
5D00 3F5D               dw      m04714
5D02 3F5D               dw      m04714
5D04 465D               dw      m0b714
5D06 0000               dw      mend
5D08            
5D08            m01714
5D08 061803             db       006,handcl,003 ;ch16
5D0B 061803             db       006,handcl,003 ;ch16
5D0E 061303             db       006,hitom1,003 ;ch16
5D11 061303             db       006,hitom1,003 ;ch16
5D14 00                 db      mend
5D15            
5D15            m07714
5D15 061803             db       006,handcl,003 ;ch16
5D18 061805             db       006,handcl,005 ;ch16
5D1B 00                 db      mend
5D1C            
5D1C            m02714
5D1C 061305             db       006,hitom1,005 ;ch16
5D1F 061803             db       006,handcl,003 ;ch16
5D22 00                 db      mend
5D23            
5D23            m08714
5D23 0C1305             db       012,hitom1,005 ;ch16
5D26 0C1303             db       012,hitom1,003 ;ch16
5D29 061805             db       006,handcl,005 ;ch16
5D2C 00                 db      mend
5D2D            
5D2D            m03714
5D2D 061303             db       006,hitom1,003 ;ch16
5D30 061303             db       006,hitom1,003 ;ch16
5D33 00                 db      mend
5D34            
5D34            m09714
5D34 061803             db       006,handcl,003 ;ch16
5D37 00                 db      mend
5D38            
5D38            m0a714
5D38 061303             db       006,hitom1,003 ;ch16
5D3B 031805             db       003,handcl,005 ;ch16
5D3E 00                 db      mend
5D3F            
5D3F            m04714
5D3F 031303             db       003,hitom1,003 ;ch16
5D42 031305             db       003,hitom1,005 ;ch16
5D45 00                 db      mend
5D46            
5D46            m0b714
5D46 031303             db       003,hitom1,003 ;ch16
5D49 00                 db      mend
5D4A            
5D4A            ;MIDI events found   = 685
5D4A            ;records generated   = 241
5D4A            ;percent compression = 64
5D4A            ;total bytes output  = 818
5D4A            
0000            ^Z
5D4A            
5D4A                    endif
5D4A            
5D4A            home7end
04F7            home7size       equ     home7end-home7start
5D4A            
5D4A                    ;-------------
5D4A                    endif
5D4A                    ;-------------
5D4A            
5D4A            ;--------------------------------------
5D4A            ;
5D4A            ;     Tempo Specifications
5D4A            ;
5D4A            ;--------------------------------------
5D4A            
5D49            tempos  equ     $-1             ;song tempos
5D4A                    ;-------------
0001                    if      song1
5D4A                    ;-------------
5D4A 63                 db      tempo1
5D4B                    ;-------------
5D4B                    endif
5D4B                    ;-------------
5D4B                    ;-------------
0001                    if      song2
5D4B                    ;-------------
5D4B 9A                 db      tempo2
5D4C                    ;-------------
5D4C                    endif
5D4C                    ;-------------
5D4C                    ;-------------
0001                    if      song3
5D4C                    ;-------------
5D4C 9A                 db      tempo3
5D4D                    ;-------------
5D4D                    endif
5D4D                    ;-------------
5D4D                    ;-------------
0001                    if      song4
5D4D                    ;-------------
5D4D 65                 db      tempo4
5D4E                    ;-------------
5D4E                    endif
5D4E                    ;-------------
5D4E                    ;-------------
0001                    if      song5
5D4E                    ;-------------
5D4E 77                 db      tempo5
5D4F                    ;-------------
5D4F                    endif
5D4F                    ;-------------
5D4F                    ;-------------
0001                    if      song6
5D4F                    ;-------------
5D4F 77                 db      tempo6
5D50                    ;-------------
5D50                    endif
5D50                    ;-------------
5D50                    ;-------------
0001                    if      song7
5D50                    ;-------------
5D50 87                 db      tempo7
5D51                    ;-------------
5D51                    endif
5D51                    ;-------------
5D51            ;
0000            ^Z
5D51            
5D51            
5D51            endmus
5D51            
0000                    if $>$5d80
5D51                    endif
5D51            
5D51            
5D51                    dumpsym "mus.sym"
5D51            
5D51            
0000                    end
